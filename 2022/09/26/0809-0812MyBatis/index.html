<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.7.0" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.7.0" type="image/png" sizes="32x32"><meta property="og:type" content="article">
<meta property="og:title" content="Mybatis">
<meta property="og:url" content="https://www.yanggroup.cn/2022/09/26/0809-0812MyBatis/index.html">
<meta property="og:site_name" content="YangGroup">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-09-26T14:46:45.895Z">
<meta property="article:modified_time" content="2022-09-26T14:46:40.918Z">
<meta property="article:author" content="小宇">
<meta name="twitter:card" content="summary"><title>Mybatis | YangGroup</title><link ref="canonical" href="https://www.yanggroup.cn/2022/09/26/0809-0812MyBatis/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.7.0"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":true},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">YangGroup</div><div class="header-banner-info__subtitle"></div></div><div class="header-banner-arrow"><div class="header-banner-arrow__icon"><i class="fas fa-angle-down"></i></div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">Mybatis</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2022-09-26</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2022-09-26</span></span></div></header><div class="post-body">
        <h1 id="Mybatis"   >
          <a href="#Mybatis" class="heading-link"><i class="fas fa-link"></i></a><a href="#Mybatis" class="headerlink" title="Mybatis"></a><span id="more"></span>Mybatis</h1>
      
        <h1 id="8-9来自劳姐的赞助"   >
          <a href="#8-9来自劳姐的赞助" class="heading-link"><i class="fas fa-link"></i></a><a href="#8-9来自劳姐的赞助" class="headerlink" title="8-9来自劳姐的赞助"></a>8-9<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://gitee.com/laohuiya" >来自劳姐的赞助</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></h1>
      
        <h2 id="为什么使用它不用JDBC"   >
          <a href="#为什么使用它不用JDBC" class="heading-link"><i class="fas fa-link"></i></a><a href="#为什么使用它不用JDBC" class="headerlink" title="为什么使用它不用JDBC"></a>为什么使用它不用JDBC</h2>
      <p>JDBC的重复代码太多 ；大多数ORM框架的底层都是JDBC ,只是将JDBC中重复代码封装起来供我们调用</p>

        <h2 id="ORM框架-对象关系映射"   >
          <a href="#ORM框架-对象关系映射" class="heading-link"><i class="fas fa-link"></i></a><a href="#ORM框架-对象关系映射" class="headerlink" title="ORM框架:对象关系映射"></a>ORM框架:对象关系映射</h2>
      <p>全称Object Relational Mapping，简称ORM，或O&#x2F;RM，或O&#x2F;R mapping；</p>
<p>是一种<strong>程序设计技术</strong>，用于实现面向对象编程语言里<strong>不同类型系统的数据之间的转换</strong>；</p>
<p>从效果上说，它其实是创建了一个可在编程语言里使用的“<strong>虚拟对象数据库</strong>”；</p>
<p><strong>采用元数据来描述</strong>对象与关系映射的细节，<strong>元数据一般采用XML格式</strong>，并且<strong>存放在专门的对象一映射文件中</strong>；简单理解为一种框架的格式。</p>
<p>只要提供了持久化类与表的映射关系，ORM框架在运行时就能参照映射文件的信息，把对象持久化到数据库中；</p>
<p>当前ORM框架主要有五种：Hibernate(Nhibernate)，iBATIS，<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=mybatis&spm=1001.2101.3001.7020" >mybatis</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>，EclipseLink，JFinal。</p>
<p><strong>元数据</strong>是描述其它数据的数据 （data about other data），或者说是用于提供某种资源的有关信息的结构数据（structured data）。元数据是描述信息资源或数据等对象的数据。</p>

        <h2 id="myBatis"   >
          <a href="#myBatis" class="heading-link"><i class="fas fa-link"></i></a><a href="#myBatis" class="headerlink" title="myBatis"></a>myBatis</h2>
      
        <h3 id="概述："   >
          <a href="#概述：" class="heading-link"><i class="fas fa-link"></i></a><a href="#概述：" class="headerlink" title="概述："></a>概述：</h3>
      <ul>
<li><p>一个优秀的持久层架构；</p>
</li>
<li><p>支持自定义 SQL、存储过程以及高级映射；</p>
</li>
<li><p>免除了几乎所有的 JDBC 代码以及设置参数和获取结果集的工作</p>
</li>
<li><p>可以通过简单的 XML 或注解来配置和映射原始类型、接口和 Java POJO（Plain Old Java Objects，普通老式 Java 对象）为数据库中的记录。</p>
</li>
</ul>

        <h3 id="体系结构"   >
          <a href="#体系结构" class="heading-link"><i class="fas fa-link"></i></a><a href="#体系结构" class="headerlink" title="体系结构"></a>体系结构</h3>
      <ul>
<li><p>API接口层</p>
<p>有五个接口：数据<strong>查询</strong>接口、数据<strong>增加</strong>接口、数据<strong>修改</strong>接口、数据<strong>删除</strong>接口、<strong>获取配置</strong>接口；</p>
<p><strong>提供给外部使用的接口</strong>，接收到请求时会调用处理层来完成具体的数据处理操作</p>
</li>
<li><p>数据处理层</p>
<p>负责具体的 <strong>SQL 查找、SQL 解析、SQL 执行和执行结果映射处理</strong>等。它主要的目的是<strong>根据调用的请求完成一次数据库操作</strong>。</p>
</li>
<li><p>基础支撑层</p>
<p>负责最基础的功能支撑，包括<strong>连接管理、事务管理、配置加载和缓存处理</strong></p>
</li>
</ul>

        <h3 id="基本搭建"   >
          <a href="#基本搭建" class="heading-link"><i class="fas fa-link"></i></a><a href="#基本搭建" class="headerlink" title="基本搭建"></a>基本搭建</h3>
      <p>创建and配置一个myBatis项目</p>
<p>①创建maven的项目</p>
<p>②在子项目中写，父项目负责导依赖</p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--mybatis依赖--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.mybatis<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.10<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--mysql依赖--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>mysql<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mysql-connector-java<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>8.0.29<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--小辣椒依赖--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.projectlombok<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>lombok<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>1.18.22<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="comment">&lt;!--分页依赖--&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.github.pagehelper<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>pagehelper<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">          <span class="tag">&lt;<span class="name">version</span>&gt;</span>5.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></div></figure>



<p>③在resources资源包中建一个config.xml</p>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">configuration</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">settings</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--输出日志到控制台中--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">setting</span> <span class="attr">name</span>=<span class="string">&quot;logImpl&quot;</span> <span class="attr">value</span>=<span class="string">&quot;STDOUT_LOGGING&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">settings</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">&lt;!--配置分页插件拦截器--&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">plugins</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">plugin</span> <span class="attr">interceptor</span>=<span class="string">&quot;com.github.pagehelper.PageInterceptor&quot;</span>&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--reasonable：分页合理化参数，默认值为false。</span></span><br><span class="line"><span class="comment">                  当该参数设置为 true 时，pageNum&lt;=0 时会查询第一页，</span></span><br><span class="line"><span class="comment">                  pageNum&gt;pages（超过总数时），会查询最后一页。</span></span><br><span class="line"><span class="comment">                  默认false 时，直接根据参数进行查询。--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;reasonable&quot;</span> <span class="attr">value</span>=<span class="string">&quot;true&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">plugin</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">plugins</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">environments</span> <span class="attr">default</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">environment</span> <span class="attr">id</span>=<span class="string">&quot;development&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">transactionManager</span> <span class="attr">type</span>=<span class="string">&quot;JDBC&quot;</span>/&gt;</span></span><br><span class="line">            <span class="comment">&lt;!--分别书写驱动类、网址、账号和密码 注意网址中&amp;使用&amp;amp;代替--&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">dataSource</span> <span class="attr">type</span>=<span class="string">&quot;POOLED&quot;</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;driver&quot;</span> <span class="attr">value</span>=<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;url&quot;</span> <span class="attr">value</span>=<span class="string">&quot;jdbc:mysql://localhost:3306/mysql_text_first&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;username&quot;</span> <span class="attr">value</span>=<span class="string">&quot;root&quot;</span>/&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">property</span> <span class="attr">name</span>=<span class="string">&quot;password&quot;</span> <span class="attr">value</span>=<span class="string">&quot;1234&quot;</span>/&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">dataSource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">environments</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">mappers</span>&gt;</span></span><br><span class="line">        <span class="comment">&lt;!--引入的资源文件--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">mapper</span> <span class="attr">resource</span>=<span class="string">&quot;mapper/EmpMapper.xml&quot;</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">mappers</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></div></figure>



<p>④写bean包</p>
<p>⑤mapper包(类似dao包)</p>
<ul>
<li><p>写mapper接口 (例如EmpMapper)</p>
<p>声明方法</p>
</li>
<li><p>写接口名.xml  （例如EmpMapper.xml）</p>
<p>绑定，为哪个接口服务?</p>
<p>在这写sql</p>
</li>
</ul>
<figure class="highlight xml"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF8&quot;</span> ?&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">mapper</span></span></span><br><span class="line"><span class="meta">        <span class="keyword">PUBLIC</span> <span class="string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span></span></span><br><span class="line"><span class="meta">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">mapper</span> <span class="attr">namespace</span>=<span class="string">&quot;mapper.接口名&quot;</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">select</span> <span class="attr">id</span>=<span class="string">&quot;接口中的方法名&quot;</span> <span class="attr">resultType</span>=<span class="string">&quot;返回结果类型&quot;</span> <span class="attr">parameterType</span>=<span class="string">&quot;参数类型&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">select</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">mapper</span>&gt;</span></span><br></pre></td></tr></table></div></figure>

<p>⑥测试</p>
<ul>
<li><p>在resource资源包中加载Mapper.xml</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;mappers&gt;</span><br><span class="line">       &lt;!--引入的资源文件--&gt;</span><br><span class="line">       &lt;mapper resource=<span class="string">&quot;mapper/EmpMapper.xml&quot;</span>/&gt;</span><br><span class="line">&lt;/mappers&gt;</span><br></pre></td></tr></table></div></figure>


</li>
<li><p>告诉idea要强制加载.xml</p>
<figure class="highlight html"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">build</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--强制Idea搜索xml文件在java文件夹下--&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">resources</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">resource</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">directory</span>&gt;</span>src/main/java<span class="tag">&lt;/<span class="name">directory</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">includes</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">include</span>&gt;</span>**/*.xml<span class="tag">&lt;/<span class="name">include</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">includes</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">filtering</span>&gt;</span>true<span class="tag">&lt;/<span class="name">filtering</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">resource</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">resources</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">build</span>&gt;</span></span><br></pre></td></tr></table></div></figure></li>
</ul>
<p><strong>加载配置文件config.xml</strong></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> Resources.getResourceAsStream(<span class="string">&quot;config.xml&quot;</span>);</span><br></pre></td></tr></table></div></figure>



<p><strong>创建会话工厂</strong></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">SqlSessionFactory</span> <span class="variable">ssf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(in);</span><br></pre></td></tr></table></div></figure>



<p><strong>建立java同MySQL之间的会话</strong></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> ssf.openSession();</span><br></pre></td></tr></table></div></figure>



<p><strong>获取相应接口的代理对象</strong></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> session.getMapper(EmpMapper.class);</span><br></pre></td></tr></table></div></figure>



<p><strong>调用方法遍历集合</strong></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Emp&gt; list = mapper.findAllEmp();</span><br><span class="line">        <span class="keyword">for</span>(Emp emp : list) &#123;</span><br><span class="line">            System.out.println(emp);</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></div></figure>

<p><strong>提交事务（增删改才有查询没有）</strong></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session.commit(); <span class="comment">// 手动提交事务（老师讲这个）</span></span><br></pre></td></tr></table></div></figure>

<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//在打开 session 设置当前 session 自动提交事务</span></span><br><span class="line"></span><br><span class="line"><span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> ssf.openSession(<span class="literal">true</span>);</span><br></pre></td></tr></table></div></figure>



<p><strong>关闭会话</strong></p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">session.close();</span><br></pre></td></tr></table></div></figure>




        <h3 id="基本术语"   >
          <a href="#基本术语" class="heading-link"><i class="fas fa-link"></i></a><a href="#基本术语" class="headerlink" title="基本术语"></a>基本术语</h3>
      <p>SqlSessionFactoryBuilder</p>
<ul>
<li><strong>主要作用就是创建 SqlSessionFactory</strong> ，一旦创建了 SqlSessionFactory，就不再需要它了，它可以被实例化、使用和丢弃。因此，它实例的最佳作用域是方法作用域（也就是局部方法变量）。</li>
</ul>
<p>SqlSessionFactory</p>
<ul>
<li>是<strong>单个数据库映射关系经过编译后的内存镜像</strong>，其<strong>主要作用是创建SqlSession</strong>。SqlSessionFactory 一旦被创建就应该在应用的运行期间一直存在，没有任何理由丢弃它或重新创建另一个实例。使用 SqlSessionFactory 的最佳实践是<strong>在应用运行期间不要重复创建多次</strong></li>
</ul>
<p>SqlSession</p>
<ul>
<li><p>SqlSession 是<strong>数据库和 Java 服务器之间的一次通话</strong>，每一次对数据库的增删改查操作都是通过 SqlSession 来完成的。它提供了 select 、 insert 、 update 、delete 等方法，在旧版本中使用 SqlSession 接口的这些方法，但是在新版本中 Mybatis 就会建议直接使用 mapper 接口的方法。</p>
</li>
<li><p>四个组成部分</p>
<ul>
<li><p>Execute : 调度执行StatementHandler、ParmmeterHandler、ResultHandler执行相应的SQL语句。</p>
</li>
<li><p>StatementHandler : 使用数据库中的Statement（PrepareStatement）执行操作，即底层是封装好的PrepareStatement。</p>
</li>
<li><p>ParammeterHandler : 处理SQL参数。</p>
</li>
<li><p>ResultHandler : 结果集ResultSet封装处理放回。</p>
</li>
</ul>
</li>
</ul>

        <h3 id="增删改查"   >
          <a href="#增删改查" class="heading-link"><i class="fas fa-link"></i></a><a href="#增删改查" class="headerlink" title="(增删改查)"></a>(增删改查)</h3>
      
        <h4 id="增"   >
          <a href="#增" class="heading-link"><i class="fas fa-link"></i></a><a href="#增" class="headerlink" title="增"></a>增</h4>
      <ul>
<li><p>写mapper接口</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">saveEmp</span><span class="params">(Emp emp)</span>;</span><br></pre></td></tr></table></div></figure>


</li>
<li><p>写mapper接口对应的.xml文件 —  绑定(SQL语句)</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;insert id=<span class="string">&quot;saveEmp&quot;</span> parameterType=<span class="string">&quot;bean.Emp&quot;</span>&gt;</span><br><span class="line">       insert into emp</span><br><span class="line">       <span class="title function_">values</span><span class="params">(<span class="literal">null</span>, #&#123;ename&#125;, #&#123;job&#125;, #&#123;mgr&#125;, now()</span>, #&#123;sal&#125;, #&#123;comm&#125;, #&#123;deptNo&#125;, <span class="number">1</span>);</span><br><span class="line">&lt;/insert&gt;</span><br></pre></td></tr></table></div></figure>


</li>
<li><p>测试</p>
<p>— MyBaits不会自动提交事务需要设置(针对增删改)</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//    加载配置文件</span></span><br><span class="line">            <span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> Resources.getResourceAsStream(<span class="string">&quot;config.xml&quot;</span>);</span><br><span class="line">			<span class="comment">//    创建一个会话工厂</span></span><br><span class="line">            ssf = <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(in);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    增</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">b</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line"></span><br><span class="line">        <span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Emp</span>(<span class="string">&quot;郭杨柳&quot;</span>,<span class="string">&quot;程序员&quot;</span>,<span class="number">7788</span>,<span class="number">3200.0</span>,<span class="number">100.0</span>,<span class="number">10</span>);</span><br><span class="line">        <span class="comment">// 3⃣️ 建立Java同MySQL之间的会话</span></span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> ssf.openSession();</span><br><span class="line">        <span class="comment">// 4⃣️ 获取相应接口的代理对象</span></span><br><span class="line">        <span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> session.getMapper(EmpMapper.class);</span><br><span class="line">        <span class="comment">// 5⃣️ 调用方法</span></span><br><span class="line">        mapper.saveEmp(emp);</span><br><span class="line">        <span class="comment">// 6⃣️ 提交事务(增删改)</span></span><br><span class="line">        session.commit();</span><br><span class="line">        <span class="comment">// 7⃣️ 关闭会话</span></span><br><span class="line">        session.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></div></figure></li>
</ul>

        <h1 id="8-10"   >
          <a href="#8-10" class="heading-link"><i class="fas fa-link"></i></a><a href="#8-10" class="headerlink" title="8-10"></a>8-10</h1>
      
        <h4 id="删"   >
          <a href="#删" class="heading-link"><i class="fas fa-link"></i></a><a href="#删" class="headerlink" title="删"></a>删</h4>
      <p>需要注意的是，删除实际上不会执行 delete 语句，而是将状态设置为不可见(0)，查询时查询非零数据</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">deleteEmp</span><span class="params">(<span class="type">int</span> id)</span>;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!-- 常见的数据类型可以省略不写   --&gt;</span><br><span class="line">   &lt;delete id=<span class="string">&quot;deleteEmp&quot;</span> parameterType=<span class="string">&quot;int&quot;</span>&gt;</span><br><span class="line">       update emp set empstate=<span class="number">0</span> where empno=#&#123;id&#125;</span><br><span class="line">   &lt;/delete&gt;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    删</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">c</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> ssf.openSession();</span><br><span class="line">        <span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> session.getMapper((EmpMapper.class));</span><br><span class="line">        mapper.deleteEmp(<span class="number">7953</span>);</span><br><span class="line">        session.commit();</span><br><span class="line">        session.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></div></figure>


        <h4 id="改"   >
          <a href="#改" class="heading-link"><i class="fas fa-link"></i></a><a href="#改" class="headerlink" title="改"></a>改</h4>
      <figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//    错误❌</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">updateEmp</span><span class="params">(<span class="type">int</span> id,String name)</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">updateEmp1</span><span class="params">(Emp emp)</span>;</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">updateEmp2</span><span class="params">(Map&lt;String,Object&gt; map)</span>;</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">updateEmp3</span><span class="params">(<span class="meta">@Param(&quot;id&quot;)</span> <span class="type">int</span> id , <span class="meta">@Param(&quot;name&quot;)</span> String ename)</span>;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">  &lt;!--  错误❌：parameterType（参数类型）只能支持一个参数--&gt;</span><br><span class="line">&lt;!--  &lt;update id=<span class="string">&quot;updateEmp&quot;</span> parameterType=<span class="string">&quot;int,String&quot;</span>&gt;</span><br><span class="line">      update emp set ename=#&#123;name&#125;</span><br><span class="line">      where empno=#&#123;id&#125;</span><br><span class="line">  &lt;/update&gt;--&gt;</span><br><span class="line"></span><br><span class="line">  &lt;update id=<span class="string">&quot;updateEmp1&quot;</span> parameterType=<span class="string">&quot;bean.Emp&quot;</span>&gt;</span><br><span class="line">      update emp set ename=$&#123;ename&#125;</span><br><span class="line">      where empno=#&#123;empNo&#125;</span><br><span class="line">  &lt;/update&gt;</span><br><span class="line"></span><br><span class="line">  &lt;update id=<span class="string">&quot;updateEmp2&quot;</span>&gt;</span><br><span class="line">      update emp set ename=#&#123;ename&#125;</span><br><span class="line">      where empno=#&#123;id&#125;</span><br><span class="line">  &lt;/update&gt;</span><br><span class="line"></span><br><span class="line">  &lt;update id=<span class="string">&quot;updateEmp3&quot;</span> parameterType=<span class="string">&quot;bean.Emp&quot;</span>&gt;</span><br><span class="line">      update emp</span><br><span class="line">      set ename=#&#123;name&#125;</span><br><span class="line">      <span class="type">where</span> <span class="variable">empno</span> <span class="operator">=</span> #&#123;id&#125;</span><br><span class="line">  &lt;/update&gt;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    改</span></span><br><span class="line"><span class="comment">//    错误</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">d</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> ssf.openSession();<span class="comment">//建立java与mysql之间的会话</span></span><br><span class="line">        <span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> session.getMapper(EmpMapper.class);<span class="comment">//获取到相应接口的代理对象</span></span><br><span class="line">        mapper.updateEmp(<span class="number">7989</span>,<span class="string">&quot;王新欣&quot;</span>);<span class="comment">//调用方法</span></span><br><span class="line">        session.commit();<span class="comment">//提交事务（增删改需要提交事务）</span></span><br><span class="line">        session.close();<span class="comment">//关闭会话</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">d1</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> ssf.openSession();</span><br><span class="line">        <span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> session.getMapper(EmpMapper.class);</span><br><span class="line">        <span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Emp</span>(<span class="number">7985</span>,<span class="string">&quot;&#x27;黑猫警长&#x27;&quot;</span>);</span><br><span class="line">        mapper.updateEmp1(emp);</span><br><span class="line">        session.commit();</span><br><span class="line">        session.close();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">d2</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> ssf.openSession();</span><br><span class="line">        <span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> session.getMapper(EmpMapper.class);</span><br><span class="line">        Map&lt;String,Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;id&quot;</span>,<span class="number">7988</span>);</span><br><span class="line">        map.put(<span class="string">&quot;ename&quot;</span>,<span class="string">&quot;猪猪侠&quot;</span>);</span><br><span class="line">        mapper.updateEmp2(map);</span><br><span class="line">        session.commit();</span><br><span class="line">        session.close();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">d3</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span>ssf.openSession();</span><br><span class="line">        EmpMapper mapper= session.getMapper(EmpMapper.class);</span><br><span class="line">        mapper.updateEmp3(<span class="number">7987</span>,<span class="string">&quot;蜡笔小新&quot;</span>);</span><br><span class="line">        session.commit();</span><br><span class="line">        session.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></div></figure>


        <h4 id="查"   >
          <a href="#查" class="heading-link"><i class="fas fa-link"></i></a><a href="#查" class="headerlink" title="查"></a>查</h4>
      <p>全表查询</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Emp&gt; <span class="title function_">findAllEmp</span><span class="params">()</span>;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;select id=<span class="string">&quot;findAllEmp&quot;</span> resultType=<span class="string">&quot;bean.Emp&quot;</span>&gt;</span><br><span class="line">        select *</span><br><span class="line">        from emp</span><br><span class="line">        <span class="type">where</span> <span class="variable">empstate</span> <span class="operator">=</span> <span class="number">1</span></span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    全查询</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">a</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//    加载配置文件</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> Resources.getResourceAsStream(<span class="string">&quot;config.xml&quot;</span>);</span><br><span class="line"><span class="comment">//    创建一个会话工厂</span></span><br><span class="line">        <span class="type">SqlSessionFactory</span> <span class="variable">ssf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(in);</span><br><span class="line"><span class="comment">//    建立java同mysql之间的会话</span></span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> ssf.openSession();</span><br><span class="line"><span class="comment">//    获取相应接口的代理对象</span></span><br><span class="line">        <span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> session.getMapper(EmpMapper.class);</span><br><span class="line"><span class="comment">//    调用方法 -- 遍历集合</span></span><br><span class="line">        List&lt;Emp&gt; list = mapper.findAllEmp();</span><br><span class="line">        <span class="keyword">for</span>(Emp emp : list) &#123;</span><br><span class="line">            System.out.println(emp);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//    关闭会话</span></span><br><span class="line">        session.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></div></figure>



<p>按id查询</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Emp <span class="title function_">findById</span><span class="params">(<span class="type">int</span> id)</span>;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> &lt;select id=<span class="string">&quot;findById&quot;</span> parameterType=<span class="string">&quot;_int&quot;</span> resultType=<span class="string">&quot;bean.Emp&quot;</span>&gt;</span><br><span class="line">        select * from emp where empstate=<span class="number">1</span> and empno=#&#123;id&#125;</span><br><span class="line">&lt;/select&gt;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    根据id查找</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">s</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> ssf.openSession();</span><br><span class="line">        <span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> session.getMapper(EmpMapper.class);</span><br><span class="line">        mapper.findById(<span class="number">7987</span>);</span><br><span class="line">        session.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></div></figure>



<p>按名字查询</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//        模糊查询</span></span><br><span class="line">    List&lt;Emp&gt; <span class="title function_">findByEname</span><span class="params">(String ename)</span>;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--    模糊查询--&gt;</span><br><span class="line">    &lt;select id=<span class="string">&quot;findByEname&quot;</span> resultType=<span class="string">&quot;bean.Emp&quot;</span> parameterType=<span class="string">&quot;String&quot;</span>&gt;</span><br><span class="line">        select * from emp where empstate=<span class="number">1</span> and ename like #&#123;ename&#125;</span><br><span class="line">    &lt;/select&gt;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    模糊查询</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">s1</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> ssf.openSession();</span><br><span class="line">        <span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> session.getMapper(EmpMapper.class);</span><br><span class="line">        List&lt;Emp&gt; list =mapper.findByEname(<span class="string">&quot;%劳%&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (Emp e:list) &#123;</span><br><span class="line">            System.out.println(e);</span><br><span class="line">        &#125;</span><br><span class="line">        session.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></div></figure>



<p>分页查询</p>
<p>分页查询主要有两种方式</p>
<p>​	limit分页：</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//分页查询 java 中传值时只看类型不看名称，MyBatis 并不知道那个参数赋予那个#&#123;&#125;，那么我们就需要制定当前参数到底赋予那个#&#123;&#125;即可。</span></span><br><span class="line">  List&lt;Emp&gt; <span class="title function_">findAllEmpByPage</span><span class="params">(<span class="meta">@Param(&quot;start&quot;)</span> <span class="type">int</span> start,<span class="meta">@Param(&quot;size&quot;)</span> <span class="type">int</span> size)</span>;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--    分页查询--&gt;</span><br><span class="line">    &lt;select id=<span class="string">&quot;findAllEmpByPage&quot;</span> resultType=<span class="string">&quot;bean.Emp&quot;</span>&gt;</span><br><span class="line">        select * from emp where empstate=<span class="number">1</span> limit #&#123;start&#125; , #&#123;size&#125;</span><br><span class="line">    &lt;/select&gt;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    分页查询</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">s2</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> ssf.openSession();</span><br><span class="line">        <span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> session.getMapper(EmpMapper.class);</span><br><span class="line">        List&lt;Emp&gt; list = mapper.findAllEmpByPage(<span class="number">0</span>,<span class="number">5</span>);</span><br><span class="line">        <span class="keyword">for</span> (Emp e:list) &#123;</span><br><span class="line">            System.out.println(e);</span><br><span class="line">        &#125;</span><br><span class="line">        session.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></div></figure>



<p>​	PageHelper分页插件：</p>
<p>​		两步走：1、引入依赖 ；2、配置分页插件拦截器。</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    分页查询的另一个便利的方法 ：引入依赖（父类中引） ；在 config.xml 中配置 PageHelper 插件 ；调用全查询方法</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">s3</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> ssf.openSession();</span><br><span class="line">        <span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> session.getMapper(EmpMapper.class);</span><br><span class="line"><span class="comment">//        引入插件后调用分页方法即可</span></span><br><span class="line">        PageHelper.startPage(<span class="number">0</span>,<span class="number">5</span>);</span><br><span class="line">        List&lt;Emp&gt; list = mapper.findAllEmp();</span><br><span class="line">        <span class="keyword">for</span> (Emp e:list) &#123;</span><br><span class="line">            System.out.println(e);</span><br><span class="line">        &#125;</span><br><span class="line"><span class="comment">//        显示总页数等相关信息</span></span><br><span class="line">        PageInfo&lt;Emp&gt; empPageInfo = <span class="keyword">new</span> <span class="title class_">PageInfo</span>&lt;&gt;(list);</span><br><span class="line">        System.out.println(empPageInfo);</span><br><span class="line">        System.out.println(<span class="string">&quot;总条数：&quot;</span> + empPageInfo.getTotal());</span><br><span class="line">        System.out.println(<span class="string">&quot;当前页查询记录：&quot;</span> + empPageInfo.getList().size());</span><br><span class="line">        System.out.println(<span class="string">&quot;当前页码：&quot;</span> + empPageInfo.getPageNum());</span><br><span class="line">        System.out.println(<span class="string">&quot;每页显示数量：&quot;</span> + empPageInfo.getPageSize());</span><br><span class="line">        System.out.println(<span class="string">&quot;总页数：&quot;</span> + empPageInfo.getPages());</span><br><span class="line">        session.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></div></figure>




        <h3 id="围绕-config-xml-和-XxxMapper-xml-的讲解"   >
          <a href="#围绕-config-xml-和-XxxMapper-xml-的讲解" class="heading-link"><i class="fas fa-link"></i></a><a href="#围绕-config-xml-和-XxxMapper-xml-的讲解" class="headerlink" title="围绕 config.xml 和 XxxMapper.xml 的讲解"></a>围绕 config.xml 和 XxxMapper.xml 的讲解</h3>
      <p><span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://blog.csdn.net/Dailyblue/article/details/124675844" >(21条消息) MyBatis 入门到精通（二）_Dailyblue的博客-CSDN博客</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span></p>
<p>1、类型别名：仅用于 XML 配置，意在降低冗余的全限定类名书写。</p>
<p>2、什么是数据源</p>
<p>3、映射器</p>
<p>4、XML 映射文件只有很少的几个顶级元素：</p>
<p>cache：该命名空间的缓存配置。<br>cache-ref：引用其它命名空间的缓存配置。<br>resultMap：描述如何从数据库结果集中加载对象，是最复杂也是最强大的元素。<br><del>parameterMap：老式风格的参数映射。此元素已被废弃，并可能在将来被移除！请使用行内参数映射。文档中不会介绍此元素。</del><br>sql：可被其它语句引用的可重用语句块。<br>insert：映射插入语句。<br>update：映射更新语句。<br>delete：映射删除语句。<br>select：映射查询语句。</p>
<p>5.将config.xml分解</p>
<p>config.xml</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF8&quot;</span> ?&gt;</span><br><span class="line">&lt;!DOCTYPE configuration</span><br><span class="line">        PUBLIC <span class="string">&quot;-//mybatis.org//DTD Config 3.0//EN&quot;</span></span><br><span class="line">        <span class="string">&quot;http://mybatis.org/dtd/mybatis-3-config.dtd&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">&lt;configuration&gt;</span><br><span class="line">    &lt;!--需要这个标签引入jdbc.properties--&gt;</span><br><span class="line">    &lt;properties resource=<span class="string">&quot;jdbc.properties&quot;</span>&gt;</span><br><span class="line">        &lt;property name=<span class="string">&quot;username&quot;</span> value=<span class="string">&quot;root&quot;</span>/&gt;</span><br><span class="line">    &lt;/properties&gt;</span><br><span class="line">&lt;/configuration&gt;</span><br></pre></td></tr></table></div></figure>



<p>jdbc.properties</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url=jdbc:mysql:<span class="comment">//localhost:3306/mysql_text_first</span></span><br><span class="line">driverClassName=com.mysql.cj.jdbc.Driver</span><br><span class="line">password=<span class="number">1234</span></span><br></pre></td></tr></table></div></figure>




        <h3 id="自行百度了解耦合和侵入式与非侵入式"   >
          <a href="#自行百度了解耦合和侵入式与非侵入式" class="heading-link"><i class="fas fa-link"></i></a><a href="#自行百度了解耦合和侵入式与非侵入式" class="headerlink" title="自行百度了解耦合和侵入式与非侵入式"></a>自行百度了解耦合和侵入式与非侵入式</h3>
      
        <h3 id="映射"   >
          <a href="#映射" class="heading-link"><i class="fas fa-link"></i></a><a href="#映射" class="headerlink" title="映射"></a>映射</h3>
      <p>一、数据库查询出来的虚拟列和 Java <span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=%E5%AE%9E%E4%BD%93%E7%B1%BB&spm=1001.2101.3001.7020" >实体类</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span>中的属性名一致(不区分大小写)，就可以自动映射。</p>
<p>虚拟列名和属性名不一致的解决办法：</p>

        <h4 id="1、别名查询"   >
          <a href="#1、别名查询" class="heading-link"><i class="fas fa-link"></i></a><a href="#1、别名查询" class="headerlink" title="1、别名查询"></a>1、别名查询</h4>
      <p>从 SQL 语句入手，给查询的列起一个别名，别名和属性名一致就行。</p>
<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select emp.*, ename as <span class="string">&#x27;ename1&#x27;</span> from emp <span class="type">where</span> <span class="variable">empstate</span> <span class="operator">=</span> <span class="number">1</span></span><br></pre></td></tr></table></div></figure>




        <h4 id="2、手动映射"   >
          <a href="#2、手动映射" class="heading-link"><i class="fas fa-link"></i></a><a href="#2、手动映射" class="headerlink" title="2、手动映射"></a>2、手动映射</h4>
      <figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--方法二：手动映射--&gt;</span><br><span class="line">  &lt;resultMap id=<span class="string">&quot;aaaa&quot;</span> type=<span class="string">&quot;bean.Emp&quot;</span>&gt;</span><br><span class="line">      &lt;id property=<span class="string">&quot;empNo&quot;</span> column=<span class="string">&quot;empno&quot;</span> javaType=<span class="string">&quot;java.lang.Integer&quot;</span> jdbcType=<span class="string">&quot;INTEGER&quot;</span> /&gt;</span><br><span class="line">      &lt;result property=<span class="string">&quot;ename1&quot;</span> column=<span class="string">&quot;ename&quot;</span>/&gt;</span><br><span class="line">  &lt;/resultMap&gt;</span><br><span class="line">  &lt;select id=<span class="string">&quot;findById1&quot;</span> resultMap=<span class="string">&quot;aaaa&quot;</span>&gt;</span><br><span class="line">      select * from emp where empstate=<span class="number">1</span> and empno=#&#123;id&#125;</span><br><span class="line">  &lt;/select&gt;</span><br></pre></td></tr></table></div></figure>

<p>二、会涉及多张表的操作，它们之间存在一定的关系，比较常见的有多对一和一对多关系</p>
<p>两种方法：</p>

        <h3 id="多对一"   >
          <a href="#多对一" class="heading-link"><i class="fas fa-link"></i></a><a href="#多对一" class="headerlink" title="多对一"></a>多对一</h3>
      
        <h4 id="①表联查"   >
          <a href="#①表联查" class="heading-link"><i class="fas fa-link"></i></a><a href="#①表联查" class="headerlink" title="①表联查"></a>①表联查</h4>
      <figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Dept dept; <span class="comment">//描述多对一  表联查</span></span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//  关联问题</span></span><br><span class="line">    <span class="comment">// 描述多对一情况1 表联查</span></span><br><span class="line">    Emp <span class="title function_">findEmpByNo2</span><span class="params">(<span class="type">int</span> id)</span>;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;resultMap id=<span class="string">&quot;map2&quot;</span> type=<span class="string">&quot;bean.Emp&quot;</span>&gt;</span><br><span class="line">      &lt;id property=<span class="string">&quot;empNo&quot;</span> column=<span class="string">&quot;empNo&quot;</span>/&gt;</span><br><span class="line">      &lt;result property=<span class="string">&quot;ename1&quot;</span> column=<span class="string">&quot;ename&quot;</span>/&gt;</span><br><span class="line">      &lt;result property=<span class="string">&quot;job&quot;</span> column=<span class="string">&quot;job&quot;</span>/&gt;</span><br><span class="line">      &lt;!--多对一写法 表联查--&gt;</span><br><span class="line">      &lt;association property=<span class="string">&quot;dept&quot;</span> column=<span class="string">&quot;deptno&quot;</span> javaType=<span class="string">&quot;bean.Dept&quot;</span>&gt;</span><br><span class="line">          &lt;id property=<span class="string">&quot;deptNo&quot;</span> column=<span class="string">&quot;deptNo&quot;</span>/&gt;</span><br><span class="line">          &lt;result property=<span class="string">&quot;dname&quot;</span> column=<span class="string">&quot;dname&quot;</span>/&gt;</span><br><span class="line">          &lt;result property=<span class="string">&quot;loc&quot;</span> column=<span class="string">&quot;loc&quot;</span>/&gt;</span><br><span class="line">      &lt;/association&gt;</span><br><span class="line">  &lt;/resultMap&gt;</span><br><span class="line">  &lt;!--关联    --&gt;</span><br><span class="line">  &lt;select id=<span class="string">&quot;findEmpByNo2&quot;</span> resultMap=<span class="string">&quot;map2&quot;</span>&gt;</span><br><span class="line">      select *</span><br><span class="line">      from emp</span><br><span class="line">               left join DEPT D on D.DEPTNO = emp.DEPTNO</span><br><span class="line">      <span class="type">where</span> <span class="variable">empstate</span> <span class="operator">=</span> <span class="number">1</span> and empno=#&#123;id&#125;</span><br><span class="line">  &lt;/select&gt;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">a</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">       <span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> Resources.getResourceAsStream(<span class="string">&quot;config.xml&quot;</span>);</span><br><span class="line">       ssf= <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(in);</span><br><span class="line">       <span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> ssf.openSession();</span><br><span class="line">       <span class="type">EmpMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> session.getMapper(EmpMapper.class);</span><br><span class="line">       mapper.findEmpByNo2(<span class="number">7941</span>);</span><br><span class="line">       session.close();</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></div></figure>




        <h4 id="②拼接"   >
          <a href="#②拼接" class="heading-link"><i class="fas fa-link"></i></a><a href="#②拼接" class="headerlink" title="②拼接"></a>②拼接</h4>
      <figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 描述多对一情况2 拼接</span></span><br><span class="line">Emp <span class="title function_">findEmpByNo3</span><span class="params">(<span class="type">int</span> id)</span>;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--多对一的拼接--&gt;</span><br><span class="line">    &lt;select id=<span class="string">&quot;findEmpByNo3&quot;</span> resultType=<span class="string">&quot;bean.Emp&quot;</span>&gt;</span><br><span class="line">        select emp.*,ename as <span class="string">&#x27;ename1&#x27;</span> from emp where empstate=<span class="number">1</span> and empno=#&#123;id&#125;</span><br><span class="line">    &lt;/select&gt;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> bean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dept</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer deptNo;</span><br><span class="line">    <span class="keyword">private</span> String dname;</span><br><span class="line">    <span class="keyword">private</span> String loc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">DeptMapper</span> &#123;</span><br><span class="line"><span class="comment">//    多对一的拼接</span></span><br><span class="line">    Dept <span class="title function_">findDeptByNo</span><span class="params">(<span class="type">int</span> id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;mapper namespace=<span class="string">&quot;mapper.DeptMapper&quot;</span>&gt;</span><br><span class="line">    &lt;select id=<span class="string">&quot;findDeptByNo&quot;</span> resultType=<span class="string">&quot;bean.Dept&quot;</span>&gt;</span><br><span class="line">        select * from dept where deptno=#&#123;id&#125;</span><br><span class="line">    &lt;/select&gt;</span><br><span class="line">&lt;/mapper&gt;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.io.Resources;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSession;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactory;</span><br><span class="line"><span class="keyword">import</span> org.apache.ibatis.session.SqlSessionFactoryBuilder;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"></span><br><span class="line"><span class="comment">//封装重复代码 需要使用时继承即可</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BaseService</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> SqlSessionFactory ssf;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; T <span class="title function_">getMapper</span><span class="params">(Class&lt;T&gt; c)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> Resources.getResourceAsStream(<span class="string">&quot;config.xml&quot;</span>);</span><br><span class="line">        ssf = <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(in);</span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> ssf.openSession(); <span class="comment">//工厂</span></span><br><span class="line">        <span class="keyword">return</span> session.getMapper(c); <span class="comment">//返回一个代理对象</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> service;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> bean.Dept;</span><br><span class="line"><span class="keyword">import</span> bean.Emp;</span><br><span class="line"><span class="keyword">import</span> mapper.DeptMapper;</span><br><span class="line"><span class="keyword">import</span> mapper.EmpMapper;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"></span><br><span class="line"><span class="comment">//继承BaseService</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpService</span> <span class="keyword">extends</span> <span class="title class_">BaseService</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> EmpMapper empMapper;</span><br><span class="line">    <span class="keyword">private</span> DeptMapper deptMapper;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">EmpService</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 传参获取到代理对象 --（加载配置文件 -- 创建一个会话工厂 -- 建立java同mysql之间的会话）</span></span><br><span class="line">            empMapper = getMapper(EmpMapper.class);</span><br><span class="line">            deptMapper = getMapper(DeptMapper.class);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 拆箱装箱</span></span><br><span class="line">    <span class="keyword">public</span> Emp <span class="title function_">findEmpByNo</span><span class="params">(<span class="type">int</span> id)</span> &#123;</span><br><span class="line">        <span class="comment">// 只能获取到员工信息 调用方法</span></span><br><span class="line">        <span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span> empMapper.findEmpByNo3(id);</span><br><span class="line">        <span class="keyword">if</span>(emp == <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 获取部门信息 调用方法</span></span><br><span class="line">        <span class="type">Dept</span> <span class="variable">dept</span> <span class="operator">=</span> deptMapper.findDeptByNo(emp.getDeptNo());</span><br><span class="line">        emp.setDept(dept);</span><br><span class="line">        <span class="keyword">return</span> emp;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    多对一的拼接</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">b</span><span class="params">()</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">    <span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span> empService.findEmpByNo(<span class="number">7945</span>);</span><br><span class="line">    System.out.println(emp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h3 id="一对多"   >
          <a href="#一对多" class="heading-link"><i class="fas fa-link"></i></a><a href="#一对多" class="headerlink" title="一对多"></a>一对多</h3>
      
        <h4 id="①表联查-1"   >
          <a href="#①表联查-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#①表联查-1" class="headerlink" title="①表联查"></a>①表联查</h4>
      <figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> bean;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Set;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dept</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer deptNo;</span><br><span class="line">    <span class="keyword">private</span> String dname;</span><br><span class="line">    <span class="keyword">private</span> String loc;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    描述一对多的写法</span></span><br><span class="line">    <span class="keyword">private</span> Set&lt;Emp&gt; empSet;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    一对多</span></span><br><span class="line"><span class="comment">//    表联查</span></span><br><span class="line">    Dept <span class="title function_">findDeptByNo2</span><span class="params">(<span class="type">int</span> id)</span>;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;resultMap id=<span class="string">&quot;mapSet2&quot;</span> type=<span class="string">&quot;bean.Dept&quot;</span>&gt;</span><br><span class="line">        &lt;id column=<span class="string">&quot;deptno&quot;</span> property=<span class="string">&quot;deptNo&quot;</span>/&gt;</span><br><span class="line">        &lt;result column=<span class="string">&quot;dname&quot;</span> property=<span class="string">&quot;dname&quot;</span>/&gt;</span><br><span class="line">        &lt;result column=<span class="string">&quot;loc&quot;</span> property=<span class="string">&quot;loc&quot;</span>/&gt;</span><br><span class="line">        &lt;collection property=<span class="string">&quot;empSet&quot;</span> ofType=<span class="string">&quot;bean.Emp&quot;</span> column=<span class="string">&quot;deptno&quot;</span>&gt;</span><br><span class="line">            &lt;id property=<span class="string">&quot;empNo&quot;</span> column=<span class="string">&quot;empNo&quot;</span>/&gt;</span><br><span class="line">            &lt;result property=<span class="string">&quot;ename1&quot;</span> column=<span class="string">&quot;ename&quot;</span>/&gt;</span><br><span class="line">            &lt;result property=<span class="string">&quot;job&quot;</span> column=<span class="string">&quot;job&quot;</span>/&gt;</span><br><span class="line">            &lt;result property=<span class="string">&quot;sal&quot;</span> column=<span class="string">&quot;sal&quot;</span>/&gt;</span><br><span class="line">            &lt;result property=<span class="string">&quot;comm&quot;</span> column=<span class="string">&quot;comm&quot;</span>/&gt;</span><br><span class="line">        &lt;/collection&gt;</span><br><span class="line">    &lt;/resultMap&gt;</span><br><span class="line">&lt;!--    联查--&gt;</span><br><span class="line">    &lt;select id=<span class="string">&quot;findDeptByNo2&quot;</span> resultMap=<span class="string">&quot;mapSet2&quot;</span>&gt;</span><br><span class="line">        select *</span><br><span class="line">        from dept left join emp e on dept.deptNo=e.deptNo where dept.deptNo=#&#123;id&#125;;</span><br><span class="line">    &lt;/select&gt;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeptService</span> <span class="keyword">extends</span> <span class="title class_">BaseService</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> DeptMapper deptMapper;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> EmpMapper empMapper;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DeptService</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            deptMapper = getMapper(DeptMapper.class);</span><br><span class="line">            empMapper = getMapper(EmpMapper.class);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Dept <span class="title function_">find2</span><span class="params">(<span class="type">int</span> id)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> deptMapper.findDeptByNo2(id);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">//    一对多的表联查</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">c</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="type">Dept</span> <span class="variable">dept</span> <span class="operator">=</span> deptService.find2(<span class="number">10</span>);</span><br><span class="line">    System.out.println(dept);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h4 id="②拼接-1"   >
          <a href="#②拼接-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#②拼接-1" class="headerlink" title="②拼接"></a>②拼接</h4>
      <figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    拼接</span></span><br><span class="line">    Dept <span class="title function_">findDeptByNo3</span><span class="params">(<span class="type">int</span> id)</span>;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--拼接--&gt;</span><br><span class="line">    &lt;select id=<span class="string">&quot;findDeptByNo3&quot;</span> resultType=<span class="string">&quot;bean.Dept&quot;</span>&gt;</span><br><span class="line">        select *</span><br><span class="line">        from dept where deptNo=#&#123;id&#125;;</span><br><span class="line">    &lt;/select&gt;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--    一对多的表联查  ：对应部门的所有员工--&gt;</span><br><span class="line">    &lt;select id=<span class="string">&quot;findEmpByDid&quot;</span> resultType=<span class="string">&quot;bean.Emp&quot;</span>&gt;</span><br><span class="line">        select emp.*,ename as <span class="string">&#x27;ename1&#x27;</span> from emp where empstate=<span class="number">1</span> and deptno=#&#123;id&#125;</span><br><span class="line">    &lt;/select&gt;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//封装重复代码 需要使用时继承即可</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BaseService</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> SqlSessionFactory ssf;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; T <span class="title function_">getMapper</span><span class="params">(Class&lt;T&gt; c)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> Resources.getResourceAsStream(<span class="string">&quot;config.xml&quot;</span>);</span><br><span class="line">        ssf = <span class="keyword">new</span> <span class="title class_">SqlSessionFactoryBuilder</span>().build(in);</span><br><span class="line">        <span class="type">SqlSession</span> <span class="variable">session</span> <span class="operator">=</span> ssf.openSession(); <span class="comment">//工厂</span></span><br><span class="line">        <span class="keyword">return</span> session.getMapper(c); <span class="comment">//返回一个代理对象</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeptService</span> <span class="keyword">extends</span> <span class="title class_">BaseService</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> DeptMapper deptMapper;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> EmpMapper empMapper;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DeptService</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            deptMapper = getMapper(DeptMapper.class);</span><br><span class="line">            empMapper = getMapper(EmpMapper.class);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line"><span class="comment">//    把查到的两个表的信息拼接起来 并返回</span></span><br><span class="line">    <span class="keyword">public</span> Dept <span class="title function_">find3</span><span class="params">(<span class="type">int</span> id)</span>&#123;</span><br><span class="line">        <span class="type">Dept</span> <span class="variable">dept</span> <span class="operator">=</span> deptMapper.findDeptByNo3(id);</span><br><span class="line">        Set&lt;Emp&gt; emp = empMapper.findEmpByDid(id);</span><br><span class="line">        dept.setEmpSet(emp);</span><br><span class="line">        <span class="keyword">return</span> dept;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//    一对多的表联查和拼接</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">c</span><span class="params">()</span>&#123;</span><br><span class="line">      <span class="type">Dept</span> <span class="variable">dept</span> <span class="operator">=</span> deptService.find3(<span class="number">10</span>);</span><br><span class="line">      System.out.println(dept);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></div></figure>


        <h4 id="把查询的结果使用servlet展示到页面去（前后端分离）"   >
          <a href="#把查询的结果使用servlet展示到页面去（前后端分离）" class="heading-link"><i class="fas fa-link"></i></a><a href="#把查询的结果使用servlet展示到页面去（前后端分离）" class="headerlink" title="(把查询的结果使用servlet展示到页面去（前后端分离）)"></a>(把查询的结果使用servlet展示到页面去（前后端分离）)</h4>
      <figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">统一返回结果格式</span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ResultCode</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> String code;</span><br><span class="line">    <span class="keyword">private</span> String message;</span><br><span class="line">    <span class="keyword">private</span> T data;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//通过反射的方式实现公共servlet</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BaseController</span> <span class="keyword">extends</span> <span class="title class_">HttpServlet</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">service</span><span class="params">(ServletRequest req, ServletResponse resp)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line"><span class="comment">//        处理乱码</span></span><br><span class="line">        req.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        resp.setContentType(<span class="string">&quot;application/json;charset=utf-8&quot;</span>);</span><br><span class="line"><span class="comment">//        获取type</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">type</span> <span class="operator">=</span> req.getParameter(<span class="string">&quot;type&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span>(type==<span class="literal">null</span>)&#123;</span><br><span class="line">            type = <span class="string">&quot;find&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> getClass();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Method</span> <span class="variable">method</span> <span class="operator">=</span> c.getDeclaredMethod(type, HttpServletRequest.class, HttpServletResponse.class);</span><br><span class="line">            method.setAccessible(<span class="literal">true</span>);</span><br><span class="line">            method.invoke(<span class="built_in">this</span>,req,resp);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchMethodException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InvocationTargetException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="meta">@WebServlet(&quot;/emp&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">EmpController</span> <span class="keyword">extends</span> <span class="title class_">BaseController</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> EmpService empService;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">EmpController</span><span class="params">()</span> &#123;</span><br><span class="line">        empService = <span class="keyword">new</span> <span class="title class_">EmpService</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">find</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">empNo</span> <span class="operator">=</span> Integer.parseInt(request.getParameter(<span class="string">&quot;id&quot;</span>)); <span class="comment">//获取到页面传过来的id</span></span><br><span class="line">        <span class="type">Emp</span> <span class="variable">emp</span> <span class="operator">=</span> empService.findEmpByNo(empNo); <span class="comment">//调用多对一的拼接的方法 获得查询结果</span></span><br><span class="line">        ResultCode&lt;Emp&gt; resultCode = <span class="keyword">new</span> <span class="title class_">ResultCode</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (emp == <span class="literal">null</span>) &#123;</span><br><span class="line">            resultCode.setCode(<span class="string">&quot;401&quot;</span>);</span><br><span class="line">            resultCode.setMessage(<span class="string">&quot;员工不存在&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            resultCode.setCode(<span class="string">&quot;200&quot;</span>);</span><br><span class="line">            resultCode.setData(emp);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> JSONArray.toJSONString(resultCode);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> response.getWriter();</span><br><span class="line">        out.println(json);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight java"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></div></figure>




        <h1 id="8-12"   >
          <a href="#8-12" class="heading-link"><i class="fas fa-link"></i></a><a href="#8-12" class="headerlink" title="8-12"></a>8-12</h1>
      
        <h3 id="动态SQL（未完成）"   >
          <a href="#动态SQL（未完成）" class="heading-link"><i class="fas fa-link"></i></a><a href="#动态SQL（未完成）" class="headerlink" title="动态SQL（未完成）"></a>动态SQL（未完成）</h3>
      <ul>
<li>if</li>
<li>choose (when, otherwise)</li>
<li>trim (where, set)</li>
<li>foreach </li>
<li>bind</li>
</ul>

        <h3 id="案例（级联检索）（需要重复写一遍）"   >
          <a href="#案例（级联检索）（需要重复写一遍）" class="heading-link"><i class="fas fa-link"></i></a><a href="#案例（级联检索）（需要重复写一遍）" class="headerlink" title="案例（级联检索）（需要重复写一遍）"></a>案例（级联检索）（需要重复写一遍）</h3>
      
        <h2 id="缓存"   >
          <a href="#缓存" class="heading-link"><i class="fas fa-link"></i></a><a href="#缓存" class="headerlink" title="缓存"></a>缓存</h2>
      <p>概念</p>

        <h3 id="myBatis的缓存"   >
          <a href="#myBatis的缓存" class="heading-link"><i class="fas fa-link"></i></a><a href="#myBatis的缓存" class="headerlink" title="myBatis的缓存"></a>myBatis的缓存</h3>
      
        <h4 id="一级缓存"   >
          <a href="#一级缓存" class="heading-link"><i class="fas fa-link"></i></a><a href="#一级缓存" class="headerlink" title="一级缓存"></a>一级缓存</h4>
      
        <h4 id="二级缓存"   >
          <a href="#二级缓存" class="heading-link"><i class="fas fa-link"></i></a><a href="#二级缓存" class="headerlink" title="二级缓存"></a>二级缓存</h4>
      
        <h2 id="注解"   >
          <a href="#注解" class="heading-link"><i class="fas fa-link"></i></a><a href="#注解" class="headerlink" title="注解"></a>注解</h2>
      <p>概念</p>

        <h3 id="myBatis的注解"   >
          <a href="#myBatis的注解" class="heading-link"><i class="fas fa-link"></i></a><a href="#myBatis的注解" class="headerlink" title="myBatis的注解"></a>myBatis的注解</h3>
      
        <h4 id="三类注解"   >
          <a href="#三类注解" class="heading-link"><i class="fas fa-link"></i></a><a href="#三类注解" class="headerlink" title="三类注解"></a>三类注解</h4>
      
        <h4 id="常用的注解"   >
          <a href="#常用的注解" class="heading-link"><i class="fas fa-link"></i></a><a href="#常用的注解" class="headerlink" title="常用的注解"></a>常用的注解</h4>
      
        <h4 id="案例：表联查（未完成）"   >
          <a href="#案例：表联查（未完成）" class="heading-link"><i class="fas fa-link"></i></a><a href="#案例：表联查（未完成）" class="headerlink" title="案例：表联查（未完成）"></a>案例：表联查（未完成）</h4>
      </div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ 本文结束，感谢您的阅读 ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">本文作者: </span><span class="copyright-author__value"><a href="https://www.yanggroup.cn">小宇</a></span></div><div class="copyright-link"><span class="copyright-link__name">本文链接: </span><span class="copyright-link__value"><a href="https://www.yanggroup.cn/2022/09/26/0809-0812MyBatis/">https://www.yanggroup.cn/2022/09/26/0809-0812MyBatis/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">版权声明: </span><span class="copyright-notice__value">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> 许可协议。转载请注明出处！</span></div></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/2022/09/26/0813-0818Spring%20IOC/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">Spring IOC</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/2022/09/26/0801-0806%E6%AF%8F%E6%97%A5%E6%80%BB%E7%BB%93%EF%BC%88%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6%E5%92%8Cvue%EF%BC%89/"><span class="paginator-prev__text">Servlet</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">文章目录</span><span class="sidebar-nav-ov">站点概览</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#Mybatis"><span class="toc-number">1.</span> <span class="toc-text">
          Mybatis</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-9%E6%9D%A5%E8%87%AA%E5%8A%B3%E5%A7%90%E7%9A%84%E8%B5%9E%E5%8A%A9"><span class="toc-number">2.</span> <span class="toc-text">
          8-9来自劳姐的赞助</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E4%BD%BF%E7%94%A8%E5%AE%83%E4%B8%8D%E7%94%A8JDBC"><span class="toc-number">2.1.</span> <span class="toc-text">
          为什么使用它不用JDBC</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#ORM%E6%A1%86%E6%9E%B6-%E5%AF%B9%E8%B1%A1%E5%85%B3%E7%B3%BB%E6%98%A0%E5%B0%84"><span class="toc-number">2.2.</span> <span class="toc-text">
          ORM框架:对象关系映射</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#myBatis"><span class="toc-number">2.3.</span> <span class="toc-text">
          myBatis</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0%EF%BC%9A"><span class="toc-number">2.3.1.</span> <span class="toc-text">
          概述：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%93%E7%B3%BB%E7%BB%93%E6%9E%84"><span class="toc-number">2.3.2.</span> <span class="toc-text">
          体系结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%90%AD%E5%BB%BA"><span class="toc-number">2.3.3.</span> <span class="toc-text">
          基本搭建</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%9C%AF%E8%AF%AD"><span class="toc-number">2.3.4.</span> <span class="toc-text">
          基本术语</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5"><span class="toc-number">2.3.5.</span> <span class="toc-text">
          (增删改查)</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A2%9E"><span class="toc-number">2.3.5.1.</span> <span class="toc-text">
          增</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-10"><span class="toc-number">3.</span> <span class="toc-text">
          8-10</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0"><span class="toc-number">3.0.0.1.</span> <span class="toc-text">
          删</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%94%B9"><span class="toc-number">3.0.0.2.</span> <span class="toc-text">
          改</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5"><span class="toc-number">3.0.0.3.</span> <span class="toc-text">
          查</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%9B%B4%E7%BB%95-config-xml-%E5%92%8C-XxxMapper-xml-%E7%9A%84%E8%AE%B2%E8%A7%A3"><span class="toc-number">3.0.1.</span> <span class="toc-text">
          围绕 config.xml 和 XxxMapper.xml 的讲解</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E8%A1%8C%E7%99%BE%E5%BA%A6%E4%BA%86%E8%A7%A3%E8%80%A6%E5%90%88%E5%92%8C%E4%BE%B5%E5%85%A5%E5%BC%8F%E4%B8%8E%E9%9D%9E%E4%BE%B5%E5%85%A5%E5%BC%8F"><span class="toc-number">3.0.2.</span> <span class="toc-text">
          自行百度了解耦合和侵入式与非侵入式</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%98%A0%E5%B0%84"><span class="toc-number">3.0.3.</span> <span class="toc-text">
          映射</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1%E3%80%81%E5%88%AB%E5%90%8D%E6%9F%A5%E8%AF%A2"><span class="toc-number">3.0.3.1.</span> <span class="toc-text">
          1、别名查询</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2%E3%80%81%E6%89%8B%E5%8A%A8%E6%98%A0%E5%B0%84"><span class="toc-number">3.0.3.2.</span> <span class="toc-text">
          2、手动映射</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%A4%9A%E5%AF%B9%E4%B8%80"><span class="toc-number">3.0.4.</span> <span class="toc-text">
          多对一</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0%E8%A1%A8%E8%81%94%E6%9F%A5"><span class="toc-number">3.0.4.1.</span> <span class="toc-text">
          ①表联查</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1%E6%8B%BC%E6%8E%A5"><span class="toc-number">3.0.4.2.</span> <span class="toc-text">
          ②拼接</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E5%AF%B9%E5%A4%9A"><span class="toc-number">3.0.5.</span> <span class="toc-text">
          一对多</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A0%E8%A1%A8%E8%81%94%E6%9F%A5-1"><span class="toc-number">3.0.5.1.</span> <span class="toc-text">
          ①表联查</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%91%A1%E6%8B%BC%E6%8E%A5-1"><span class="toc-number">3.0.5.2.</span> <span class="toc-text">
          ②拼接</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8A%8A%E6%9F%A5%E8%AF%A2%E7%9A%84%E7%BB%93%E6%9E%9C%E4%BD%BF%E7%94%A8servlet%E5%B1%95%E7%A4%BA%E5%88%B0%E9%A1%B5%E9%9D%A2%E5%8E%BB%EF%BC%88%E5%89%8D%E5%90%8E%E7%AB%AF%E5%88%86%E7%A6%BB%EF%BC%89"><span class="toc-number">3.0.5.3.</span> <span class="toc-text">
          (把查询的结果使用servlet展示到页面去（前后端分离）)</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#8-12"><span class="toc-number">4.</span> <span class="toc-text">
          8-12</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8A%A8%E6%80%81SQL%EF%BC%88%E6%9C%AA%E5%AE%8C%E6%88%90%EF%BC%89"><span class="toc-number">4.0.1.</span> <span class="toc-text">
          动态SQL（未完成）</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%88%E7%BA%A7%E8%81%94%E6%A3%80%E7%B4%A2%EF%BC%89%EF%BC%88%E9%9C%80%E8%A6%81%E9%87%8D%E5%A4%8D%E5%86%99%E4%B8%80%E9%81%8D%EF%BC%89"><span class="toc-number">4.0.2.</span> <span class="toc-text">
          案例（级联检索）（需要重复写一遍）</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%BC%93%E5%AD%98"><span class="toc-number">4.1.</span> <span class="toc-text">
          缓存</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#myBatis%E7%9A%84%E7%BC%93%E5%AD%98"><span class="toc-number">4.1.1.</span> <span class="toc-text">
          myBatis的缓存</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E7%BA%A7%E7%BC%93%E5%AD%98"><span class="toc-number">4.1.1.1.</span> <span class="toc-text">
          一级缓存</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E7%BA%A7%E7%BC%93%E5%AD%98"><span class="toc-number">4.1.1.2.</span> <span class="toc-text">
          二级缓存</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%B3%A8%E8%A7%A3"><span class="toc-number">4.2.</span> <span class="toc-text">
          注解</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#myBatis%E7%9A%84%E6%B3%A8%E8%A7%A3"><span class="toc-number">4.2.1.</span> <span class="toc-text">
          myBatis的注解</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%89%E7%B1%BB%E6%B3%A8%E8%A7%A3"><span class="toc-number">4.2.1.1.</span> <span class="toc-text">
          三类注解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%B3%A8%E8%A7%A3"><span class="toc-number">4.2.1.2.</span> <span class="toc-text">
          常用的注解</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A1%88%E4%BE%8B%EF%BC%9A%E8%A1%A8%E8%81%94%E6%9F%A5%EF%BC%88%E6%9C%AA%E5%AE%8C%E6%88%90%EF%BC%89"><span class="toc-number">4.2.1.3.</span> <span class="toc-text">
          案例：表联查（未完成）</span></a></li></ol></li></ol></li></ol></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/icons/11_Chameleon.png" alt="avatar"></div><p class="sidebar-ov-author__text">小宇</p></div><div class="sidebar-ov-social"><a class="sidebar-ov-social-item" href="https://github.com/Undersea-Moon" target="_blank" rel="noopener" data-popover="Github" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-github"></i></span></a><a class="sidebar-ov-social-item" href="https://gitee.com/Undersea_Moon" target="_blank" rel="noopener" data-popover="social.gitee" data-popover-pos="up"><span class="sidebar-ov-social-item__icon">G</span></a><a class="sidebar-ov-social-item" href="https://gitlab.com/Undersea-Moon" target="_blank" rel="noopener" data-popover="social.gitlab" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-gitlab"></i></span></a><a class="sidebar-ov-social-item" href="tencent://message?uin=798382184" target="_blank" rel="noopener" data-popover="social.QQ" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-qq"></i></span></a></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">8</div><div class="sidebar-ov-state-item__name">归档</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">你已阅读了 </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2022</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span><a href="https://github.com/Undersea-Moon" rel="noopener" target="_blank">© 小宇</a></span></div><div>Hosted by<a href="https://github.com/Undersea-Moon/myblog" rel="noopener" target="_blank">Github</a></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="/js/utils.js?v=2.7.0"></script><script src="/js/stun-boot.js?v=2.7.0"></script><script src="/js/scroll.js?v=2.7.0"></script><script src="/js/header.js?v=2.7.0"></script><script src="/js/sidebar.js?v=2.7.0"></script></body></html>