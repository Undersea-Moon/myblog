<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><meta name="format-detection" content="telephone=no"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><link rel="icon" href="/images/icons/favicon-16x16.png?v=2.7.0" type="image/png" sizes="16x16"><link rel="icon" href="/images/icons/favicon-32x32.png?v=2.7.0" type="image/png" sizes="32x32"><meta name="description" content="什么是数据库       答：数据库是数据的”仓库“，根据数据结构（二维表）来组织，存储和管理数据的仓库                     数据库常用术语       表 : 数据库中的数据以表的形式显示 行 : 表中的一个元组（字段），各个记录的名称，也可以理解为一条信息或是一个对象 列 :  记录名称所对应的数据域，也就是对表的描述，可以理解为属性 冗余 : 多余无">
<meta property="og:type" content="article">
<meta property="og:title" content="数据库">
<meta property="og:url" content="https://www.yanggroup.cn/2022/09/26/0716-0722%E6%AF%8F%E6%97%A5%E6%80%BB%E7%BB%93(%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8CJDBC)/index.html">
<meta property="og:site_name" content="YangGroup">
<meta property="og:description" content="什么是数据库       答：数据库是数据的”仓库“，根据数据结构（二维表）来组织，存储和管理数据的仓库                     数据库常用术语       表 : 数据库中的数据以表的形式显示 行 : 表中的一个元组（字段），各个记录的名称，也可以理解为一条信息或是一个对象 列 :  记录名称所对应的数据域，也就是对表的描述，可以理解为属性 冗余 : 多余无">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2022-09-26T14:37:10.481Z">
<meta property="article:modified_time" content="2022-10-07T03:15:20.313Z">
<meta property="article:author" content="小宇">
<meta name="twitter:card" content="summary"><title>数据库 | YangGroup</title><link ref="canonical" href="https://www.yanggroup.cn/2022/09/26/0716-0722%E6%AF%8F%E6%97%A5%E6%80%BB%E7%BB%93(%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8CJDBC)/"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.12.1/css/all.min.css" type="text/css"><link rel="stylesheet" href="/css/index.css?v=2.7.0"><script>var Stun = window.Stun || {};
var CONFIG = {
  root: '/',
  algolia: undefined,
  assistSearch: undefined,
  fontIcon: {"prompt":{"success":"fas fa-check-circle","info":"fas fa-arrow-circle-right","warning":"fas fa-exclamation-circle","error":"fas fa-times-circle"},"copyBtn":"fas fa-copy"},
  sidebar: {"offsetTop":"20px","tocMaxDepth":6},
  header: {"enable":true,"showOnPost":true,"scrollDownIcon":true},
  postWidget: {"endText":true},
  nightMode: {"enable":true},
  back2top: {"enable":true},
  codeblock: {"style":"default","highlight":"light","wordWrap":false},
  reward: false,
  fancybox: false,
  zoomImage: {"gapAside":"20px"},
  galleryWaterfall: undefined,
  lazyload: false,
  pjax: undefined,
  externalLink: {"icon":{"enable":true,"name":"fas fa-external-link-alt"}},
  shortcuts: undefined,
  prompt: {"copyButton":"复制","copySuccess":"复制成功","copyError":"复制失败"},
  sourcePath: {"js":"js","css":"css","images":"images"},
};

window.CONFIG = CONFIG;</script><meta name="generator" content="Hexo 6.3.0"></head><body><div class="container" id="container"><header class="header" id="header"><div class="header-inner"><nav class="header-nav header-nav--fixed"><div class="header-nav-inner"><div class="header-nav-menubtn"><i class="fas fa-bars"></i></div><div class="header-nav-menu"><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/"><span class="header-nav-menu-item__icon"><i class="fas fa-home"></i></span><span class="header-nav-menu-item__text">首页</span></a></div><div class="header-nav-menu-item"><a class="header-nav-menu-item__link" href="/archives/"><span class="header-nav-menu-item__icon"><i class="fas fa-folder-open"></i></span><span class="header-nav-menu-item__text">归档</span></a></div></div><div class="header-nav-mode"><div class="mode"><div class="mode-track"><span class="mode-track-moon"></span><span class="mode-track-sun"></span></div><div class="mode-thumb"></div></div></div></div></nav><div class="header-banner"><div class="header-banner-info"><div class="header-banner-info__title">YangGroup</div><div class="header-banner-info__subtitle"></div></div><div class="header-banner-arrow"><div class="header-banner-arrow__icon"><i class="fas fa-angle-down"></i></div></div></div></div></header><main class="main" id="main"><div class="main-inner"><div class="content-wrap" id="content-wrap"><div class="content" id="content"><!-- Just used to judge whether it is an article page--><div id="is-post"></div><div class="post"><header class="post-header"><h1 class="post-title">数据库</h1><div class="post-meta"><span class="post-meta-item post-meta-item--createtime"><span class="post-meta-item__icon"><i class="far fa-calendar-plus"></i></span><span class="post-meta-item__info">发表于</span><span class="post-meta-item__value">2022-09-26</span></span><span class="post-meta-item post-meta-item--updatetime"><span class="post-meta-item__icon"><i class="far fa-calendar-check"></i></span><span class="post-meta-item__info">更新于</span><span class="post-meta-item__value">2022-10-07</span></span></div></header><div class="post-body">
        <h3 id="什么是数据库"   >
          <a href="#什么是数据库" class="heading-link"><i class="fas fa-link"></i></a><a href="#什么是数据库" class="headerlink" title="什么是数据库"></a>什么是数据库</h3>
      <p>答：数据库是数据的”仓库“，根据数据结构（二维表）来组织，存储和管理数据的仓库</p>

        <h3 id="数据库常用术语"   >
          <a href="#数据库常用术语" class="heading-link"><i class="fas fa-link"></i></a><a href="#数据库常用术语" class="headerlink" title="数据库常用术语"></a>数据库常用术语</h3>
      <p>表 : 数据库中的数据以表的形式显示</p>
<p>行 : 表中的一个元组（字段），各个记录的名称，也可以理解为一条信息或是一个对象</p>
<p>列 :  记录名称所对应的数据域，也就是对表的描述，可以理解为属性</p>
<p>冗余 : 多余无用的数据，会降低系统的性能<span id="more"></span></p>
<p>数据库管理系统: 一个软件,一个负责管理维护数据库的工具，比如mysql </p>
<p>一个表中可以由多行多列组成</p>
<p>一个数据库可以有多个表</p>

        <h3 id="mysql数据库是什么"   >
          <a href="#mysql数据库是什么" class="heading-link"><i class="fas fa-link"></i></a><a href="#mysql数据库是什么" class="headerlink" title="mysql数据库是什么"></a>mysql数据库是什么</h3>
      <p>答：一个关系型数据库管理系统，开源 、免费的 、支持大型的数据库、使用标准的SQL语句编写</p>

        <h3 id="什么是结构化查询语言，其组成部分是哪四个"   >
          <a href="#什么是结构化查询语言，其组成部分是哪四个" class="heading-link"><i class="fas fa-link"></i></a><a href="#什么是结构化查询语言，其组成部分是哪四个" class="headerlink" title="什么是结构化查询语言，其组成部分是哪四个"></a>什么是结构化查询语言，其组成部分是哪四个</h3>
      <p>答：结构化查询语言简称SQL，是一种特殊目的的编程语言，一种程序设计语言和数据库查询语言，用于存储，更新，管理和查询关系数据库系统，也是关系数据库的通用语言。</p>
<p>组成部分：</p>
<p>数据定义语言（DDL）：在数据库中创建，删除，修改结构的操作，比如创建数据库、表、索引等</p>
<p>数据控制语言（DCL）：通过revoke和grant对权限进行操作。（不是重点）</p>
<p>数据操纵语言（DML）：对数据的增删改，对数据的影响。</p>
<p>数据查询语言（DQL）：对表中的数据进行查询（重点内容）</p>

        <h3 id="数据库的操作"   >
          <a href="#数据库的操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#数据库的操作" class="headerlink" title="数据库的操作"></a>数据库的操作</h3>
      
        <h4 id="创建数据库"   >
          <a href="#创建数据库" class="heading-link"><i class="fas fa-link"></i></a><a href="#创建数据库" class="headerlink" title="创建数据库"></a>创建数据库</h4>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database	数据库名；</span><br></pre></td></tr></table></div></figure>


        <h4 id="使用数据库"   >
          <a href="#使用数据库" class="heading-link"><i class="fas fa-link"></i></a><a href="#使用数据库" class="headerlink" title="使用数据库"></a>使用数据库</h4>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">use 数据库名；</span><br></pre></td></tr></table></div></figure>


        <h4 id="删除数据库"   >
          <a href="#删除数据库" class="heading-link"><i class="fas fa-link"></i></a><a href="#删除数据库" class="headerlink" title="删除数据库"></a>删除数据库</h4>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> database 数据库名；</span><br></pre></td></tr></table></div></figure>


        <h3 id="数据库表的操作"   >
          <a href="#数据库表的操作" class="heading-link"><i class="fas fa-link"></i></a><a href="#数据库表的操作" class="headerlink" title="数据库表的操作"></a>数据库表的操作</h3>
      
        <h4 id="DDL操作（数据定义语言）"   >
          <a href="#DDL操作（数据定义语言）" class="heading-link"><i class="fas fa-link"></i></a><a href="#DDL操作（数据定义语言）" class="headerlink" title="DDL操作（数据定义语言）"></a>DDL操作（数据定义语言）</h4>
      
        <h5 id="创建表"   >
          <a href="#创建表" class="heading-link"><i class="fas fa-link"></i></a><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 表名 ( 列名 数据类型 约束,列名 数据类型 约束); </span><br><span class="line"></span><br><span class="line">#表名不能用￥和_开头及不能使用中文,没有驼峰，以_分隔开，基本和Java的命名规则一样</span><br><span class="line">#mysql的数据类型：数值、时间日期、字符串 （更多见文档）</span><br><span class="line"> 数值：</span><br><span class="line">    整数类型：<span class="type">int</span></span><br><span class="line">    小数：<span class="type">float</span></span><br><span class="line">    数值类型：<span class="type">decimal</span>(m,d),m：有效数字  d:小数点后几位</span><br><span class="line"> 时间日期：</span><br><span class="line">    日期：<span class="type">date</span>  年月日</span><br><span class="line">    时间：<span class="type">time</span>  时分秒</span><br><span class="line">    时间日期：datetime   年月日时分秒</span><br><span class="line"> 字符串：</span><br><span class="line">    定长字符串：<span class="type">char</span></span><br><span class="line">    变长字符串：<span class="type">varchar</span></span><br><span class="line">    二进制字符串：LongbLob 二进制形式的文本数据</span><br><span class="line">    长文本数据：Longtext</span><br><span class="line">    面试题：<span class="type">char</span>和<span class="type">varchar</span>的区别?</span><br><span class="line">    答：<span class="type">char</span>是定长字符串，比如指定长度为<span class="number">6</span>，给的字符长度小于<span class="number">6</span>时，在实际存储中会用<span class="keyword">null</span>补齐，给的字符长度超出<span class="number">6</span>时会出错；</span><br><span class="line">    而<span class="type">varchar</span>是变长字符串，比如指定长度为<span class="number">6</span>，给的字符长度小于<span class="number">6</span>时，不会用<span class="keyword">null</span>补齐，在实际存储中按实际给的长度存放，给的字符长度超出<span class="number">6</span>时会出错。</span><br><span class="line"># 	约束：对数据库表中的数据格式、内容进行限制</span><br><span class="line">    主键约束：约束表中的这列数据值唯一，一张表只能有一个主键约束并且主键约束不允许为<span class="keyword">null</span></span><br><span class="line">    唯一约束：约束表中的这列数据值唯一</span><br><span class="line">    <span class="keyword">check</span>约束：根据相应的条件对列的数据进行约束</span><br><span class="line">    默认值约束：在不输入内容时填充默认值</span><br><span class="line">    外建约束：维护表之间关系</span><br><span class="line">    为空约束：设置这一列数据不能为空</span><br></pre></td></tr></table></div></figure>


        <h5 id="删除表"   >
          <a href="#删除表" class="heading-link"><i class="fas fa-link"></i></a><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> 表名；</span><br></pre></td></tr></table></div></figure>


        <h5 id="修改表结构"   >
          <a href="#修改表结构" class="heading-link"><i class="fas fa-link"></i></a><a href="#修改表结构" class="headerlink" title="修改表结构"></a>修改表结构</h5>
      
        <h6 id="向表中插入一列"   >
          <a href="#向表中插入一列" class="heading-link"><i class="fas fa-link"></i></a><a href="#向表中插入一列" class="headerlink" title="向表中插入一列"></a>向表中插入一列</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">add</span> 列名 数据类型 约束;</span><br></pre></td></tr></table></div></figure>


        <h6 id="修改表中的列名及数据类型"   >
          <a href="#修改表中的列名及数据类型" class="heading-link"><i class="fas fa-link"></i></a><a href="#修改表中的列名及数据类型" class="headerlink" title="修改表中的列名及数据类型"></a>修改表中的列名及数据类型</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 change 旧列名 新列名 数据类型;</span><br></pre></td></tr></table></div></figure>


        <h6 id="设置一个默认值约束和为空约束"   >
          <a href="#设置一个默认值约束和为空约束" class="heading-link"><i class="fas fa-link"></i></a><a href="#设置一个默认值约束和为空约束" class="headerlink" title="设置一个默认值约束和为空约束"></a>设置一个默认值约束和为空约束</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 modify 列名 数据类型 <span class="keyword">null</span> <span class="keyword">default</span> <span class="string">&#x27;abcd&#x27;</span>; </span><br></pre></td></tr></table></div></figure>


        <h6 id="删除表中的列"   >
          <a href="#删除表中的列" class="heading-link"><i class="fas fa-link"></i></a><a href="#删除表中的列" class="headerlink" title="删除表中的列"></a>删除表中的列</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">drop</span> 列名;</span><br></pre></td></tr></table></div></figure>


        <h6 id="添加check-约束"   >
          <a href="#添加check-约束" class="heading-link"><i class="fas fa-link"></i></a><a href="#添加check-约束" class="headerlink" title="添加check 约束"></a>添加check 约束</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> 表名 <span class="keyword">add</span>  <span class="keyword">constraint</span> 随便起个名 <span class="keyword">check</span>( 约束条件 );</span><br></pre></td></tr></table></div></figure>




        <h4 id="DML操作（数据操纵语言DML）"   >
          <a href="#DML操作（数据操纵语言DML）" class="heading-link"><i class="fas fa-link"></i></a><a href="#DML操作（数据操纵语言DML）" class="headerlink" title="DML操作（数据操纵语言DML）"></a>DML操作（数据操纵语言DML）</h4>
      
        <h5 id="向表中插入数据"   >
          <a href="#向表中插入数据" class="heading-link"><i class="fas fa-link"></i></a><a href="#向表中插入数据" class="headerlink" title="向表中插入数据"></a>向表中插入数据</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 表名(列字段列表) <span class="keyword">values</span>(值列表); # 录入时必须一一对用</span><br><span class="line">#未赋值的列赋予<span class="keyword">null</span>值,如果有默认值用默认值填充；非空列必须赋值；</span><br><span class="line">#可以不需要和物理顺序一致</span><br><span class="line">#列字段列表可以省略，如果省略了必须按照物理顺序全填充</span><br><span class="line"></span><br><span class="line">#批量数据的录入</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp(empno, ename, job, mgr, sal, comm)</span><br><span class="line">    <span class="keyword">select</span> <span class="keyword">null</span>,<span class="string">&#x27;赫宝宝&#x27;</span>,<span class="string">&#x27;程序员&#x27;</span>,<span class="number">5</span>,<span class="number">8000</span>,<span class="number">3000</span> <span class="keyword">union</span></span><br><span class="line">    <span class="keyword">select</span> <span class="keyword">null</span>,<span class="string">&#x27;邱紫坪&#x27;</span>,<span class="string">&#x27;动漫评论员&#x27;</span>,<span class="keyword">null</span>,<span class="number">6000</span>,<span class="number">10000</span> <span class="keyword">union</span></span><br><span class="line">    <span class="keyword">select</span> <span class="keyword">null</span>,<span class="string">&#x27;谢苗&#x27;</span>,<span class="string">&#x27;程序员&#x27;</span>,<span class="number">1</span>,<span class="number">9000</span>,<span class="number">3000</span>;</span><br><span class="line">    </span><br><span class="line">#复制表</span><br><span class="line">#方法一</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> 新表名 <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 旧表名;</span><br><span class="line">#方法二</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> 新表名 <span class="keyword">as</span> <span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> 旧表名;</span><br></pre></td></tr></table></div></figure>




        <h5 id="删除表中的数据"   >
          <a href="#删除表中的数据" class="heading-link"><i class="fas fa-link"></i></a><a href="#删除表中的数据" class="headerlink" title="删除表中的数据"></a>删除表中的数据</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> 表名 <span class="keyword">where</span> 约束条件;</span><br><span class="line"></span><br><span class="line">#删除表中的所有数据</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> emp2 ;</span><br><span class="line"></span><br><span class="line">#删除所有的表数据 没有条件的说法</span><br><span class="line"><span class="keyword">truncate</span> <span class="keyword">table</span> 表名;</span><br><span class="line"></span><br><span class="line">#面试题：<span class="keyword">drop</span>、<span class="keyword">delete</span>和<span class="keyword">truncate</span>的区别？</span><br><span class="line"> 答：<span class="keyword">drop</span>是删除表结构，是将这张表都删除了</span><br><span class="line">    <span class="keyword">delete</span>和<span class="keyword">truncate</span>都只是删除数据，表结构还在</span><br><span class="line">    <span class="keyword">delete</span>是可以删除所有数据，也可以删除部分数据，<span class="keyword">delete</span>删除时有事务，有日志，可恢复，删除速度慢</span><br><span class="line">    <span class="keyword">truncate</span>只能删除全表数据，<span class="keyword">truncate</span>删除时没有事务，不写日志，不能恢复，删除速度快</span><br></pre></td></tr></table></div></figure>




        <h5 id="修改表中的数据"   >
          <a href="#修改表中的数据" class="heading-link"><i class="fas fa-link"></i></a><a href="#修改表中的数据" class="headerlink" title="修改表中的数据"></a>修改表中的数据</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> 表名 <span class="keyword">set</span> 列名<span class="operator">=</span>新值,列名<span class="operator">=</span>新值,...,列名<span class="operator">=</span>新值 [<span class="keyword">where</span> 条件]；</span><br></pre></td></tr></table></div></figure>


        <h3 id="数据库的完整性"   >
          <a href="#数据库的完整性" class="heading-link"><i class="fas fa-link"></i></a><a href="#数据库的完整性" class="headerlink" title="数据库的完整性"></a>数据库的完整性</h3>
      
        <h4 id="实体完整性"   >
          <a href="#实体完整性" class="heading-link"><i class="fas fa-link"></i></a><a href="#实体完整性" class="headerlink" title="实体完整性"></a>实体完整性</h4>
      <p>保证表中的<strong>行都是唯一</strong>的，也就是说不会出现重复的数据，如何保证呢？我们可以通过给表添加<strong>主键</strong>的方式来完成。</p>

        <h4 id="域完整性"   >
          <a href="#域完整性" class="heading-link"><i class="fas fa-link"></i></a><a href="#域完整性" class="headerlink" title="域完整性"></a>域完整性</h4>
      <p>也叫做列完整性，其实就是对某一列的数据进行约束，如何保证呢？通过<strong>check约束</strong>来实现。</p>

        <h4 id="引用完整性"   >
          <a href="#引用完整性" class="heading-link"><i class="fas fa-link"></i></a><a href="#引用完整性" class="headerlink" title="引用完整性"></a>引用完整性</h4>
      <p>表和表之间关系的完整性设置，也就是说这张表中引用的数据必须在另一张表中存在，我们一般通过外建约束来保证。</p>

        <h4 id="自定义完整性"   >
          <a href="#自定义完整性" class="heading-link"><i class="fas fa-link"></i></a><a href="#自定义完整性" class="headerlink" title="自定义完整性"></a>自定义完整性</h4>
      <p>行业自定义的规则，根据各个行业的规则来设置，一般通过触发器实现。</p>

        <h4 id="emp表中的数据"   >
          <a href="#emp表中的数据" class="heading-link"><i class="fas fa-link"></i></a><a href="#emp表中的数据" class="headerlink" title="emp表中的数据"></a>emp表中的数据</h4>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate)<span class="keyword">VALUES</span> (<span class="number">7369</span>, <span class="string">&#x27;SMITH&#x27;</span>, <span class="string">&#x27;CLERK&#x27;</span>, <span class="number">7902</span>, <span class="string">&#x27;1980-12-17&#x27;</span>, <span class="number">1700.00</span>, <span class="keyword">null</span>, <span class="number">20</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7499</span>, <span class="string">&#x27;ALLEN&#x27;</span>, <span class="string">&#x27;SALESMAN&#x27;</span>, <span class="number">7698</span>, <span class="string">&#x27;1981-02-20&#x27;</span>, <span class="number">1600.00</span>, <span class="number">300.00</span>, <span class="number">30</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7521</span>, <span class="string">&#x27;WARD&#x27;</span>, <span class="string">&#x27;SALESMAN&#x27;</span>, <span class="number">7698</span>, <span class="string">&#x27;1981-02-28&#x27;</span>, <span class="number">1250.00</span>, <span class="number">500.00</span>, <span class="number">30</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7566</span>, <span class="string">&#x27;JONES&#x27;</span>, <span class="string">&#x27;MANAGER&#x27;</span>, <span class="number">7839</span>, <span class="string">&#x27;1981-04-02&#x27;</span>, <span class="number">2976.00</span>, <span class="keyword">null</span>, <span class="number">20</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7654</span>, <span class="string">&#x27;MARTIN&#x27;</span>, <span class="string">&#x27;SALESMAN&#x27;</span>, <span class="number">7698</span>, <span class="string">&#x27;1981-09-28&#x27;</span>, <span class="number">1250.00</span>, <span class="number">1400.00</span>, <span class="number">30</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7698</span>, <span class="string">&#x27;BLAKE&#x27;</span>, <span class="string">&#x27;MANAGER&#x27;</span>, <span class="number">7839</span>, <span class="string">&#x27;1981-05-01&#x27;</span>, <span class="number">2850.00</span>, <span class="keyword">null</span>, <span class="number">30</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7782</span>, <span class="string">&#x27;CLARK&#x27;</span>, <span class="string">&#x27;MANAGER&#x27;</span>, <span class="number">7839</span>, <span class="string">&#x27;2021-01-01&#x27;</span>, <span class="number">1450.00</span>, <span class="keyword">null</span>, <span class="number">10</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7788</span>, <span class="string">&#x27;SCOTT&#x27;</span>, <span class="string">&#x27;ANALYST&#x27;</span>, <span class="number">7566</span>, <span class="string">&#x27;1987-07-13&#x27;</span>, <span class="number">3000.00</span>, <span class="keyword">null</span>, <span class="number">20</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7839</span>, <span class="string">&#x27;KING&#x27;</span>, <span class="string">&#x27;PRESIDENT&#x27;</span>, <span class="keyword">null</span>, <span class="string">&#x27;2021-01-01&#x27;</span>, <span class="number">4000.00</span>, <span class="keyword">null</span>, <span class="number">10</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7844</span>, <span class="string">&#x27;TURNER&#x27;</span>, <span class="string">&#x27;SALESMAN&#x27;</span>, <span class="number">7698</span>, <span class="string">&#x27;1981-09-08&#x27;</span>, <span class="number">1500.00</span>, <span class="number">0.00</span>, <span class="number">30</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7876</span>, <span class="string">&#x27;ADAMS&#x27;</span>, <span class="string">&#x27;CLERK&#x27;</span>, <span class="number">7788</span>, <span class="string">&#x27;1987-07-13&#x27;</span>, <span class="number">1700.00</span>, <span class="keyword">null</span>, <span class="number">20</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7900</span>, <span class="string">&#x27;JAMES&#x27;</span>, <span class="string">&#x27;CLERK&#x27;</span>, <span class="number">7698</span>, <span class="string">&#x27;1981-12-03&#x27;</span>, <span class="number">1550.00</span>, <span class="keyword">null</span>, <span class="number">30</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7902</span>, <span class="string">&#x27;FORD&#x27;</span>, <span class="string">&#x27;ANALYST&#x27;</span>, <span class="number">7566</span>, <span class="string">&#x27;1981-12-03&#x27;</span>, <span class="number">3000.00</span>, <span class="keyword">null</span>, <span class="number">20</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7934</span>, <span class="string">&#x27;MILLER&#x27;</span>, <span class="string">&#x27;CLERK&#x27;</span>, <span class="number">7782</span>, <span class="string">&#x27;2021-01-01&#x27;</span>, <span class="number">900.00</span>, <span class="keyword">null</span>, <span class="number">10</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7935</span>, <span class="string">&#x27;张三丰&#x27;</span>, <span class="string">&#x27;程序员&#x27;</span>, <span class="number">7788</span>, <span class="string">&#x27;2020-06-14&#x27;</span>, <span class="number">8000.00</span>, <span class="number">3000.00</span>, <span class="number">20</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7936</span>, <span class="string">&#x27;虞挺&#x27;</span>, <span class="string">&#x27;程序员&#x27;</span>, <span class="number">7788</span>, <span class="string">&#x27;2022-03-25&#x27;</span>, <span class="number">80000.00</span>, <span class="number">3000.00</span>, <span class="number">20</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7937</span>, <span class="string">&#x27;杜瑜杰&#x27;</span>, <span class="string">&#x27;程序员&#x27;</span>, <span class="number">7566</span>, <span class="string">&#x27;2022-03-01&#x27;</span>, <span class="number">18888.80</span>, <span class="number">4300.00</span>, <span class="number">30</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7939</span>, <span class="string">&#x27;张恒&#x27;</span>, <span class="string">&#x27;程序员&#x27;</span>, <span class="number">7935</span>, <span class="string">&#x27;2021-01-01&#x27;</span>, <span class="number">7000.00</span>, <span class="number">3000.00</span>, <span class="number">10</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7940</span>, <span class="string">&#x27;王玮琪&#x27;</span>, <span class="string">&#x27;程序员&#x27;</span>, <span class="number">7935</span>, <span class="string">&#x27;2021-01-01&#x27;</span>, <span class="number">-700.00</span>, <span class="number">11000.00</span>, <span class="number">10</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7941</span>, <span class="string">&#x27;张鑫&#x27;</span>, <span class="string">&#x27;程序员&#x27;</span>, <span class="number">7788</span>, <span class="string">&#x27;2021-01-01&#x27;</span>, <span class="number">8000.00</span>, <span class="number">2000.00</span>, <span class="number">10</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7942</span>, <span class="string">&#x27;杨颖&#x27;</span>, <span class="string">&#x27;演员&#x27;</span>, <span class="number">7566</span>, <span class="string">&#x27;2022-04-15&#x27;</span>, <span class="number">13800.00</span>, <span class="number">21777.00</span>, <span class="number">20</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7943</span>, <span class="string">&#x27;段卓越&#x27;</span>, <span class="string">&#x27;程序员&#x27;</span>, <span class="number">7788</span>, <span class="string">&#x27;2021-01-01&#x27;</span>, <span class="number">8999.00</span>, <span class="number">3333.00</span>, <span class="number">10</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7944</span>, <span class="string">&#x27;张明杰&#x27;</span>, <span class="string">&#x27;程序员&#x27;</span>, <span class="number">7782</span>, <span class="string">&#x27;2021-01-01&#x27;</span>, <span class="number">9001.00</span>, <span class="number">3333.00</span>, <span class="number">10</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7945</span>, <span class="string">&#x27;陈丹丹&#x27;</span>, <span class="string">&#x27;程序员&#x27;</span>, <span class="number">7566</span>, <span class="string">&#x27;2021-01-01&#x27;</span>, <span class="number">6566.00</span>, <span class="number">7566.00</span>, <span class="number">10</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7946</span>, <span class="string">&#x27;董甜甜&#x27;</span>, <span class="string">&#x27;MANAGER&#x27;</span>, <span class="number">7876</span>, <span class="string">&#x27;2022-04-12&#x27;</span>, <span class="number">9998.00</span>, <span class="number">3456.00</span>, <span class="number">30</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7947</span>, <span class="string">&#x27;秋一凡&#x27;</span>, <span class="string">&#x27;PRESIDENT&#x27;</span>, <span class="number">7935</span>, <span class="string">&#x27;2022-03-28&#x27;</span>, <span class="number">11988.00</span>, <span class="number">2366.00</span>, <span class="number">40</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7948</span>, <span class="string">&#x27;小白&#x27;</span>, <span class="string">&#x27;检测人员&#x27;</span>, <span class="number">7788</span>, <span class="string">&#x27;2022-04-11&#x27;</span>, <span class="number">7777.70</span>, <span class="number">2222.00</span>, <span class="number">30</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7949</span>, <span class="string">&#x27;周杰伦&#x27;</span>, <span class="string">&#x27;SALESMAN&#x27;</span>, <span class="number">7521</span>, <span class="string">&#x27;2022-05-09&#x27;</span>, <span class="number">22.00</span>, <span class="number">33.00</span>, <span class="number">20</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7951</span>, <span class="string">&#x27;刘耕宏&#x27;</span>, <span class="string">&#x27;健身教练&#x27;</span>, <span class="number">7788</span>, <span class="string">&#x27;2021-01-01&#x27;</span>, <span class="number">18800.00</span>, <span class="number">7000.00</span>, <span class="number">10</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7952</span>, <span class="string">&#x27;大白&#x27;</span>, <span class="string">&#x27;页面设计&#x27;</span>, <span class="number">7654</span>, <span class="string">&#x27;2021-01-01&#x27;</span>, <span class="number">11000.00</span>, <span class="number">3000.00</span>, <span class="number">10</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7953</span>, <span class="string">&#x27;注解&#x27;</span>, <span class="string">&#x27;程序员&#x27;</span>, <span class="number">7788</span>, <span class="string">&#x27;2021-01-01&#x27;</span>, <span class="number">11000.00</span>, <span class="number">3000.00</span>, <span class="number">10</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7954</span>, <span class="string">&#x27;熊辉&#x27;</span>, <span class="string">&#x27;SALESMAN&#x27;</span>, <span class="number">7521</span>, <span class="string">&#x27;2022-05-24&#x27;</span>, <span class="number">30000.00</span>, <span class="number">2000.00</span>, <span class="number">30</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7955</span>, <span class="string">&#x27;刘万松&#x27;</span>, <span class="string">&#x27;检测人员&#x27;</span>, <span class="number">7900</span>, <span class="string">&#x27;2022-05-24&#x27;</span>, <span class="number">66666.00</span>, <span class="number">6666.00</span>, <span class="number">20</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7956</span>, <span class="string">&#x27;王雨荷&#x27;</span>, <span class="string">&#x27;程序员&#x27;</span>, <span class="number">7954</span>, <span class="string">&#x27;2020-01-01&#x27;</span>, <span class="number">9999.00</span>, <span class="keyword">null</span>, <span class="number">20</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7957</span>, <span class="string">&#x27;费艺飞&#x27;</span>, <span class="string">&#x27;PM&#x27;</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="number">8888.00</span>, <span class="keyword">null</span>, <span class="keyword">null</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7958</span>, <span class="string">&#x27;张心超&#x27;</span>, <span class="string">&#x27;检测人员&#x27;</span>, <span class="number">7788</span>, <span class="string">&#x27;2019-05-05&#x27;</span>, <span class="number">7777.00</span>, <span class="number">3333.00</span>, <span class="number">20</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7959</span>, <span class="string">&#x27;陈红&#x27;</span>, <span class="string">&#x27;检测人员&#x27;</span>, <span class="number">7788</span>, <span class="string">&#x27;2019-05-31&#x27;</span>, <span class="number">7777.00</span>, <span class="number">3333.00</span>, <span class="number">20</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7960</span>, <span class="string">&#x27;朱明华&#x27;</span>, <span class="string">&#x27;学生&#x27;</span>, <span class="number">7788</span>, <span class="string">&#x27;2022-07-16&#x27;</span>, <span class="number">8000.00</span>, <span class="number">1000.00</span>, <span class="number">40</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7961</span>, <span class="string">&#x27;宁萌&#x27;</span>, <span class="string">&#x27;学生&#x27;</span>, <span class="number">7788</span>, <span class="string">&#x27;2022-07-16&#x27;</span>, <span class="number">8500.00</span>, <span class="number">1000.00</span>, <span class="number">40</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7962</span>, <span class="string">&#x27;余娟娟&#x27;</span>, <span class="string">&#x27;学生&#x27;</span>, <span class="number">7788</span>, <span class="string">&#x27;2022-07-16&#x27;</span>, <span class="number">8000.00</span>, <span class="number">1000.00</span>, <span class="number">40</span>, <span class="number">1</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> emp (empno, ename, job, mgr, hiredate, sal, comm, deptno, empstate) <span class="keyword">VALUES</span> (<span class="number">7963</span>, <span class="string">&#x27;王定楠&#x27;</span>, <span class="string">&#x27;学生&#x27;</span>, <span class="number">7788</span>, <span class="string">&#x27;2022-07-16&#x27;</span>, <span class="number">8000.00</span>, <span class="number">1000.00</span>, <span class="number">40</span>, <span class="number">1</span>);</span><br></pre></td></tr></table></div></figure>




        <h2 id="7-17-晚总结"   >
          <a href="#7-17-晚总结" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-17-晚总结" class="headerlink" title="7-17 晚总结"></a>7-17 晚总结</h2>
      
        <h3 id="数据库事务"   >
          <a href="#数据库事务" class="heading-link"><i class="fas fa-link"></i></a><a href="#数据库事务" class="headerlink" title="数据库事务"></a>数据库事务</h3>
      
        <h4 id="什么是数据库事务"   >
          <a href="#什么是数据库事务" class="heading-link"><i class="fas fa-link"></i></a><a href="#什么是数据库事务" class="headerlink" title="什么是数据库事务?"></a>什么是数据库事务?</h4>
      <p>答：数据库事务是访问并操作各种数据的一个数据库操作序列，要么全部执行，要么都不执行，是一个不可分割的工作单元；</p>
<p>数据库事务是指由事务开始到事务结束之间执行的全部操作组成，事务是一个批处理的操作。</p>
<p>数据库事务的四大特性（ACID）：</p>
<p>原子性：事务中的全部操作（insert , update, delete）在数据库中是不可分割的，要么都成功，要么都失败。</p>
<p>一致性：指事物在执行前和执行后数据库的完整性都是一致的，没有被破坏。</p>
<p>隔离性：指多个事务在并行执行过程中 ， 互不干扰，且事物执行中间结果对其他事务是透明的。</p>
<p>持久性：任意已经提交的事务对数据库的影响是持久的。</p>
<figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">set</span> autocommit <span class="operator">=</span> <span class="number">1</span> ; #打开自动提交事务</span><br><span class="line"><span class="keyword">set</span> autocommit <span class="operator">=</span> <span class="number">0</span> ; #关闭自动提交事务</span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> emp <span class="keyword">set</span> sal<span class="operator">=</span>sal<span class="operator">+</span><span class="number">300</span> <span class="keyword">where</span> job<span class="operator">=</span><span class="string">&#x27;程序员&#x27;</span>;  #更改emp表中数据</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp; #此时在内存中更改了sal，但是数据库中并未发生变化</span><br><span class="line"></span><br><span class="line">#如果设置了取消自动提交事物，那么事物开始之后的所有操作，是在内存中操作，数据库并未影响，只有执行事物结束后，数据库才会更新其操作</span><br><span class="line"><span class="keyword">commit</span>; #事务结束 <span class="comment">-- 确认提交</span></span><br><span class="line"><span class="keyword">rollback</span>; #事务结束 <span class="comment">--撤销滚回 （执行其中一种方式即可结束事务）</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp; #此时在内存中更改了sal，数据库中也发生变化</span><br><span class="line"></span><br><span class="line">#保存记录点</span><br><span class="line"><span class="keyword">update</span> emp <span class="keyword">set</span> sal<span class="operator">=</span>sal<span class="operator">+</span><span class="number">300</span> <span class="keyword">where</span> empno<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"><span class="keyword">savepoint</span> s1; #设置了记录点</span><br><span class="line"><span class="keyword">rollback</span> <span class="keyword">to</span> s1; #回滚到记录点s1 此时并未事务结束</span><br><span class="line"><span class="keyword">commit</span>; #事务结束</span><br></pre></td></tr></table></div></figure>


        <h3 id="DQL操作（重点）"   >
          <a href="#DQL操作（重点）" class="heading-link"><i class="fas fa-link"></i></a><a href="#DQL操作（重点）" class="headerlink" title="DQL操作（重点）"></a>DQL操作（重点）</h3>
      
        <h4 id="select—-查询语句"   >
          <a href="#select—-查询语句" class="heading-link"><i class="fas fa-link"></i></a><a href="#select—-查询语句" class="headerlink" title="select—-查询语句"></a>select—-查询语句</h4>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> 待显示列子段列表 <span class="keyword">from</span> 表名 [<span class="keyword">where</span> 条件] [<span class="keyword">group</span> <span class="keyword">by</span> 分组] [<span class="keyword">having</span> 筛选条件] [<span class="keyword">order</span> <span class="keyword">by</span> 排序] [limit ?,?];</span><br><span class="line"></span><br><span class="line">#<span class="keyword">having</span>与 <span class="keyword">where</span> 的区别？</span><br><span class="line">答：<span class="keyword">having</span> 关键字和 <span class="keyword">where</span> 关键字都可以用来过滤数据，且 <span class="keyword">having</span> 支持 <span class="keyword">where</span> 关键字中所有的操作符和语法。</span><br><span class="line">但是 <span class="keyword">where</span> 和 <span class="keyword">having</span> 关键字也存在以下几点差异：</span><br><span class="line"><span class="number">1.</span>一般情况下，<span class="keyword">where</span> 用于过滤数据行，而 <span class="keyword">having</span> 用于过滤分组。</span><br><span class="line"><span class="number">2.</span><span class="keyword">where</span> 查询条件中不可以使用聚合函数，而 <span class="keyword">having</span> 查询条件中可以使用聚合函数。</span><br><span class="line"><span class="number">3.</span><span class="keyword">where</span> 在数据分组（ <span class="keyword">group</span> <span class="keyword">by</span>）前进行过滤，而 <span class="keyword">having</span> 在数据分组后进行过滤 。</span><br><span class="line"><span class="number">4.</span><span class="keyword">where</span> 针对数据库文件进行过滤，而 <span class="keyword">having</span> 针对查询结果进行过滤。也就是说，<span class="keyword">WHERE</span> 根据数据表中的字段直接进行过滤，而 <span class="keyword">having</span>是根据前面已经查询出的字段进行过滤。</span><br><span class="line"><span class="number">5.</span><span class="keyword">where</span> 查询条件中不可以使用字段别名，而 <span class="keyword">having</span> 查询条件中可以使用字段别名。</span><br></pre></td></tr></table></div></figure>


        <h5 id="1、全表查询"   >
          <a href="#1、全表查询" class="heading-link"><i class="fas fa-link"></i></a><a href="#1、全表查询" class="headerlink" title="1、全表查询"></a>1、全表查询</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></div></figure>


        <h5 id="2、查询部分列的数据"   >
          <a href="#2、查询部分列的数据" class="heading-link"><i class="fas fa-link"></i></a><a href="#2、查询部分列的数据" class="headerlink" title="2、查询部分列的数据"></a>2、查询部分列的数据</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> empno,ename,job,sal <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></div></figure>


        <h5 id="3、给查询出来的列起别名"   >
          <a href="#3、给查询出来的列起别名" class="heading-link"><i class="fas fa-link"></i></a><a href="#3、给查询出来的列起别名" class="headerlink" title="3、给查询出来的列起别名"></a>3、给查询出来的列起别名</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># 表也可以起别名</span><br><span class="line"><span class="keyword">select</span> empno <span class="keyword">as</span> <span class="string">&#x27;编码&#x27;</span>, ename <span class="keyword">as</span> <span class="string">&#x27;姓名&#x27;</span> <span class="keyword">from</span> emp 员工基本表;</span><br></pre></td></tr></table></div></figure>


        <h5 id="4、通过关系运算符筛选部分行信息"   >
          <a href="#4、通过关系运算符筛选部分行信息" class="heading-link"><i class="fas fa-link"></i></a><a href="#4、通过关系运算符筛选部分行信息" class="headerlink" title="4、通过关系运算符筛选部分行信息"></a>4、通过关系运算符筛选部分行信息</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># <span class="operator">&gt;</span> <span class="operator">&gt;=</span> <span class="operator">&lt;</span> <span class="operator">&lt;=</span> <span class="operator">&lt;&gt;</span>(<span class="operator">!=</span>) <span class="operator">=</span></span><br><span class="line"><span class="keyword">select</span> empno,ename,job,sal <span class="keyword">from</span> emp <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;劳晖雅&#x27;</span>;</span><br></pre></td></tr></table></div></figure>


        <h5 id="5、通过逻辑运算符筛选部分行信息"   >
          <a href="#5、通过逻辑运算符筛选部分行信息" class="heading-link"><i class="fas fa-link"></i></a><a href="#5、通过逻辑运算符筛选部分行信息" class="headerlink" title="5、通过逻辑运算符筛选部分行信息"></a>5、通过逻辑运算符筛选部分行信息</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">5</span>、通过逻辑运算符筛选 : <span class="keyword">and</span>(等同<span class="operator">&amp;&amp;</span>) <span class="keyword">or</span>（等同<span class="operator">||</span>）  <span class="keyword">not</span>（等同！）</span><br><span class="line"># 面试题：<span class="operator">&amp;&amp;</span>与<span class="operator">&amp;</span>的区别？</span><br><span class="line"># <span class="operator">&amp;&amp;</span>是短路与，<span class="operator">&amp;</span>也可作位运算符 按位与操作 两边表达式不属于<span class="type">boolean</span>类型；</span><br><span class="line"># <span class="operator">&amp;&amp;</span>只有两边都是真才为真，左算边为假则不再计右边 <span class="operator">&amp;</span>两侧均为真整体结果才为真 ；</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> empno,ename <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">=</span><span class="string">&#x27;10500&#x27;</span><span class="keyword">and</span> empno<span class="operator">=</span><span class="number">2</span>;</span><br></pre></td></tr></table></div></figure>


        <h5 id="6、在查询中使用算术运算符"   >
          <a href="#6、在查询中使用算术运算符" class="heading-link"><i class="fas fa-link"></i></a><a href="#6、在查询中使用算术运算符" class="headerlink" title="6、在查询中使用算术运算符"></a>6、在查询中使用算术运算符</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">#  <span class="operator">+</span> <span class="operator">-</span> <span class="operator">*</span> <span class="operator">/</span> <span class="operator">%</span></span><br><span class="line"><span class="keyword">select</span> empno,ename,sal<span class="operator">+</span><span class="number">300</span> <span class="keyword">from</span> emp ;</span><br></pre></td></tr></table></div></figure>


        <h5 id="7、唯一查询—去掉重复项，一般针对与一列"   >
          <a href="#7、唯一查询—去掉重复项，一般针对与一列" class="heading-link"><i class="fas fa-link"></i></a><a href="#7、唯一查询—去掉重复项，一般针对与一列" class="headerlink" title="7、唯一查询—去掉重复项，一般针对与一列"></a>7、唯一查询—去掉重复项，一般针对与一列</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> sal , empno ,ename <span class="keyword">from</span> emp; # <span class="keyword">distinct</span>只能放在<span class="keyword">select</span>后第一个 这种写法表示<span class="keyword">distinct</span>后面的都去重</span><br></pre></td></tr></table></div></figure>




        <h5 id="8、常量查询"   >
          <a href="#8、常量查询" class="heading-link"><i class="fas fa-link"></i></a><a href="#8、常量查询" class="headerlink" title="8、常量查询"></a>8、常量查询</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">123</span>;</span><br></pre></td></tr></table></div></figure>




        <h5 id="9、空查询-—-与null比较要用-is-null-运算符"   >
          <a href="#9、空查询-—-与null比较要用-is-null-运算符" class="heading-link"><i class="fas fa-link"></i></a><a href="#9、空查询-—-与null比较要用-is-null-运算符" class="headerlink" title="9、空查询 —-与null比较要用 is null 运算符"></a>9、空查询 —-与null比较要用 is null 运算符</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> hiredate<span class="operator">=</span><span class="keyword">null</span>; #错</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> hiredate <span class="keyword">is</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> hiredate <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></div></figure>




        <h5 id="10、if-与-ifnull-函数的使用"   >
          <a href="#10、if-与-ifnull-函数的使用" class="heading-link"><i class="fas fa-link"></i></a><a href="#10、if-与-ifnull-函数的使用" class="headerlink" title="10、if 与 ifnull 函数的使用"></a>10、if 与 ifnull 函数的使用</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ename,sal,comm,sal<span class="operator">+</span>comm <span class="keyword">as</span> <span class="string">&#x27;月收入&#x27;</span> <span class="keyword">from</span> emp ; #任何数<span class="operator">+</span><span class="keyword">null</span>结果都是<span class="keyword">null</span></span><br><span class="line"><span class="keyword">select</span> ename,sal,comm,sal<span class="operator">+</span>if(comm <span class="keyword">is</span> <span class="keyword">null</span>,<span class="number">0</span>,comm) <span class="keyword">from</span> emp;#或者是</span><br><span class="line"><span class="keyword">select</span> ename,sal,comm,sal<span class="operator">+</span>ifnull(comm,<span class="number">0</span>) <span class="keyword">from</span> emp;</span><br></pre></td></tr></table></div></figure>




        <h5 id="11、范围查询-—-between-…-and-…"   >
          <a href="#11、范围查询-—-between-…-and-…" class="heading-link"><i class="fas fa-link"></i></a><a href="#11、范围查询-—-between-…-and-…" class="headerlink" title="11、范围查询 —- between … and …"></a>11、范围查询 —- between … and …</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">&gt;=</span><span class="number">2000</span> <span class="keyword">and</span> sal<span class="operator">&lt;=</span><span class="number">4000</span>;#等同</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal <span class="keyword">between</span> <span class="number">1000</span> <span class="keyword">and</span> <span class="number">15000</span>;</span><br></pre></td></tr></table></div></figure>




        <h5 id="12、范围查询-—-in-和-not-in"   >
          <a href="#12、范围查询-—-in-和-not-in" class="heading-link"><i class="fas fa-link"></i></a><a href="#12、范围查询-—-in-和-not-in" class="headerlink" title="12、范围查询 —- in 和  not in"></a>12、范围查询 —- in 和  not in</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;劳晖雅&#x27;</span> <span class="keyword">or</span> ename<span class="operator">=</span><span class="string">&#x27;肖战&#x27;</span>;#等同</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">in</span>(<span class="string">&#x27;劳晖雅&#x27;</span>,<span class="string">&#x27;肖战&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">not</span> <span class="keyword">in</span>(<span class="string">&#x27;劳晖雅&#x27;</span>,<span class="string">&#x27;肖战&#x27;</span>);</span><br></pre></td></tr></table></div></figure>




        <h5 id="13、模糊查询-—-like"   >
          <a href="#13、模糊查询-—-like" class="heading-link"><i class="fas fa-link"></i></a><a href="#13、模糊查询-—-like" class="headerlink" title="13、模糊查询 — like"></a>13、模糊查询 — like</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># <span class="operator">%</span>:通配符代表<span class="number">0</span>到正无穷个任意字符  _:通配<span class="number">1</span>个任意字符</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">&#x27;劳%&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename <span class="keyword">like</span> <span class="string">&#x27;肖_&#x27;</span>;</span><br></pre></td></tr></table></div></figure>


        <h5 id="14、排序查询-–-order-by-desc（降序）-asc（升序-系统默认的可以不写）"   >
          <a href="#14、排序查询-–-order-by-desc（降序）-asc（升序-系统默认的可以不写）" class="heading-link"><i class="fas fa-link"></i></a><a href="#14、排序查询-–-order-by-desc（降序）-asc（升序-系统默认的可以不写）" class="headerlink" title="14、排序查询 – order by  desc（降序） asc（升序  系统默认的可以不写）"></a>14、排序查询 – order by  desc（降序） asc（升序  系统默认的可以不写）</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> sal <span class="keyword">desc</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">order</span> <span class="keyword">by</span> sal <span class="keyword">asc</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> job<span class="operator">=</span><span class="string">&#x27;歌手&#x27;</span> <span class="keyword">order</span> <span class="keyword">by</span> sal</span><br></pre></td></tr></table></div></figure>




        <h5 id="15、聚合-分组、统计-函数查询-—-max-min-sum-avg-count"   >
          <a href="#15、聚合-分组、统计-函数查询-—-max-min-sum-avg-count" class="heading-link"><i class="fas fa-link"></i></a><a href="#15、聚合-分组、统计-函数查询-—-max-min-sum-avg-count" class="headerlink" title="15、聚合(分组、统计)函数查询 — max min sum avg count"></a>15、聚合(分组、统计)函数查询 — max min sum avg count</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(sal),<span class="built_in">min</span>(sal),<span class="built_in">sum</span>(sal),<span class="built_in">avg</span>(sal),<span class="built_in">count</span>(sal) <span class="keyword">from</span> emp;</span><br><span class="line">#max、min可以用作所有数据类型,sum和avg只能用于数值类型</span><br><span class="line">#sum和avg会自动忽略<span class="keyword">null</span></span><br><span class="line">#统计表中一共有多少行</span><br><span class="line"><span class="keyword">SELECT</span> <span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> emp;#不推荐写法 <span class="operator">*</span>代表所有行</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">count</span>(empno) <span class="keyword">from</span> emp; #推荐写法 empno是主键</span><br></pre></td></tr></table></div></figure>




        <h5 id="16、分组查询"   >
          <a href="#16、分组查询" class="heading-link"><i class="fas fa-link"></i></a><a href="#16、分组查询" class="headerlink" title="16、分组查询"></a>16、分组查询</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">#统计每个职位的最高工资和最低工资</span><br><span class="line"><span class="keyword">select</span> job,<span class="built_in">max</span>(sal),<span class="built_in">min</span>(sal) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> job;</span><br><span class="line"></span><br><span class="line">#注意：如果使用了分组或者分组函数，那么<span class="keyword">select</span>和<span class="keyword">from</span>之间只能书写分组字段或分组函数</span><br><span class="line"><span class="keyword">select</span> ename,job,<span class="built_in">max</span>(sal),<span class="built_in">min</span>(sal) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> job;#错</span><br><span class="line"></span><br><span class="line">#问题<span class="number">1</span>：统计每个职位工资大于<span class="number">3000</span>的人数</span><br><span class="line"><span class="keyword">select</span> job,<span class="built_in">count</span>(empno) <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">&gt;</span><span class="number">3000</span> <span class="keyword">group</span> <span class="keyword">by</span> job;</span><br><span class="line"></span><br><span class="line">#问题<span class="number">2</span>：统计有那些职位有工资大于<span class="number">3000</span>的人数大于<span class="number">2</span>人</span><br><span class="line">#<span class="keyword">select</span> job,<span class="built_in">count</span>(empno) <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">&gt;</span><span class="number">3000</span> <span class="keyword">and</span> <span class="built_in">count</span>(empno)<span class="operator">&gt;</span><span class="number">2</span> <span class="keyword">group</span> <span class="keyword">by</span> job;#错</span><br><span class="line">#语法上来说：<span class="keyword">where</span> 查询条件中不可以使用聚合函数，而 <span class="keyword">having</span> 查询条件中可以使用聚合函数</span><br><span class="line"><span class="keyword">select</span> job,<span class="built_in">count</span>(empno) <span class="keyword">from</span> emp</span><br><span class="line">    <span class="keyword">where</span> sal<span class="operator">&gt;</span><span class="number">3000</span> <span class="keyword">group</span> <span class="keyword">by</span> job <span class="keyword">having</span> <span class="built_in">count</span>(empno)<span class="operator">&gt;</span><span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">#问题<span class="number">3</span>：多字段分组 首先按照职位进行分组，在职位的分组列表中 再按照姓名进行二次分组</span><br><span class="line"><span class="keyword">select</span> job,ename <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> job,ename;</span><br></pre></td></tr></table></div></figure>




        <h5 id="17、union拼接查询-—-union不会拼接重复数据-（了解）"   >
          <a href="#17、union拼接查询-—-union不会拼接重复数据-（了解）" class="heading-link"><i class="fas fa-link"></i></a><a href="#17、union拼接查询-—-union不会拼接重复数据-（了解）" class="headerlink" title="17、union拼接查询 — union不会拼接重复数据  （了解）"></a>17、union拼接查询 — union不会拼接重复数据  （了解）</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">7</span> <span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">8</span> <span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">9</span> <span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">10</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="number">7</span> <span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">7</span> <span class="keyword">union</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">8</span>;</span><br><span class="line">#不忽略重复行</span><br><span class="line"><span class="keyword">select</span> <span class="number">7</span> <span class="keyword">union</span> <span class="keyword">all</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">7</span> <span class="keyword">union</span> <span class="keyword">all</span></span><br><span class="line"><span class="keyword">select</span> <span class="number">8</span>;</span><br></pre></td></tr></table></div></figure>




        <h5 id="18、分页查询-—-limit"   >
          <a href="#18、分页查询-—-limit" class="heading-link"><i class="fas fa-link"></i></a><a href="#18、分页查询-—-limit" class="headerlink" title="18、分页查询 — [limit ?,?]"></a>18、分页查询 — [limit ?,?]</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp limit <span class="number">0</span>,<span class="number">5</span>; #<span class="number">0</span>:从第几条开始取 <span class="number">5</span>:每次获取多少条</span><br><span class="line"></span><br><span class="line">#假设page是当前页码 size是每页显示多少条</span><br><span class="line">#<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp limit (page<span class="number">-1</span>)<span class="operator">*</span>size, size;</span><br><span class="line"></span><br><span class="line">#缩写形式</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp limit <span class="number">5</span>;</span><br></pre></td></tr></table></div></figure>




        <h5 id="19、正则表达式查询-（了解）-一般都使用模糊查询"   >
          <a href="#19、正则表达式查询-（了解）-一般都使用模糊查询" class="heading-link"><i class="fas fa-link"></i></a><a href="#19、正则表达式查询-（了解）-一般都使用模糊查询" class="headerlink" title="19、正则表达式查询 （了解） 一般都使用模糊查询"></a>19、正则表达式查询 （了解） 一般都使用模糊查询</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">#查找姓名中带雨的员工</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename regexp <span class="string">&#x27;雨&#x27;</span>;</span><br><span class="line">#查找姓名中以雨结尾的员工</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename regexp <span class="string">&#x27;雨$&#x27;</span>; #$代表结束</span><br><span class="line">#查找姓名中以郭开头的员工</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename regexp <span class="string">&#x27;^郭&#x27;</span>; #<span class="operator">^</span>代表开头</span><br><span class="line">#查找姓名中带郭、宝、凤的员工</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename regexp <span class="string">&#x27;[郭宝凤]&#x27;</span>;</span><br><span class="line">#查找姓名以郭开头只有<span class="number">3</span>个字的员工</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename regexp <span class="string">&#x27;^郭.&#123;2&#125;$&#x27;</span>;  #.代表任意一个字符 &#123;<span class="number">2</span>&#125;代表数量</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename regexp <span class="string">&#x27;^郭.&#123;2,3&#125;$&#x27;</span>; #&#123;<span class="number">2</span>,<span class="number">3</span>&#125;代表最少<span class="number">2</span>个字符，最多<span class="number">3</span>个字符</span><br><span class="line">#问题：姓名中包含雨但是雨不能在首位和末尾的员工</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> ename regexp <span class="string">&#x27;雨&#x27;</span> <span class="keyword">and</span> ename <span class="keyword">not</span> regexp <span class="string">&#x27;雨$&#x27;</span> <span class="keyword">and</span> ename <span class="keyword">not</span> regexp <span class="string">&#x27;^雨&#x27;</span>;</span><br></pre></td></tr></table></div></figure>




        <h5 id="20、常用函数查询"   >
          <a href="#20、常用函数查询" class="heading-link"><i class="fas fa-link"></i></a><a href="#20、常用函数查询" class="headerlink" title="20、常用函数查询"></a>20、常用函数查询</h5>
      
        <h6 id="20-1、数字函数"   >
          <a href="#20-1、数字函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#20-1、数字函数" class="headerlink" title="20-1、数字函数"></a>20-1、数字函数</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#返回绝对值</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">abs</span>(<span class="number">-1</span>),<span class="built_in">abs</span>(<span class="number">8</span>);</span><br><span class="line"></span><br><span class="line">#取整数 重点 记住 floor向下，ceil向上 ，round取余</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">floor</span>(<span class="number">5.6</span>),<span class="built_in">floor</span>(<span class="number">5.4</span>),<span class="built_in">ceil</span>(<span class="number">5.6</span>),<span class="built_in">ceil</span>(<span class="number">5.4</span>),round(<span class="number">5.6</span>),round(<span class="number">5.4</span>);</span><br><span class="line"></span><br><span class="line">#返回随机数 [<span class="number">0</span>,<span class="number">1</span>)</span><br><span class="line">#[<span class="number">1</span>,<span class="number">10</span>]</span><br><span class="line"><span class="keyword">select</span> rand(),<span class="built_in">ceil</span>(rand()<span class="operator">*</span><span class="number">10</span>);</span><br><span class="line">        </span><br><span class="line">#返回余数</span><br><span class="line"><span class="keyword">select</span> <span class="number">8</span><span class="operator">%</span><span class="number">3</span>,<span class="built_in">mod</span>(<span class="number">8</span>,<span class="number">3</span>);</span><br></pre></td></tr></table></div></figure>




        <h6 id="20-2、字符串函数"   >
          <a href="#20-2、字符串函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#20-2、字符串函数" class="headerlink" title="20-2、字符串函数"></a>20-2、字符串函数</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">#获取字符串的长度  字符数（重点），字节数，所占位数</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">char_length</span>(<span class="string">&#x27;a8啊b好&#x27;</span>),length(<span class="string">&#x27;a8啊b好&#x27;</span>),bit_length(<span class="string">&#x27;a8啊b好&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#查询姓名中带中文的员工</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> <span class="keyword">char_length</span>(ename)<span class="operator">&lt;&gt;</span>length(ename);</span><br><span class="line"></span><br><span class="line">#截取字符串（重点）</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">left</span>(<span class="string">&#x27;abcdefg&#x27;</span>,<span class="number">3</span>);#截取前三个字符</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">right</span>(<span class="string">&#x27;abcdefg&#x27;</span>,<span class="number">3</span>); #截取后三个字符</span><br><span class="line"><span class="keyword">select</span> substr(<span class="string">&#x27;abcdefg&#x27;</span>,<span class="number">2</span>,<span class="number">3</span>);#从第<span class="number">2</span>个开始 截取三个字符</span><br><span class="line"></span><br><span class="line">#查找字符串 重点</span><br><span class="line"><span class="keyword">select</span> instr(<span class="string">&#x27;abcedfgabcd&#x27;</span>,<span class="string">&#x27;a&#x27;</span>);#查找a在目标字符串（abcedfgabcd）第一次出现的位置，如果没有返回<span class="number">0</span>  （推荐记这个）</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">position</span>(<span class="string">&#x27;a&#x27;</span> <span class="keyword">in</span> <span class="string">&#x27;abcedfgabcd&#x27;</span>);#同上 只记一个</span><br><span class="line"></span><br><span class="line">#反转字符串</span><br><span class="line"><span class="keyword">select</span> <span class="string">&#x27;abcd&#x27;</span>,reverse(<span class="string">&#x27;abcd&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#替换字符串 重点</span><br><span class="line"><span class="keyword">select</span> <span class="string">&#x27;abcdefghasdsgdj&#x27;</span>,replace(<span class="string">&#x27;abcdefghasdsgdj&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;M&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#重复书写</span><br><span class="line"><span class="keyword">select</span> repeat(<span class="string">&#x27;abc&#x27;</span>,<span class="number">3</span>);</span><br><span class="line"></span><br><span class="line">#拼接字符串 重点</span><br><span class="line"><span class="keyword">select</span> <span class="string">&#x27;abc&#x27;</span><span class="operator">+</span><span class="string">&#x27;bcd&#x27;</span>;#❌ <span class="operator">+</span>只能求和</span><br><span class="line"><span class="keyword">select</span> concat(<span class="string">&#x27;abc&#x27;</span>,<span class="string">&#x27;bcd&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> concat(<span class="string">&#x27;abc&#x27;</span>,<span class="string">&#x27;bcd&#x27;</span>,<span class="string">&#x27;cde&#x27;</span>,<span class="string">&#x27;def&#x27;</span>); #可以拼接多个字符串</span><br><span class="line"><span class="keyword">select</span> concat_ws(<span class="string">&#x27;，&#x27;</span>,<span class="string">&#x27;abc&#x27;</span>,<span class="string">&#x27;bcd&#x27;</span>,<span class="string">&#x27;cde&#x27;</span>,<span class="string">&#x27;def&#x27;</span>); #第一个字符串是分隔符</span><br><span class="line"></span><br><span class="line">#去除空格</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">trim</span>(<span class="string">&#x27;      a      b      &#x27;</span>),ltrim(<span class="string">&#x27;          a            b            &#x27;</span>),rtrim(<span class="string">&#x27;          a            b            &#x27;</span>);</span><br><span class="line"></span><br><span class="line">#大小写</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">upper</span>(<span class="string">&#x27;aBcD&#x27;</span>),<span class="built_in">lower</span>(<span class="string">&#x27;aBcD&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#获取ASCII码 但是<span class="number">0</span><span class="number">-127</span>之间的内容</span><br><span class="line"><span class="keyword">select</span> ascii(<span class="string">&#x27;a&#x27;</span>),ascii(<span class="string">&#x27;张&#x27;</span>);#张❌</span><br></pre></td></tr></table></div></figure>




        <h6 id="20-3、时间日期函数"   >
          <a href="#20-3、时间日期函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#20-3、时间日期函数" class="headerlink" title="20-3、时间日期函数"></a>20-3、时间日期函数</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#获取当前时间 now()重点</span><br><span class="line"><span class="keyword">select</span> now(),<span class="built_in">current_date</span>(),<span class="built_in">current_time</span>();</span><br><span class="line"></span><br><span class="line">#获取到年月日时分秒</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">year</span>(now()),<span class="keyword">month</span>(now()),dayofmonth(now()),<span class="keyword">hour</span>(now()),<span class="keyword">minute</span>(now()),<span class="keyword">second</span>(now()),dayofweek(now());</span><br><span class="line"></span><br><span class="line">#时间日期的累加操作</span><br><span class="line"><span class="keyword">select</span> adddate(now(),<span class="type">interval</span> <span class="number">1</span> <span class="keyword">month</span>); #获取<span class="number">1</span>个月之后的日期</span><br><span class="line"><span class="keyword">select</span> adddate(now(),<span class="type">interval</span> <span class="number">5</span> <span class="keyword">year</span>); #获取到<span class="number">5</span>年之后的日期</span><br><span class="line"><span class="keyword">select</span> adddate(now(),<span class="type">interval</span> <span class="number">-3</span> <span class="keyword">day</span>); #获取到<span class="number">3</span>天之前的日期</span><br><span class="line"><span class="keyword">select</span> ADDTIME(NOW(),<span class="string">&#x27;0:1:0&#x27;</span>); #获取到<span class="number">1</span>分钟之后的时间</span><br><span class="line"><span class="keyword">select</span> ADDTIME(NOW(),<span class="string">&#x27;6:7:8&#x27;</span>); #获取到<span class="number">6</span>时<span class="number">7</span>分<span class="number">8</span>秒之后的时间</span><br><span class="line"></span><br><span class="line">#获取到当月的最后一天</span><br><span class="line"><span class="keyword">select</span> last_day(<span class="string">&#x27;2011-2-4&#x27;</span>),last_day(<span class="string">&#x27;2000-2-1&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#时间日期的累加操作  重点</span><br><span class="line"><span class="keyword">select</span> date_add(now(),<span class="type">interval</span> <span class="number">3</span> <span class="keyword">day</span>);</span><br><span class="line"><span class="keyword">select</span> date_add(now(),<span class="type">interval</span> <span class="number">-3</span> <span class="keyword">month</span>);</span><br><span class="line"><span class="keyword">select</span> date_add(now(),<span class="type">interval</span> <span class="number">8</span> <span class="keyword">year</span>);</span><br><span class="line"><span class="keyword">select</span> date_add(now(),<span class="type">interval</span> <span class="number">19</span> <span class="keyword">second</span> );</span><br><span class="line"><span class="keyword">select</span> date_add(now(),<span class="type">interval</span> <span class="number">-7</span> <span class="keyword">minute</span> );</span><br><span class="line"><span class="keyword">select</span> date_add(now(),<span class="type">interval</span> <span class="number">-29</span> <span class="keyword">hour</span> );</span><br><span class="line"></span><br><span class="line">#计算日期之差  重点</span><br><span class="line"><span class="keyword">select</span> datediff(<span class="string">&#x27;2021-9-7&#x27;</span>,<span class="string">&#x27;2022-11-7&#x27;</span>); #计算一年则除以<span class="number">365</span></span><br><span class="line"></span><br><span class="line">#格式化时间</span><br><span class="line"><span class="keyword">select</span> date_format(now(),<span class="string">&#x27;%Y年%m月%d日&#x27;</span>);</span><br></pre></td></tr></table></div></figure>




        <h6 id="20-4、系统函数"   >
          <a href="#20-4、系统函数" class="heading-link"><i class="fas fa-link"></i></a><a href="#20-4、系统函数" class="headerlink" title="20-4、系统函数"></a>20-4、系统函数</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#<span class="keyword">case</span>类型转换 一般用使用<span class="operator">+</span>来类型转换string<span class="comment">--&gt;int；</span></span><br><span class="line"><span class="keyword">select</span> <span class="string">&#x27;029&#x27;</span><span class="operator">+</span><span class="number">1</span>,<span class="built_in">cast</span>(<span class="string">&#x27;029&#x27;</span> <span class="keyword">as</span> signed <span class="type">integer</span> ); #cast类型转换  string<span class="comment">--&gt;int</span></span><br><span class="line">#一般用使用concat()来类型转换<span class="type">int</span><span class="comment">--&gt;string；</span></span><br><span class="line"><span class="keyword">select</span> concat(<span class="number">111</span>,<span class="string">&#x27;&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#小数点后保留几位</span><br><span class="line"><span class="keyword">select</span> format(<span class="string">&#x27;2.9998&#x27;</span>,<span class="number">2</span>);</span><br></pre></td></tr></table></div></figure>


        <h2 id="7-18-晚总结"   >
          <a href="#7-18-晚总结" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-18-晚总结" class="headerlink" title="7-18 晚总结"></a>7-18 晚总结</h2>
      
        <h3 id="续DQL操作-（重点）"   >
          <a href="#续DQL操作-（重点）" class="heading-link"><i class="fas fa-link"></i></a><a href="#续DQL操作-（重点）" class="headerlink" title="续DQL操作 （重点）"></a>续DQL操作 （重点）</h3>
      
        <h5 id="21、子查询"   >
          <a href="#21、子查询" class="heading-link"><i class="fas fa-link"></i></a><a href="#21、子查询" class="headerlink" title="21、子查询"></a>21、子查询</h5>
      <p>概念：嵌套查询，一条查询结果呢作为另一条一句查询的条件时，这个查询就是子查询，外层是父类查询</p>
<p>子查询的分类：</p>

        <h6 id="21-1-标亮子查询："   >
          <a href="#21-1-标亮子查询：" class="heading-link"><i class="fas fa-link"></i></a><a href="#21-1-标亮子查询：" class="headerlink" title="21.1 标亮子查询："></a>21.1 标亮子查询：</h6>
      <p>​	概念：指的是子查询返回的结果只有一行一列，子查询中最简单的</p>
<figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#问题一：查询职位和杨颖一样并且工资比小白高的员工</span><br><span class="line">初学者建议分步分析：</span><br><span class="line"><span class="keyword">select</span> job <span class="keyword">from</span> emp <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;杨颖&#x27;</span>; #查询结果只有一行一列</span><br><span class="line"><span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;小白&#x27;</span>;</span><br><span class="line">#一条语句实现</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp</span><br><span class="line">    <span class="keyword">where</span> job<span class="operator">=</span>(<span class="keyword">select</span> job <span class="keyword">from</span> emp <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;杨颖&#x27;</span>) <span class="keyword">and</span> sal<span class="operator">&gt;</span>(<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;小白&#x27;</span>);</span><br></pre></td></tr></table></div></figure>




        <h6 id="21-2-列子查询：in或者not-in"   >
          <a href="#21-2-列子查询：in或者not-in" class="heading-link"><i class="fas fa-link"></i></a><a href="#21-2-列子查询：in或者not-in" class="headerlink" title="21.2 列子查询：in或者not in"></a>21.2 列子查询：in或者not in</h6>
      <p>​	概念：指的是子查询返回结果是多行一列</p>
<figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#查询职位和张静或者邱紫坪一样的员工</span><br><span class="line"><span class="keyword">select</span> job <span class="keyword">from</span> emp <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;费艺飞&#x27;</span> <span class="keyword">or</span> ename<span class="operator">=</span><span class="string">&#x27;王雨荷&#x27;</span>; #返回结果是多行一列</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> job <span class="keyword">in</span> (<span class="keyword">select</span> job <span class="keyword">from</span> emp <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;费艺飞&#x27;</span> <span class="keyword">or</span> ename<span class="operator">=</span><span class="string">&#x27;王雨荷&#x27;</span>);#一条语句实现</span><br><span class="line">#查询职位和张静或者邱紫坪不一样的员工</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> job  <span class="keyword">not</span> <span class="keyword">in</span> (<span class="keyword">select</span> job <span class="keyword">from</span> emp <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;费艺飞&#x27;</span> <span class="keyword">or</span> ename<span class="operator">=</span><span class="string">&#x27;王雨荷&#x27;</span>);</span><br></pre></td></tr></table></div></figure>




        <h6 id="21-3行子查询："   >
          <a href="#21-3行子查询：" class="heading-link"><i class="fas fa-link"></i></a><a href="#21-3行子查询：" class="headerlink" title="21.3行子查询："></a>21.3行子查询：</h6>
      <p>​	概念：指的是子查询结果返回结果是一行多列</p>
<figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#查询职位和刘桂花一样并且部门和她一样的员工信息</span><br><span class="line"><span class="keyword">select</span> job,deptno <span class="keyword">from</span> emp <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;刘桂花&#x27;</span>; #返回结果是一行多列</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> (job,deptno)<span class="operator">=</span>(<span class="keyword">select</span> job,deptno <span class="keyword">from</span> emp <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;刘桂花&#x27;</span>);</span><br></pre></td></tr></table></div></figure>




        <h6 id="21-4表子查询："   >
          <a href="#21-4表子查询：" class="heading-link"><i class="fas fa-link"></i></a><a href="#21-4表子查询：" class="headerlink" title="21.4表子查询："></a>21.4表子查询：</h6>
      <p>​	概念：指的是子查询结果返回结果是多行多列</p>
<figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">=</span><span class="number">7000</span>; #返回结果是多行多列</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> (ename,job,sal) <span class="keyword">in</span> (<span class="keyword">select</span> ename,job,sal <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">=</span><span class="number">7000</span>);</span><br></pre></td></tr></table></div></figure>




        <h6 id="两个关键字：any-some-all"   >
          <a href="#两个关键字：any-some-all" class="heading-link"><i class="fas fa-link"></i></a><a href="#两个关键字：any-some-all" class="headerlink" title="两个关键字：any(some)    all"></a>两个关键字：any(some)    all</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#查询工资比所有程序员工资高的员工</span><br><span class="line"><span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> job<span class="operator">=</span><span class="string">&#x27;演员&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">&gt;</span>(<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> job<span class="operator">=</span><span class="string">&#x27;演员&#x27;</span>);  #❌  因为返回了多个结果</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">&gt;</span>(<span class="keyword">select</span> <span class="built_in">max</span>(sal) <span class="keyword">from</span> emp <span class="keyword">where</span> job<span class="operator">=</span><span class="string">&#x27;演员&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">&gt;</span><span class="keyword">all</span>(<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> job<span class="operator">=</span><span class="string">&#x27;演员&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#问题<span class="number">2</span>：查询和邓超、杨颖职位一样的员工</span><br><span class="line"><span class="keyword">select</span> job <span class="keyword">from</span> emp <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;邓超&#x27;</span> <span class="keyword">or</span> ename<span class="operator">=</span><span class="string">&#x27;杨颖&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> job<span class="operator">=</span>(<span class="keyword">select</span> job <span class="keyword">from</span> emp <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;邓超&#x27;</span> <span class="keyword">or</span> ename<span class="operator">=</span><span class="string">&#x27;杨颖&#x27;</span>); #❌  因为返回了多个结果</span><br><span class="line">#解决方案<span class="number">1</span>：</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> job<span class="operator">=</span><span class="keyword">any</span>(<span class="keyword">select</span> job <span class="keyword">from</span> emp <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;邓超&#x27;</span> <span class="keyword">or</span> ename<span class="operator">=</span><span class="string">&#x27;杨颖&#x27;</span>);</span><br><span class="line">#解决方案<span class="number">2</span>：</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> job <span class="keyword">in</span> (<span class="keyword">select</span> job <span class="keyword">from</span> emp <span class="keyword">where</span> ename<span class="operator">=</span><span class="string">&#x27;邓超&#x27;</span> <span class="keyword">or</span> ename<span class="operator">=</span><span class="string">&#x27;杨颖&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#查询工资比任意程序员工资高的员工</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">&gt;</span>(<span class="keyword">select</span> <span class="built_in">min</span>(sal) <span class="keyword">from</span> emp <span class="keyword">where</span> job<span class="operator">=</span><span class="string">&#x27;程序员&#x27;</span>) <span class="keyword">and</span> job<span class="operator">&lt;&gt;</span><span class="string">&#x27;程序员&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">&gt;</span><span class="keyword">any</span>(<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> job<span class="operator">=</span><span class="string">&#x27;程序员&#x27;</span>) <span class="keyword">and</span> job<span class="operator">&lt;&gt;</span><span class="string">&#x27;程序员&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">&gt;</span><span class="keyword">some</span>(<span class="keyword">select</span> sal <span class="keyword">from</span> emp <span class="keyword">where</span> job<span class="operator">=</span><span class="string">&#x27;程序员&#x27;</span>) <span class="keyword">and</span> job<span class="operator">&lt;&gt;</span><span class="string">&#x27;程序员&#x27;</span>;</span><br><span class="line">#注意：关系运算符的<span class="operator">&gt;</span> <span class="operator">&gt;=</span> <span class="operator">&lt;</span> <span class="operator">&lt;=</span>必须是一行信息</span><br></pre></td></tr></table></div></figure>


        <h6 id="练习"   >
          <a href="#练习" class="heading-link"><i class="fas fa-link"></i></a><a href="#练习" class="headerlink" title="练习"></a>练习</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#练习<span class="number">1</span>：查询工资比<span class="number">30</span>平均号部门工资高的其他部门员工</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">from</span> emp <span class="keyword">where</span> deptno<span class="operator">=</span><span class="number">30</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">&gt;</span>(<span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">from</span> emp <span class="keyword">where</span> deptno<span class="operator">=</span><span class="number">30</span>);</span><br><span class="line">#练习<span class="number">2</span>：查询每个部门最高工资的员工是谁（员工信息）</span><br><span class="line"><span class="keyword">select</span> deptno,<span class="built_in">max</span>(sal) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> deptno; #每个部门最高工资</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp #是谁（员工信息）</span><br><span class="line">         <span class="keyword">where</span> (deptno,sal) <span class="keyword">in</span> (<span class="keyword">select</span> deptno,<span class="built_in">max</span>(sal) <span class="keyword">from</span> emp <span class="keyword">group</span> <span class="keyword">by</span> deptno);</span><br><span class="line">#练习<span class="number">3</span>：查询出来比公司平均工资高的员工信息</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">from</span> emp ;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> sal<span class="operator">&gt;</span>(<span class="keyword">select</span> <span class="built_in">avg</span>(sal) <span class="keyword">from</span> emp)</span><br></pre></td></tr></table></div></figure>




        <h5 id="22、表连接查询"   >
          <a href="#22、表连接查询" class="heading-link"><i class="fas fa-link"></i></a><a href="#22、表连接查询" class="headerlink" title="22、表连接查询"></a>22、表连接查询</h5>
      <p>概念：多张表之间平等的关系按照相应的条件拼接起来 — 拼接列</p>

        <h6 id="外键（外关键字-FOREIGN-KEY）-维护关系"   >
          <a href="#外键（外关键字-FOREIGN-KEY）-维护关系" class="heading-link"><i class="fas fa-link"></i></a><a href="#外键（外关键字-FOREIGN-KEY）-维护关系" class="headerlink" title="外键（外关键字|FOREIGN KEY）:维护关系"></a>外键（外关键字|FOREIGN KEY）:维护关系</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">#添加外键约束</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> mysql_text_first.emp <span class="keyword">add</span> <span class="keyword">constraint</span> FK_deptno <span class="keyword">foreign</span> key (deptno) <span class="keyword">references</span> dept(deptno) ;</span><br><span class="line">#建表插入数据</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> dept</span><br><span class="line">(</span><br><span class="line">    deptno <span class="type">int</span> <span class="keyword">primary</span> key ,</span><br><span class="line">    dname <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">    loc <span class="type">varchar</span>(<span class="number">20</span>)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept <span class="keyword">values</span>(<span class="number">10</span>,<span class="string">&#x27;研发部&#x27;</span>,<span class="string">&#x27;西安&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept <span class="keyword">values</span>(<span class="number">20</span>,<span class="string">&#x27;产品部&#x27;</span>,<span class="string">&#x27;渭南&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept <span class="keyword">values</span>(<span class="number">30</span>,<span class="string">&#x27;视觉部&#x27;</span>,<span class="string">&#x27;汉中&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept <span class="keyword">values</span>(<span class="number">40</span>,<span class="string">&#x27;科技部&#x27;</span>,<span class="string">&#x27;商洛&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> dept <span class="keyword">values</span>(<span class="number">50</span>,<span class="string">&#x27;财务部&#x27;</span>,<span class="string">&#x27;长春&#x27;</span>);</span><br><span class="line"></span><br><span class="line">#外键（外关键字<span class="operator">|</span><span class="keyword">FOREIGN</span> KEY）:维护关系</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp</span><br><span class="line">    <span class="keyword">values</span>(<span class="keyword">null</span>,<span class="string">&#x27;宁萌&#x27;</span>,<span class="string">&#x27;SALESMAN&#x27;</span>,<span class="number">7788</span>,now(),<span class="number">3300</span>,<span class="number">100</span>,<span class="number">70</span>,<span class="number">1</span>);</span><br><span class="line">    #会报错，因为设置deptno是外键，而此时<span class="number">70</span>在dept表中不存在，故受限制插不进去</span><br></pre></td></tr></table></div></figure>




        <h6 id="22-1-1-内连接"   >
          <a href="#22-1-1-内连接" class="heading-link"><i class="fas fa-link"></i></a><a href="#22-1-1-内连接" class="headerlink" title="22.1.1 内连接"></a>22.1.1 内连接</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">#<span class="number">1.</span>内连接查询:表和表之间是平等关系</span><br><span class="line">#<span class="keyword">select</span> 待显示列子段  <span class="keyword">from</span> 表a <span class="keyword">inner</span> <span class="keyword">join</span> 表b <span class="keyword">on</span> 连接条件 [<span class="keyword">where</span> 筛选条件];</span><br><span class="line"></span><br><span class="line">#问题：查询所有员工信息，显示员工姓名和部门名称(在dept表中)</span><br><span class="line"><span class="keyword">select</span> ename,dname <span class="keyword">from</span> emp <span class="keyword">inner</span> <span class="keyword">join</span> dept <span class="keyword">on</span> emp.deptno<span class="operator">=</span>dept.deptno; #两者换顺序不影响 <span class="comment">-- 表和表之间是平等关系</span></span><br><span class="line"><span class="keyword">select</span> ename,dname <span class="keyword">from</span> dept <span class="keyword">inner</span> <span class="keyword">join</span> emp <span class="keyword">on</span> emp.deptno<span class="operator">=</span>dept.deptno;</span><br><span class="line">#给表起了一个别名</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp e <span class="keyword">inner</span> <span class="keyword">join</span> dept d <span class="keyword">on</span> e.deptno<span class="operator">=</span>d.deptno;</span><br><span class="line">#内连接的缩写形式</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">from</span> emp e,dept d <span class="keyword">where</span> e.deptno<span class="operator">=</span>d.deptno;</span><br><span class="line">#查询职位是程序员的员工信息，显示：员工名、部门名、职位、工资和地址</span><br><span class="line"><span class="keyword">select</span> e.ename,dname,job,sal,loc <span class="keyword">from</span> emp e <span class="keyword">inner</span> <span class="keyword">join</span> dept d <span class="keyword">on</span> e.deptno<span class="operator">=</span>d.deptno <span class="keyword">where</span> job<span class="operator">=</span><span class="string">&#x27;程序员&#x27;</span>;</span><br></pre></td></tr></table></div></figure>




        <h6 id="22-1-2-外连接"   >
          <a href="#22-1-2-外连接" class="heading-link"><i class="fas fa-link"></i></a><a href="#22-1-2-外连接" class="headerlink" title="22.1.2 外连接"></a>22.1.2 外连接</h6>
      <p>​		左外连接</p>
<figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#以左表为主，右表为辅来进行查询，如果左表的数据在右表中没有对应，仍然查询出来🌟 #一般使用左外连接处理缺考性问题</span><br><span class="line">#<span class="keyword">select</span> 待显示列字段 <span class="keyword">from</span> 表A <span class="keyword">left</span> [<span class="keyword">outer</span>] <span class="keyword">join</span> 表B <span class="keyword">on</span> 连接条件 [<span class="keyword">where</span> 晒选条件];</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">inner</span> <span class="keyword">join</span> dept <span class="keyword">on</span> emp.DEPTNO <span class="operator">=</span> DEPT.DEPTNO;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">left</span> <span class="keyword">join</span> dept <span class="keyword">on</span> emp.DEPTNO <span class="operator">=</span> DEPT.DEPTNO;</span><br></pre></td></tr></table></div></figure>



<p>​		右外连接</p>
<figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">#以右表为主，左表为辅来进行查询，如果右表的数据在左表中没有对应，仍然查询出来</span><br><span class="line">#<span class="keyword">select</span> 待显示列字段 <span class="keyword">from</span> 表A <span class="keyword">right</span> [<span class="keyword">outer</span>] <span class="keyword">join</span> 表B <span class="keyword">on</span> 连接条件 [<span class="keyword">where</span> 晒选条件];</span><br><span class="line"></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">right</span> <span class="keyword">join</span> dept <span class="keyword">on</span> emp.DEPTNO <span class="operator">=</span> DEPT.DEPTNO;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> dept <span class="keyword">left</span> <span class="keyword">join</span> emp e <span class="keyword">on</span> DEPT.DEPTNO <span class="operator">=</span> e.DEPTNO;</span><br></pre></td></tr></table></div></figure>


        <h6 id="22-1-2-全表连接"   >
          <a href="#22-1-2-全表连接" class="heading-link"><i class="fas fa-link"></i></a><a href="#22-1-2-全表连接" class="headerlink" title="22.1.2 全表连接"></a>22.1.2 全表连接</h6>
      <figure class="highlight plaintext"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-- mysql不支持</span><br></pre></td></tr></table></div></figure>


        <h5 id="23、case查询"   >
          <a href="#23、case查询" class="heading-link"><i class="fas fa-link"></i></a><a href="#23、case查询" class="headerlink" title="23、case查询"></a>23、case查询</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#查询显示每个员工的信息，工资以等级显示</span><br><span class="line"><span class="keyword">select</span> e.<span class="operator">*</span>,</span><br><span class="line">	<span class="keyword">case</span></span><br><span class="line">	<span class="keyword">when</span> sal<span class="operator">&lt;</span><span class="number">2000</span> <span class="keyword">then</span> <span class="string">&#x27;A&#x27;</span></span><br><span class="line">	<span class="keyword">when</span> sal<span class="operator">&lt;</span><span class="number">4000</span> <span class="keyword">then</span> <span class="string">&#x27;B&#x27;</span></span><br><span class="line">	<span class="keyword">when</span> sal<span class="operator">&lt;</span><span class="number">6000</span> <span class="keyword">then</span> <span class="string">&#x27;C&#x27;</span></span><br><span class="line">	<span class="keyword">when</span> sal<span class="operator">&lt;</span><span class="number">10000</span> <span class="keyword">then</span> <span class="string">&#x27;D&#x27;</span></span><br><span class="line">	<span class="keyword">else</span> <span class="string">&#x27;E&#x27;</span></span><br><span class="line"><span class="keyword">end</span> <span class="keyword">as</span> <span class="string">&#x27;&#x27;</span></span><br><span class="line">	<span class="keyword">from</span> emp e;</span><br></pre></td></tr></table></div></figure>




        <h5 id="24、exists查询"   >
          <a href="#24、exists查询" class="heading-link"><i class="fas fa-link"></i></a><a href="#24、exists查询" class="headerlink" title="24、exists查询"></a>24、exists查询</h5>
      <p>​		括号中跟的一定是子查询语句，只判断是否存在行的信息，如果没有行 条件为false 反之条件为真</p>
<figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> <span class="keyword">exists</span>(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> <span class="number">1</span><span class="operator">=</span><span class="number">1</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> <span class="keyword">exists</span>(<span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp <span class="keyword">where</span> <span class="number">1</span><span class="operator">&lt;&gt;</span><span class="number">1</span>);</span><br></pre></td></tr></table></div></figure>


        <h2 id="7-19晚总结"   >
          <a href="#7-19晚总结" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-19晚总结" class="headerlink" title="7-19晚总结"></a>7-19晚总结</h2>
      
        <h5 id="25、索引"   >
          <a href="#25、索引" class="heading-link"><i class="fas fa-link"></i></a><a href="#25、索引" class="headerlink" title="25、索引"></a>25、索引</h5>
      
        <h6 id="索引的原理（💥不是很会）"   >
          <a href="#索引的原理（💥不是很会）" class="heading-link"><i class="fas fa-link"></i></a><a href="#索引的原理（💥不是很会）" class="headerlink" title="索引的原理（💥不是很会）"></a>索引的原理（💥不是很会）</h6>
      
        <h6 id="普通索引"   >
          <a href="#普通索引" class="heading-link"><i class="fas fa-link"></i></a><a href="#普通索引" class="headerlink" title="普通索引"></a>普通索引</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> a1</span><br><span class="line">(</span><br><span class="line">    a <span class="type">int</span>,</span><br><span class="line">    b <span class="type">int</span>,</span><br><span class="line">    c <span class="type">int</span> ,</span><br><span class="line">    d <span class="type">int</span>,</span><br><span class="line">#创建索引方式一</span><br><span class="line">    index(a)</span><br><span class="line">);</span><br><span class="line">#创建索引方式二</span><br><span class="line"><span class="keyword">create</span> index index_1 <span class="keyword">on</span> a1(b);</span><br><span class="line">#创建索引方式三</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> a1 <span class="keyword">add</span> index index_2(c);</span><br></pre></td></tr></table></div></figure>




        <h6 id="唯一索引"   >
          <a href="#唯一索引" class="heading-link"><i class="fas fa-link"></i></a><a href="#唯一索引" class="headerlink" title="唯一索引"></a>唯一索引</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> a2</span><br><span class="line">(</span><br><span class="line">    a <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,#主键约束，自增</span><br><span class="line">    b <span class="type">int</span>,</span><br><span class="line">    c <span class="type">int</span> ,</span><br><span class="line">    d <span class="type">int</span>,</span><br><span class="line">    e <span class="type">int</span>,</span><br><span class="line">    f <span class="type">int</span></span><br><span class="line">);</span><br><span class="line">#创建索引方式一</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">unique</span> index index_3 <span class="keyword">on</span> a2(f); #如果表中没有添加主键约束，这个语句可以执行</span><br><span class="line">#创建索引方式二</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> a2 <span class="keyword">add</span> <span class="keyword">constraint</span> <span class="keyword">primary</span> key (a);#如果表中没有添加主键约束，这个语句可以执行</span><br></pre></td></tr></table></div></figure>




        <h6 id="组合索引"   >
          <a href="#组合索引" class="heading-link"><i class="fas fa-link"></i></a><a href="#组合索引" class="headerlink" title="组合索引"></a>组合索引</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> a3</span><br><span class="line">(</span><br><span class="line">  a <span class="type">int</span>,</span><br><span class="line">  b <span class="type">int</span>,</span><br><span class="line">  c <span class="type">int</span>,</span><br><span class="line">  d <span class="type">int</span> ,</span><br><span class="line">  e <span class="type">int</span>,</span><br><span class="line">  f <span class="type">int</span>,</span><br><span class="line">  g <span class="type">int</span>,</span><br><span class="line">  h <span class="type">int</span>,</span><br><span class="line">  index(a,b)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> a3;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">unique</span> index index_4 <span class="keyword">on</span> a3(c,d,e);</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> a3 <span class="keyword">add</span> <span class="keyword">constraint</span> <span class="keyword">primary</span> key(a,b,c);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> a3 <span class="keyword">values</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> a3 <span class="keyword">values</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>);#错误，主键约束</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> a3 <span class="keyword">values</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>);</span><br></pre></td></tr></table></div></figure>




        <h6 id="全表索引"   >
          <a href="#全表索引" class="heading-link"><i class="fas fa-link"></i></a><a href="#全表索引" class="headerlink" title="全表索引"></a>全表索引</h6>
      
        <h6 id="空间索引"   >
          <a href="#空间索引" class="heading-link"><i class="fas fa-link"></i></a><a href="#空间索引" class="headerlink" title="空间索引"></a>空间索引</h6>
      
        <h5 id="26、存储过程"   >
          <a href="#26、存储过程" class="heading-link"><i class="fas fa-link"></i></a><a href="#26、存储过程" class="headerlink" title="26、存储过程"></a>26、存储过程</h5>
      
        <h6 id="三种方式"   >
          <a href="#三种方式" class="heading-link"><i class="fas fa-link"></i></a><a href="#三种方式" class="headerlink" title="三种方式"></a>三种方式</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">#存储过程</span><br><span class="line">#<span class="number">1.</span>无参数过程</span><br><span class="line">delimiter <span class="operator">/</span><span class="operator">/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> proc_1()</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">insert</span> <span class="keyword">into</span> a1 <span class="keyword">values</span>(<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>);</span><br><span class="line"><span class="keyword">end</span>;<span class="operator">/</span><span class="operator">/</span></span><br><span class="line">#执行过程</span><br><span class="line"><span class="keyword">call</span> proc_1();</span><br><span class="line">#<span class="number">2.</span>有输入参数的过程</span><br><span class="line">delimiter <span class="operator">/</span><span class="operator">/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> proc_2(a <span class="type">int</span>,b <span class="type">int</span> ,c <span class="type">int</span>)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    <span class="keyword">insert</span> <span class="keyword">into</span> a1 <span class="keyword">values</span> (a,b,c);</span><br><span class="line"><span class="keyword">end</span> ;<span class="operator">/</span><span class="operator">/</span></span><br><span class="line"><span class="keyword">call</span> proc_2(<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>);</span><br><span class="line">#<span class="number">3.</span>有输出参数的过程</span><br><span class="line">delimiter <span class="operator">/</span><span class="operator">/</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> proc_3(<span class="keyword">in</span> deptno <span class="type">int</span>,<span class="keyword">out</span> maxsal <span class="type">float</span>,<span class="keyword">out</span> bb <span class="type">int</span>)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">    #将查询出来的最大工资赋予maxsal</span><br><span class="line">    <span class="keyword">select</span> <span class="built_in">max</span>(sal) <span class="keyword">into</span> maxsal <span class="keyword">from</span> emp <span class="keyword">where</span> emp.deptno<span class="operator">=</span>deptno;</span><br><span class="line">    #:<span class="operator">=</span>是赋予运算符</span><br><span class="line">    <span class="keyword">set</span> bb:<span class="operator">=</span><span class="number">3</span>;</span><br><span class="line"><span class="keyword">end</span> ;<span class="operator">/</span><span class="operator">/</span></span><br><span class="line">#定义<span class="number">2</span>个变量</span><br><span class="line"><span class="keyword">set</span> <span class="variable">@i</span>:<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"><span class="keyword">set</span> <span class="variable">@j</span>:<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line">#调用存储过程并使用<span class="variable">@i</span>和<span class="variable">@j</span>接收输出参数</span><br><span class="line"><span class="keyword">call</span> proc_3(<span class="number">10</span>,<span class="variable">@i</span>,<span class="variable">@j</span>);</span><br><span class="line">#输出显示全局变量<span class="variable">@i</span>和<span class="variable">@j</span></span><br><span class="line"><span class="keyword">select</span> <span class="variable">@i</span>,<span class="variable">@j</span>;</span><br></pre></td></tr></table></div></figure>


        <h5 id="27、数据库的基础-（💥不是很会）"   >
          <a href="#27、数据库的基础-（💥不是很会）" class="heading-link"><i class="fas fa-link"></i></a><a href="#27、数据库的基础-（💥不是很会）" class="headerlink" title="27、数据库的基础 （💥不是很会）"></a>27、数据库的基础 （💥不是很会）</h5>
      
        <h6 id="了解设计数据库步骤"   >
          <a href="#了解设计数据库步骤" class="heading-link"><i class="fas fa-link"></i></a><a href="#了解设计数据库步骤" class="headerlink" title="了解设计数据库步骤"></a>了解设计数据库步骤</h6>
      <p>​	 •需求分析阶段：分析客户的业务和数据处理需求;</p>
<p>​	•概要设计阶段：设计数据库的E-R模型图，确认需求信息的正确和完整;</p>
<p>​	•详细设计阶段：将E-R图转换为多张表，进行逻辑设计，并应用数据库设计的三大范式进行审核;</p>
<p>​	•代码编写阶段：选择具体数据库进行物理实现，并编写代码实现前端应用;</p>
<p>​	•软件测试阶段：……</p>
<p>​	•安装部署：……</p>

        <h6 id="掌握如何绘制数据库的E-R图"   >
          <a href="#掌握如何绘制数据库的E-R图" class="heading-link"><i class="fas fa-link"></i></a><a href="#掌握如何绘制数据库的E-R图" class="headerlink" title="掌握如何绘制数据库的E-R图"></a>掌握如何绘制数据库的E-R图</h6>
      <p>​	</p>

        <h6 id="理解数据库的规范化—–三大范式"   >
          <a href="#理解数据库的规范化—–三大范式" class="heading-link"><i class="fas fa-link"></i></a><a href="#理解数据库的规范化—–三大范式" class="headerlink" title="理解数据库的规范化—–三大范式"></a>理解数据库的规范化—–三大范式</h6>
      <p>•范式是具有最小冗余的表结构。这些范式是：</p>
<p>​	第一范式(1st NF －First Normal Fromate) :</p>
<p>​			•第一范式的目标是确保每列的原子性</p>
<p>​			•如果每列都是不可再分的最小数据单元（也称为最小的原子单元），则满足第一范式（1NF）</p>
<p>​	第二范式(2nd NF－Second Normal Fromate):</p>
<p>​			•如果一个关系满足1NF，并且除了主键以外的其他列，都依赖与该主键，则满足第二范式（2NF） </p>
<p>​			•第二范式要求每个表只描述一件事情</p>
<p>​	第三范式(3rd NF－ Third Normal Fromate) :</p>
<p>​			•如果一个关系满足2NF，并且除了主键以外的其他列都不传递依赖于主键列，则满足第三范式（3NF） </p>

        <h1 id="JDBC"   >
          <a href="#JDBC" class="heading-link"><i class="fas fa-link"></i></a><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h1>
      
        <h2 id="7-20晚总结"   >
          <a href="#7-20晚总结" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-20晚总结" class="headerlink" title="7-20晚总结"></a>7-20晚总结</h2>
      
        <h3 id="JDBC的概念"   >
          <a href="#JDBC的概念" class="heading-link"><i class="fas fa-link"></i></a><a href="#JDBC的概念" class="headerlink" title="JDBC的概念"></a>JDBC的概念</h3>
      <p> 答：JBDC是一种用于执行SQL语句的 Java API ，是Java与数据库之间的桥梁 ，是一个规范而不是实现，能够交给数据库来执行SQL语句；它是由一组Java语言编写的类和接口组成；各种不同类型的数据库都有相应的实现，JDBC提供了一种基准，据此可以构建更高级的工具和接口，使数据库开发人员能够编写数据库应用程序。</p>

        <h3 id="JBDC的组成：四个（⭐）"   >
          <a href="#JBDC的组成：四个（⭐）" class="heading-link"><i class="fas fa-link"></i></a><a href="#JBDC的组成：四个（⭐）" class="headerlink" title="JBDC的组成：四个（⭐）"></a>JBDC的组成：四个（⭐）</h3>
      <p>配置waven环境（💥不是很会）</p>
<p>  — 创建waven项目 </p>
<p>  — 了解waven项目的目录结构 </p>
<p>   —-写JDBC</p>
<p>   —-第一步就是驱动文件 –连接—创建一个传令官–关闭</p>

        <h4 id="驱动管理"   >
          <a href="#驱动管理" class="heading-link"><i class="fas fa-link"></i></a><a href="#驱动管理" class="headerlink" title="驱动管理"></a>驱动管理</h4>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> <span class="operator">/</span><span class="operator">/</span>  ①加载驱动文件  <span class="comment">--- 书写驱动文件类名</span></span><br><span class="line">Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);</span><br></pre></td></tr></table></div></figure>




        <h4 id="connection接口"   >
          <a href="#connection接口" class="heading-link"><i class="fas fa-link"></i></a><a href="#connection接口" class="headerlink" title="connection接口"></a>connection接口</h4>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Jdbc程序中的Connection，它用于代表数据库的链接，Connection是数据库编程中最重要的一个对象，客户端与数据库所有交互都是通过connection对象完成的，创建方法为：</span><br><span class="line"></span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span> ②建立java与数据库之间的连接</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span> 给三个参数</span><br><span class="line">            String url <span class="operator">=</span> &quot;jdbc:mysql://localhost:3306/mysql_text_first?								serverTimezone=Asia/Shanghai&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&quot;;</span><br><span class="line">            String use <span class="operator">=</span> &quot;root&quot;;</span><br><span class="line">            String password <span class="operator">=</span> &quot;guanwei&quot;;</span><br><span class="line">            conn <span class="operator">=</span> DriverManager.getConnection(url,use,password);</span><br></pre></td></tr></table></div></figure>


        <h5 id="常用的方法"   >
          <a href="#常用的方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#常用的方法" class="headerlink" title="常用的方法"></a>常用的方法</h5>
      <div class="table-container"><table>
<thead>
<tr>
<th>createStatement()</th>
<th>创建向数据库发送sql的statement对象</th>
</tr>
</thead>
<tbody><tr>
<td>prepareStatement(sql)</td>
<td>创建向数据库发送预编译sql的PrepareSatement对象。</td>
</tr>
<tr>
<td>prepareCall(sql)</td>
<td>创建执行存储过程的callableStatement对象</td>
</tr>
<tr>
<td>setAutoCommit(boolean autoCommit)</td>
<td>设置事务是否自动提交</td>
</tr>
<tr>
<td>commit()</td>
<td>在链接上提交事务</td>
</tr>
<tr>
<td>rollback()</td>
<td>在此链接上回滚事务</td>
</tr>
</tbody></table></div>

        <h4 id="statement接口"   >
          <a href="#statement接口" class="heading-link"><i class="fas fa-link"></i></a><a href="#statement接口" class="headerlink" title="statement接口"></a>statement接口</h4>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Statement：由createStatement创建，用于发送简单的<span class="keyword">SQL</span>语句（不带参数）。</span><br><span class="line"></span><br><span class="line">public <span class="keyword">static</span> void main(String[] args) &#123;</span><br><span class="line">        Connection conn <span class="operator">=</span> <span class="keyword">null</span>;</span><br><span class="line">        try &#123;</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>  ①加载驱动文件  <span class="comment">--- 书写驱动文件类名</span></span><br><span class="line">            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span> ②建立java与数据库之间的连接</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span> 给三个参数</span><br><span class="line">            String url <span class="operator">=</span> &quot;jdbc:mysql://localhost:3306/mysql_text_first?serverTimezone=Asia/Shanghai&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&quot;;</span><br><span class="line">            String use <span class="operator">=</span> &quot;root&quot;;</span><br><span class="line">            String password <span class="operator">=</span> &quot;guanwei&quot;;</span><br><span class="line">            conn <span class="operator">=</span> DriverManager.getConnection(url,use,password);</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>③ 创建一个传令官 ，负责把Java中的<span class="keyword">SQL</span>语句送到MySQL中执行</span><br><span class="line">            Statement statement <span class="operator">=</span>conn.createStatement();</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>写<span class="keyword">SQL</span>命令</span><br><span class="line">            String <span class="keyword">sql</span> <span class="operator">=</span> &quot;insert into emp values(null,&#x27;laohuiya&#x27;,&#x27;程序员&#x27;,7788,now(),15000,500,30,1)&quot;;</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>把东西送出去</span><br><span class="line">            <span class="type">int</span> <span class="type">row</span> <span class="operator">=</span> statement.executeUpdate(<span class="keyword">sql</span>);</span><br><span class="line">            System.out.println(<span class="type">row</span><span class="operator">+</span>&quot;行受到影响&quot;);</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>④关闭连接</span><br><span class="line">            statement.close();</span><br><span class="line">            conn.close();</span><br><span class="line">        &#125; catch (ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; catch (<span class="keyword">SQLException</span> throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(conn);</span><br></pre></td></tr></table></div></figure>




        <h5 id="常用的方法-1"   >
          <a href="#常用的方法-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#常用的方法-1" class="headerlink" title="常用的方法"></a>常用的方法</h5>
      <div class="table-container"><table>
<thead>
<tr>
<th>executeQuery(String sql)</th>
<th>用于向数据发送查询语句。</th>
</tr>
</thead>
<tbody><tr>
<td>executeUpdate(String sql)</td>
<td>用于向数据库发送insert、update或delete语句</td>
</tr>
<tr>
<td>execute(String sql)</td>
<td>用于向数据库发送任意sql语句</td>
</tr>
<tr>
<td>addBatch(String sql)</td>
<td>把多条sql语句放到一个批处理中</td>
</tr>
<tr>
<td>executeBatch()</td>
<td>向数据库发送一批sql语句执行</td>
</tr>
</tbody></table></div>
<figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line">PreparedStatement ：继承自Statement接口，可发送含有参数的<span class="keyword">SQL</span>语句。效率更高，并且可以防止<span class="keyword">SQL</span>注入，建议使用;</span><br><span class="line">相比较父类，有如下优势：</span><br><span class="line">Statement会使数据库频繁编译<span class="keyword">SQL</span>，可能造成数据库缓冲区溢出。PreparedStatement 可对<span class="keyword">SQL</span>进行预编译，从而提高数据库的执行效率。</span><br><span class="line">并且PreperedStatement对于<span class="keyword">sql</span>中的参数，允许使用占位符的形式进行替换，简化<span class="keyword">sql</span>语句的编写，可以避免<span class="keyword">SQL</span>注入的问题。</span><br><span class="line"></span><br><span class="line">#方式一：</span><br><span class="line"> public <span class="keyword">static</span> void main(String[] args) throws ClassNotFoundException, <span class="keyword">SQLException</span> &#123;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>        驱动文件 <span class="comment">--- 驱动文件的类名</span></span><br><span class="line">        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>        java和数据库的连接 <span class="comment">---- 传三个参数</span></span><br><span class="line">        String url <span class="operator">=</span> &quot;jdbc:mysql://localhost:3306/mysql_text_first?serverTimezone=Asia/Shanghai&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&quot;;</span><br><span class="line">        String <span class="keyword">user</span> <span class="operator">=</span> &quot;root&quot;;</span><br><span class="line">        String password <span class="operator">=</span> &quot;guanwei&quot;;</span><br><span class="line">        Connection conn <span class="operator">=</span> DriverManager.getConnection(url, <span class="keyword">user</span>, password);</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;delete from emp where empno=7788&quot;; <span class="operator">/</span><span class="operator">/</span>物理删除<span class="comment">---这种写法是错误的</span></span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span>&quot;update emp set empstate=0 where empno=7982 &quot;;<span class="operator">/</span><span class="operator">/</span>一般用逻辑删除</span><br><span class="line">        PreparedStatement ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">        <span class="type">int</span> <span class="type">row</span> <span class="operator">=</span> ps.executeUpdate();</span><br><span class="line">        System.out.println(<span class="type">row</span><span class="operator">+</span>&quot;行受影响&quot;);</span><br><span class="line">        ps.close();<span class="operator">/</span><span class="operator">/</span>命令撤了</span><br><span class="line">        conn.close();<span class="operator">/</span><span class="operator">/</span>连接撤了</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">#方式二： 传参问题①</span><br><span class="line">public <span class="keyword">static</span> void main(String[] args) throws Exception&#123;</span><br><span class="line">        Scanner scanner <span class="operator">=</span> <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">        System.out.println(&quot;请输入编号&quot;);</span><br><span class="line">        <span class="type">int</span> empno <span class="operator">=</span> scanner.nextInt();</span><br><span class="line">        System.out.println(&quot;请输入修改后的sal:&quot;);</span><br><span class="line">        <span class="keyword">double</span> sal <span class="operator">=</span> scanner.nextDouble();</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>        驱动文件</span><br><span class="line">        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);<span class="operator">/</span><span class="operator">/</span>快捷键生成 输入Driver然后选择即可</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>        java和数据库的连接</span><br><span class="line">        String url <span class="operator">=</span>&quot;jdbc:mysql://localhost:3306/mysql_text_first?serverTimezone=Asia/Shanghai&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&quot;;</span><br><span class="line">        String <span class="keyword">user</span> <span class="operator">=</span>&quot;root&quot;;</span><br><span class="line">        String password <span class="operator">=</span>&quot;guanwei&quot;;</span><br><span class="line">        Connection conn <span class="operator">=</span> DriverManager.getConnection(url,<span class="keyword">user</span>,password);</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;update emp set sal=? where empno=?&quot;;</span><br><span class="line">        PreparedStatement ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">        ps.setDouble(<span class="number">1</span>,sal);</span><br><span class="line">        ps.setInt(<span class="number">2</span>,empno);</span><br><span class="line">        ps.executeUpdate();<span class="operator">/</span><span class="operator">/</span>在此之前必须先给两个问好传值</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>关闭</span><br><span class="line">        ps.close();</span><br><span class="line">        conn.close();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">#方式二： 传参问题②</span><br><span class="line"> public <span class="keyword">static</span> void main(String[] args) throws Exception&#123;</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>    驱动文件</span><br><span class="line">        Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);</span><br><span class="line">        String url <span class="operator">=</span>&quot;jdbc:mysql://localhost:3306/mysql_text_first?serverTimezone=Asia/Shanghai&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&quot;;</span><br><span class="line">        String <span class="keyword">user</span> <span class="operator">=</span>&quot;root&quot;;</span><br><span class="line">        String password <span class="operator">=</span> &quot;guanwei&quot;;</span><br><span class="line">        Connection conn <span class="operator">=</span> DriverManager.getConnection(url,<span class="keyword">user</span>,password);</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;select * from emp where empstate = 1&quot;;<span class="operator">/</span><span class="operator">/</span>可见的意思</span><br><span class="line">        PreparedStatement ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">        ResultSet rs <span class="operator">=</span> ps.executeQuery();<span class="operator">/</span><span class="operator">/</span>将执行查询操作结果返回结果集</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>        <span class="type">int</span> i <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        while(rs.next())&#123; <span class="operator">/</span><span class="operator">/</span>判断是否有下一个，并且指向下一行 rs就是下一行的意思</span><br><span class="line">            <span class="comment">/*System.out.println(i+&quot;\t&quot;+rs); //方式一获取行</span></span><br><span class="line"><span class="comment">            i++;*/</span></span><br><span class="line"></span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>方式二获取列</span><br><span class="line">            <span class="type">int</span> empno <span class="operator">=</span> rs.getInt(<span class="number">1</span>); <span class="operator">/</span><span class="operator">/</span>获取第一列内容</span><br><span class="line">            String ename <span class="operator">=</span> rs.getString(&quot;ename&quot;); <span class="operator">/</span><span class="operator">/</span> 列名或者该列位置都可以</span><br><span class="line">            String job <span class="operator">=</span> rs.getString(<span class="number">3</span>);</span><br><span class="line">            <span class="type">int</span> mgr <span class="operator">=</span> rs.getInt(&quot;mgr&quot;);</span><br><span class="line">            String hiredate <span class="operator">=</span>rs.getString(<span class="number">5</span>); <span class="operator">/</span><span class="operator">/</span> mysql中的<span class="type">date</span>类型在Java中要用String类型</span><br><span class="line">            <span class="keyword">double</span> sal <span class="operator">=</span> rs.getDouble(<span class="number">6</span>);</span><br><span class="line">            <span class="keyword">double</span> comm <span class="operator">=</span> rs.getDouble(<span class="number">7</span>);</span><br><span class="line">            <span class="type">int</span> deptno <span class="operator">=</span> rs.getInt(<span class="number">8</span>);</span><br><span class="line">            String empstate <span class="operator">=</span> rs.getString(<span class="number">9</span>);</span><br><span class="line">            System.out.print(empno<span class="operator">+</span>&quot;\t&quot;);</span><br><span class="line">            System.out.print(ename<span class="operator">+</span>&quot;\t&quot;);</span><br><span class="line">            System.out.print(job<span class="operator">+</span>&quot;\t&quot;);</span><br><span class="line">            System.out.print(mgr<span class="operator">+</span>&quot;\t&quot;);</span><br><span class="line">            System.out.print(hiredate<span class="operator">+</span>&quot;\t&quot;);</span><br><span class="line">            System.out.print(sal<span class="operator">+</span>&quot;\t&quot;);</span><br><span class="line">            System.out.print(comm<span class="operator">+</span>&quot;\t&quot;);</span><br><span class="line">            System.out.print(deptno<span class="operator">+</span>&quot;\t&quot;);</span><br><span class="line">            System.out.print(empstate<span class="operator">+</span>&quot;\n&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">        ps.close();</span><br><span class="line">        conn.close();</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></div></figure>



<figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CallableStatement：继承自PreparedStatement接口，由方法prepareCall创建，用于调用存储过程。</span><br><span class="line"></span><br><span class="line">#没讲</span><br></pre></td></tr></table></div></figure>




        <h4 id="resultset接口"   >
          <a href="#resultset接口" class="heading-link"><i class="fas fa-link"></i></a><a href="#resultset接口" class="headerlink" title="resultset接口"></a>resultset接口</h4>
      <p>jdbc程序中的ResultSet用于代表Sql语句的执行结果。</p>
<p>Resultset封装执行结果时，采用的类似于表格的方式，ResultSet 对象维护了一个指向表格数据行的游标，初始的时候，游标在第一行之前，调用ResultSet.next() 方法，可以使游标指向具体的数据行，进行调用方法获取该行的数据。</p>

        <h5 id="常用方法"   >
          <a href="#常用方法" class="heading-link"><i class="fas fa-link"></i></a><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h5>
      <div class="table-container"><table>
<thead>
<tr>
<th>next()</th>
<th>移动到下一行。</th>
</tr>
</thead>
<tbody><tr>
<td>Previous()</td>
<td>移动到前一行</td>
</tr>
<tr>
<td>absolute(int row)</td>
<td>移动到指定行</td>
</tr>
<tr>
<td>beforeFirst()</td>
<td>移动resultSet的最前面</td>
</tr>
<tr>
<td>afterLast()</td>
<td>移动到resultSet的最后面</td>
</tr>
</tbody></table></div>

        <h4 id="小总结-："   >
          <a href="#小总结-：" class="heading-link"><i class="fas fa-link"></i></a><a href="#小总结-：" class="headerlink" title="小总结 ："></a>小总结 ：</h4>
      
        <h5 id="JDBC面向过程的实现方式-⭐"   >
          <a href="#JDBC面向过程的实现方式-⭐" class="heading-link"><i class="fas fa-link"></i></a><a href="#JDBC面向过程的实现方式-⭐" class="headerlink" title="JDBC面向过程的实现方式(⭐)"></a>JDBC面向过程的实现方式(⭐)</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>在pom.xml中引入mysql的驱动文件</span><br><span class="line"><span class="operator">&lt;</span><span class="operator">!</span><span class="comment">-- 引入MySql的驱动文件 地址：（https://mvnrepository.com/）--&gt;</span></span><br><span class="line"><span class="operator">&lt;</span>dependency<span class="operator">&gt;</span></span><br><span class="line">   <span class="operator">&lt;</span>groupId<span class="operator">&gt;</span>mysql<span class="operator">&lt;</span><span class="operator">/</span>groupId<span class="operator">&gt;</span></span><br><span class="line">   <span class="operator">&lt;</span>artifactId<span class="operator">&gt;</span>mysql<span class="operator">-</span>connector<span class="operator">-</span>java<span class="operator">&lt;</span><span class="operator">/</span>artifactId<span class="operator">&gt;</span></span><br><span class="line">   <span class="operator">&lt;</span>version<span class="operator">&gt;</span><span class="number">8.0</span><span class="number">.28</span><span class="operator">&lt;</span><span class="operator">/</span>version<span class="operator">&gt;</span></span><br><span class="line"><span class="operator">&lt;</span><span class="operator">/</span>dependency<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line">#附加注解：</span><br><span class="line">  <span class="operator">&lt;</span><span class="operator">!</span><span class="comment">--所需的jar文件--&gt;</span></span><br><span class="line">  <span class="operator">&lt;</span>dependencies<span class="operator">&gt;</span></span><br><span class="line">    <span class="operator">&lt;</span><span class="operator">!</span><span class="comment">--测试jar文件--&gt;</span></span><br><span class="line">    <span class="operator">&lt;</span>dependency<span class="operator">&gt;</span></span><br><span class="line">      <span class="operator">&lt;</span>groupId<span class="operator">&gt;</span>junit<span class="operator">&lt;</span><span class="operator">/</span>groupId<span class="operator">&gt;</span></span><br><span class="line">      <span class="operator">&lt;</span>artifactId<span class="operator">&gt;</span>junit<span class="operator">&lt;</span><span class="operator">/</span>artifactId<span class="operator">&gt;</span></span><br><span class="line">      <span class="operator">&lt;</span>version<span class="operator">&gt;</span><span class="number">4.11</span><span class="operator">&lt;</span><span class="operator">/</span>version<span class="operator">&gt;</span></span><br><span class="line">      <span class="operator">&lt;</span><span class="keyword">scope</span><span class="operator">&gt;</span>test<span class="operator">&lt;</span><span class="operator">/</span><span class="keyword">scope</span><span class="operator">&gt;</span></span><br><span class="line">    <span class="operator">&lt;</span><span class="operator">/</span>dependency<span class="operator">&gt;</span></span><br><span class="line">    <span class="operator">&lt;</span><span class="operator">!</span><span class="comment">--JDBC的驱动文件 （mysql专用 去(https://mvnrepository.com/ )搜索复制过来即可）--&gt;</span></span><br><span class="line">    <span class="operator">&lt;</span>dependency<span class="operator">&gt;</span></span><br><span class="line">      <span class="operator">&lt;</span>groupId<span class="operator">&gt;</span>mysql<span class="operator">&lt;</span><span class="operator">/</span>groupId<span class="operator">&gt;</span></span><br><span class="line">      <span class="operator">&lt;</span>artifactId<span class="operator">&gt;</span>mysql<span class="operator">-</span>connector<span class="operator">-</span>java<span class="operator">&lt;</span><span class="operator">/</span>artifactId<span class="operator">&gt;</span></span><br><span class="line">      <span class="operator">&lt;</span>version<span class="operator">&gt;</span><span class="number">8.0</span><span class="number">.29</span><span class="operator">&lt;</span><span class="operator">/</span>version<span class="operator">&gt;</span></span><br><span class="line">    <span class="operator">&lt;</span><span class="operator">/</span>dependency<span class="operator">&gt;</span></span><br><span class="line">  <span class="operator">&lt;</span><span class="operator">/</span>dependencies<span class="operator">&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>加载驱动类</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> Driver类是下载下来的jar中所带的类</span><br><span class="line">Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);</span><br><span class="line"><span class="number">3.</span>建立Java同数据库中间的连接通道</span><br><span class="line">String url <span class="operator">=</span> &quot;jdbc:mysql://localhost:3306/guanwei? </span><br><span class="line">              serverTimezone=Asia/Shanghai&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&quot;;</span><br><span class="line">String <span class="keyword">user</span> <span class="operator">=</span> &quot;guanwei&quot;;</span><br><span class="line">String password <span class="operator">=</span> &quot;guanwei&quot;;</span><br><span class="line">Connection conn <span class="operator">=</span> DriverManager.getConnection(url, <span class="keyword">user</span>, password);</span><br><span class="line"><span class="number">4.</span>产生负责<span class="string">&#x27;传递命令&#x27;</span>的‘传令官’对象</span><br><span class="line">String <span class="keyword">sql</span> <span class="operator">=</span> &quot;select * from emp where empState=1&quot;;</span><br><span class="line">PreparedStatement ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line"><span class="number">5.</span>接收结果集(只有查询有结果集)</span><br><span class="line">ResultSet rs <span class="operator">=</span> ps.executeQuery();</span><br><span class="line">while (rs.next()) &#123; <span class="operator">/</span><span class="operator">/</span> 判断是否是空 并移动到下一行</span><br><span class="line">   <span class="operator">/</span><span class="operator">/</span> 这里可以通过columnIndex和columnLable来获取当前列的内容</span><br><span class="line">   <span class="type">int</span> a <span class="operator">=</span> rs.getInt(<span class="number">1</span>);</span><br><span class="line">   String b <span class="operator">=</span> rs.getString(&quot;ename&quot;);</span><br><span class="line">   String c <span class="operator">=</span> rs.getString(<span class="number">3</span>);</span><br><span class="line">   <span class="type">int</span> d <span class="operator">=</span> rs.getInt(<span class="number">4</span>);</span><br><span class="line">   String e <span class="operator">=</span> rs.getString(&quot;hireDate&quot;);</span><br><span class="line">   <span class="keyword">double</span> f <span class="operator">=</span> rs.getDouble(<span class="number">6</span>);</span><br><span class="line">   <span class="keyword">double</span> g <span class="operator">=</span> rs.getDouble(<span class="number">7</span>);</span><br><span class="line">   <span class="type">int</span> h <span class="operator">=</span> rs.getInt(<span class="number">8</span>);</span><br><span class="line">   <span class="type">int</span> i <span class="operator">=</span> rs.getInt(<span class="number">9</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="number">6.</span>关闭连接通道</span><br><span class="line">rs.close();<span class="operator">/</span><span class="operator">/</span>查询有关闭，更新没有</span><br><span class="line">ps.close();</span><br><span class="line">conn.close();</span><br></pre></td></tr></table></div></figure>






        <h5 id="SQL语句中参数传递问题"   >
          <a href="#SQL语句中参数传递问题" class="heading-link"><i class="fas fa-link"></i></a><a href="#SQL语句中参数传递问题" class="headerlink" title="SQL语句中参数传递问题"></a>SQL语句中参数传递问题</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">拼接<span class="keyword">SQL</span>方式传递</span><br><span class="line">简单的说，就是通过字符串之间的拼接来产生一个符合要求的<span class="keyword">SQL</span>语句</span><br><span class="line"></span><br><span class="line">String <span class="keyword">sql</span> <span class="operator">=</span> &quot;insert into emp values(null,&#x27;&quot; <span class="operator">+</span> name <span class="operator">+</span> &quot;&#x27;,&#x27;&quot; <span class="operator">+</span> job <span class="operator">+</span></span><br><span class="line">                    &quot;&#x27;,&#x27;&quot; <span class="operator">+</span> mgr <span class="operator">+</span> &quot;&#x27;,now(),&quot; <span class="operator">+</span> sal <span class="operator">+</span> &quot;,&quot; <span class="operator">+</span> comm <span class="operator">+</span> &quot;,&quot; <span class="operator">+</span> deptNo <span class="operator">+</span> &quot;,1)&quot;;</span><br><span class="line">需要注意的是：拼接方式在传递字符串内容时不要忘记<span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line">占位符方式传递</span><br><span class="line">在<span class="keyword">SQL</span>语句中以?来代表此位置有参数，在执行<span class="keyword">SQL</span>之前需要给?号赋值</span><br><span class="line"></span><br><span class="line">String <span class="keyword">sql</span> <span class="operator">=</span> &quot;insert into emp values(null,?,?,?,now(),?,?,?,1)&quot;;</span><br><span class="line">PreparedStatement ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> 在ps对象产生之后，执行之前 给<span class="keyword">SQL</span>语句中的?(占位符)赋值</span><br><span class="line">ps.setString(<span class="number">1</span>, name);</span><br><span class="line">ps.setString(<span class="number">2</span>, job);</span><br><span class="line">ps.setInt(<span class="number">3</span>, mgr);</span><br><span class="line">ps.setDouble(<span class="number">4</span>, sal);</span><br><span class="line">ps.setDouble(<span class="number">5</span>, comm);</span><br><span class="line">ps.setInt(<span class="number">6</span>, deptNo);</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> 执行<span class="keyword">SQL</span>语句</span><br><span class="line">ps.executeUpdate();</span><br><span class="line">使用占位符方式好处有：可以有效避免<span class="keyword">SQL</span>注入问题,自动根据赋值时的数据类型来决定是否引入<span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></div></figure>




        <h2 id="7-21晚总结"   >
          <a href="#7-21晚总结" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-21晚总结" class="headerlink" title="7-21晚总结"></a>7-21晚总结</h2>
      
        <h3 id="JDBC面向对象-（比较复杂多敲多练）"   >
          <a href="#JDBC面向对象-（比较复杂多敲多练）" class="heading-link"><i class="fas fa-link"></i></a><a href="#JDBC面向对象-（比较复杂多敲多练）" class="headerlink" title="JDBC面向对象 （比较复杂多敲多练）"></a>JDBC面向对象 （比较复杂多敲多练）</h3>
      
        <h4 id="–-基础部分"   >
          <a href="#–-基础部分" class="heading-link"><i class="fas fa-link"></i></a><a href="#–-基础部分" class="headerlink" title="– 基础部分"></a>– 基础部分</h4>
      
        <h5 id="bea包"   >
          <a href="#bea包" class="heading-link"><i class="fas fa-link"></i></a><a href="#bea包" class="headerlink" title="bea包"></a>bea包</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">package org.example.repeatpack0721.bean;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>一般和连接的数据库中的表对应，bean包中类名一般和表名相同，首字母大写，驼峰</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>模拟emp表</span><br><span class="line">import lombok.AllArgsConstructor;</span><br><span class="line">import lombok.Data;</span><br><span class="line">import lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>这里需要一个lombok插件 <span class="comment">-- 在pom.xml中添加下载</span></span><br><span class="line"><span class="variable">@Data</span> <span class="operator">/</span><span class="operator">/</span> 自动生成 getter 和setter 方法 ， 重写toString方法</span><br><span class="line"><span class="variable">@NoArgsConstructor</span> <span class="operator">/</span><span class="operator">/</span> 自动生成无参构造器</span><br><span class="line"><span class="variable">@AllArgsConstructor</span> <span class="operator">/</span><span class="operator">/</span> 自动生成全参构造器</span><br><span class="line">public class Emp &#123;</span><br><span class="line">    private <span class="type">Integer</span> empno;</span><br><span class="line">    private String ename;</span><br><span class="line">    private String job ;</span><br><span class="line">    private <span class="type">Integer</span> mgr ;</span><br><span class="line">    private String hiredate;</span><br><span class="line">    private <span class="keyword">Double</span> sal ;</span><br><span class="line">    private <span class="keyword">Double</span> comm;</span><br><span class="line">    private <span class="type">Integer</span> deptno;</span><br><span class="line">    private String empsate;</span><br><span class="line"></span><br><span class="line">    public Emp(String ename, String job, <span class="type">Integer</span> mgr, <span class="keyword">Double</span> sal, <span class="keyword">Double</span> comm, <span class="type">Integer</span> deptno) &#123;</span><br><span class="line">        this.ename <span class="operator">=</span> ename;</span><br><span class="line">        this.job <span class="operator">=</span> job;</span><br><span class="line">        this.mgr <span class="operator">=</span> mgr;</span><br><span class="line">        this.sal <span class="operator">=</span> sal;</span><br><span class="line">        this.comm <span class="operator">=</span> comm;</span><br><span class="line">        this.deptno <span class="operator">=</span> deptno;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>




        <h5 id="dao包"   >
          <a href="#dao包" class="heading-link"><i class="fas fa-link"></i></a><a href="#dao包" class="headerlink" title="dao包"></a>dao包</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br></pre></td><td class="code"><pre><span class="line">package org.example.repeatpack0721.dao;</span><br><span class="line"></span><br><span class="line">import org.example.repeatpack0721.bean.Emp;</span><br><span class="line">import org.example.repeatpack0721.db.DBManager;</span><br><span class="line"></span><br><span class="line">import java.sql.<span class="operator">*</span>;</span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>DAO是Data Access Object数据访问接口，一般以bean包的类名为前缀，以DAO结尾，负责执行CRUD操作，一个dao类负责一个表的CRUD，也可以说成是对一个bean类的CRUD（增删改查）。</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> 应该将所有对数据源的访问操作抽象封装在一个公共API中。</span><br><span class="line">public class EmpDAO &#123;</span><br><span class="line">   private Connection conn;</span><br><span class="line">   private PreparedStatement ps;</span><br><span class="line">   private ResultSet rs;</span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>插入数据</span><br><span class="line">    public void  <span class="keyword">add</span>(Emp emp)&#123;  <span class="operator">/</span><span class="operator">/</span>方法名要小写</span><br><span class="line">        conn <span class="operator">=</span> DBManager.getConnection(); <span class="operator">/</span><span class="operator">/</span>静态方法通过类名调用 连接方法</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span>&quot;insert into emp values(null,?,?,?,now(),?,?,?,1)&quot;; <span class="operator">/</span><span class="operator">/</span><span class="keyword">SQL</span>语句</span><br><span class="line">        try &#123;</span><br><span class="line">            ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>); <span class="operator">/</span><span class="operator">/</span>传令官</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>给?赋值</span><br><span class="line">            ps.setString(<span class="number">1</span>,emp.getEname());</span><br><span class="line">            ps.setString(<span class="number">2</span>,emp.getJob());</span><br><span class="line">            ps.setInt(<span class="number">3</span>,emp.getMgr());</span><br><span class="line">            ps.setDouble(<span class="number">4</span>,emp.getSal());</span><br><span class="line">            ps.setDouble(<span class="number">5</span>,emp.getComm());</span><br><span class="line">            ps.setInt(<span class="number">6</span>,emp.getDeptno());</span><br><span class="line">            ps.executeUpdate();<span class="operator">/</span><span class="operator">/</span>执行</span><br><span class="line">        &#125; catch (<span class="keyword">SQLException</span> throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            DBManager.closeConn(conn,ps,<span class="keyword">null</span>); <span class="operator">/</span><span class="operator">/</span>静态方法通过类名调用 <span class="comment">--关闭方法</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;  <span class="operator">/</span><span class="operator">/</span>写完去APP测试类测试一下</span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span> 删除数据</span><br><span class="line">    public void remove(<span class="type">int</span> empno)&#123;</span><br><span class="line">        conn <span class="operator">=</span> DBManager.getConnection();</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;update emp set empstate=0 where empno=?&quot;;</span><br><span class="line">        try &#123;</span><br><span class="line">            ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">            ps.setInt(<span class="number">1</span>,empno);</span><br><span class="line">            ps.executeUpdate();</span><br><span class="line">        &#125; catch (<span class="keyword">SQLException</span> throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            DBManager.closeConn(conn,ps,<span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span> 修改数据</span><br><span class="line">    public void <span class="keyword">update</span>(Emp emp)&#123;</span><br><span class="line">        conn<span class="operator">=</span> DBManager.getConnection();</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;update emp set ename=? ,job=? , mgr=?,sal=? , comm=?,deptno=? where empno=?;&quot;;</span><br><span class="line">        try &#123;</span><br><span class="line">            ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">            ps.setString(<span class="number">1</span>,emp.getEname());</span><br><span class="line">            ps.setString(<span class="number">2</span>,emp.getJob());</span><br><span class="line">            ps.setInt(<span class="number">3</span>,emp.getMgr());</span><br><span class="line">            ps.setDouble(<span class="number">4</span>,emp.getSal());</span><br><span class="line">            ps.setDouble(<span class="number">5</span>,emp.getComm());</span><br><span class="line">            ps.setInt(<span class="number">6</span>,emp.getDeptno());</span><br><span class="line">            ps.setInt(<span class="number">7</span>,emp.getEmpno());</span><br><span class="line">            ps.executeUpdate();</span><br><span class="line">        &#125; catch (<span class="keyword">SQLException</span> throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            DBManager.closeConn(conn,ps,<span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span> 查询数据</span><br><span class="line">    public List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> find()&#123;</span><br><span class="line">        List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> list <span class="operator">=</span> <span class="keyword">new</span> ArrayList<span class="operator">&lt;&gt;</span>();</span><br><span class="line">        conn <span class="operator">=</span> DBManager.getConnection();</span><br><span class="line">        String <span class="keyword">sql</span><span class="operator">=</span>&quot;select * from emp where empstate=1&quot;;</span><br><span class="line">        try &#123;</span><br><span class="line">            ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">            rs <span class="operator">=</span> ps.executeQuery();</span><br><span class="line">            while (rs.next())&#123;</span><br><span class="line">                <span class="operator">/</span><span class="operator">/</span> 将数据库返回的表转换成集合</span><br><span class="line">                <span class="operator">/</span><span class="operator">/</span>先拿到数据</span><br><span class="line">                <span class="type">int</span> empno <span class="operator">=</span> rs.getInt(<span class="number">1</span>);</span><br><span class="line">                String ename <span class="operator">=</span> rs.getString(<span class="number">2</span>);</span><br><span class="line">                String job <span class="operator">=</span> rs.getString(<span class="number">3</span>);</span><br><span class="line">                <span class="type">int</span> mgr <span class="operator">=</span> rs.getInt(<span class="number">4</span>);</span><br><span class="line">                String hiredate <span class="operator">=</span> rs.getString(<span class="number">5</span>);</span><br><span class="line">                <span class="keyword">double</span> sal <span class="operator">=</span> rs.getDouble(<span class="number">6</span>);</span><br><span class="line">                <span class="keyword">double</span> comm <span class="operator">=</span> rs.getDouble(<span class="number">7</span>);</span><br><span class="line">                <span class="type">int</span> deptno <span class="operator">=</span> rs.getInt(<span class="number">8</span>);</span><br><span class="line">                <span class="operator">/</span><span class="operator">/</span>封装起来</span><br><span class="line">                Emp emp <span class="operator">=</span> <span class="keyword">new</span> Emp(empno,ename,job,mgr,hiredate,sal,comm,deptno,&quot;1&quot;);</span><br><span class="line">                list.add(emp);<span class="operator">/</span><span class="operator">/</span>放到集合中</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (<span class="keyword">SQLException</span> throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            DBManager.closeConn(conn,ps,rs);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></div></figure>




        <h5 id="db包"   >
          <a href="#db包" class="heading-link"><i class="fas fa-link"></i></a><a href="#db包" class="headerlink" title="db包"></a>db包</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">package org.example.repeatpack0721.db;</span><br><span class="line"></span><br><span class="line">import java.sql.<span class="operator">*</span>;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>db包中只需要一个类用于管理Java与数据库之间的连接 <span class="comment">-- 类中定义两个方法getConnection()和closeConn() -- 封装起来直接调用即可 不需要重复书写</span></span><br><span class="line">public class DBManager &#123;</span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>连接</span><br><span class="line">    public <span class="keyword">static</span> Connection getConnection()&#123;</span><br><span class="line">        Connection conn <span class="operator">=</span> <span class="keyword">null</span>;</span><br><span class="line">        try &#123;</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>驱动文件</span><br><span class="line">            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>连接数据库<span class="comment">---三个参数</span></span><br><span class="line">            String url <span class="operator">=</span> &quot;jdbc:mysql://localhost:3306/mysql_text_first?serverTimezone=Asia/Shanghai&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&quot;;</span><br><span class="line">            String <span class="keyword">user</span> <span class="operator">=</span> &quot;root&quot;;</span><br><span class="line">            String password <span class="operator">=</span>&quot;guanwei&quot;;</span><br><span class="line">            conn <span class="operator">=</span> DriverManager.getConnection(url,<span class="keyword">user</span>,password);</span><br><span class="line">        &#125; catch (ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; catch (<span class="keyword">SQLException</span> e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> conn;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>关闭 <span class="comment">--- 传三个参数</span></span><br><span class="line">    public <span class="keyword">static</span> void closeConn(Connection conn, PreparedStatement ps, ResultSet rs)&#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            if(rs<span class="operator">!=</span><span class="keyword">null</span>)&#123;</span><br><span class="line">                rs.close();</span><br><span class="line">            &#125;</span><br><span class="line">            conn.close();</span><br><span class="line">            ps.close();</span><br><span class="line">        &#125; catch (<span class="keyword">SQLException</span> e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line">package org.example.repeatpack0721;</span><br><span class="line"></span><br><span class="line">import org.example.repeatpack0721.bean.Emp;</span><br><span class="line">import org.example.repeatpack0721.dao.EmpDAO;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 测试类  */</span></span><br><span class="line">public class APP &#123;</span><br><span class="line">    private <span class="keyword">static</span> Scanner scan <span class="operator">=</span><span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">    private <span class="keyword">static</span> EmpDAO edao <span class="operator">=</span> <span class="keyword">new</span> EmpDAO();</span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>插入数据</span><br><span class="line">    public <span class="keyword">static</span> void i()&#123;</span><br><span class="line">        System.out.print(&quot;请输入姓名：&quot;);</span><br><span class="line">        String ename <span class="operator">=</span> scan.next();</span><br><span class="line">        System.out.print(&quot;请输入职业：&quot;);</span><br><span class="line">        String job <span class="operator">=</span> scan.next();</span><br><span class="line">        System.out.print(&quot;请输入上司编号：&quot;);</span><br><span class="line">        <span class="type">int</span> mgr <span class="operator">=</span> scan.nextInt();</span><br><span class="line">        System.out.print(&quot;请输入工资：&quot;);</span><br><span class="line">        <span class="keyword">Double</span> sal <span class="operator">=</span> scan.nextDouble();</span><br><span class="line">        System.out.print(&quot;请输入奖金：&quot;);</span><br><span class="line">        <span class="keyword">double</span> comm <span class="operator">=</span> scan.nextDouble();</span><br><span class="line">        System.out.print(&quot;请输入部门编号：&quot;);</span><br><span class="line">        <span class="type">int</span> deptno <span class="operator">=</span> scan.nextInt();</span><br><span class="line"></span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>封装输入的数据</span><br><span class="line">        Emp emp <span class="operator">=</span> <span class="keyword">new</span> Emp(ename,job,mgr,sal,comm,deptno); <span class="operator">/</span><span class="operator">/</span>没有六个参数的构造方法需要去Emp声明一个</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>调用EmpDAO中的插入方法 ， 把封装好的参数传给<span class="keyword">add</span>()方法</span><br><span class="line">        edao.add(emp);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> 删除数据</span><br><span class="line">    public <span class="keyword">static</span> void r()&#123;</span><br><span class="line">        System.out.print(&quot;请输入要删除的编号：&quot;);</span><br><span class="line">        <span class="type">int</span> empno <span class="operator">=</span> scan.nextInt();</span><br><span class="line">        edao.remove(empno);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span> 修改数据</span><br><span class="line">    public <span class="keyword">static</span> void up()&#123;</span><br><span class="line">        System.out.print(&quot;请输入姓名：&quot;);</span><br><span class="line">        String ename <span class="operator">=</span> scan.next();</span><br><span class="line">        System.out.print(&quot;请输入职业：&quot;);</span><br><span class="line">        String job <span class="operator">=</span> scan.next();</span><br><span class="line">        System.out.print(&quot;请输入上司编号：&quot;);</span><br><span class="line">        <span class="type">int</span> mgr <span class="operator">=</span> scan.nextInt();</span><br><span class="line">        System.out.print(&quot;请输入工资：&quot;);</span><br><span class="line">        <span class="keyword">Double</span> sal <span class="operator">=</span> scan.nextDouble();</span><br><span class="line">        System.out.print(&quot;请输入奖金：&quot;);</span><br><span class="line">        <span class="keyword">double</span> comm <span class="operator">=</span> scan.nextDouble();</span><br><span class="line">        System.out.print(&quot;请输入部门编号：&quot;);</span><br><span class="line">        <span class="type">int</span> deptno <span class="operator">=</span> scan.nextInt();</span><br><span class="line">        System.out.println(&quot;请输入要修改的编号：&quot;);</span><br><span class="line">        <span class="type">int</span> empno <span class="operator">=</span> scan.nextInt();</span><br><span class="line">        Emp emp <span class="operator">=</span> <span class="keyword">new</span> Emp(ename,job,mgr,sal,comm,deptno);</span><br><span class="line">        emp.setEmpno(empno);</span><br><span class="line">        edao.update(emp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>查询</span><br><span class="line">    public <span class="keyword">static</span> void f()&#123;</span><br><span class="line">        List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> list<span class="operator">=</span>edao.find(); <span class="operator">/</span><span class="operator">/</span>调用方法</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> list.size(); i<span class="operator">+</span><span class="operator">+</span>) &#123; <span class="operator">/</span><span class="operator">/</span> 遍历集合</span><br><span class="line">            Emp emp<span class="operator">=</span>list.get(i);</span><br><span class="line">            System.out.println(emp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public <span class="keyword">static</span> void main(String[] args) &#123;</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>调用方法</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>        i();</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>        r();</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>          up();</span><br><span class="line">        f();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h5 id="老师讲的👇"   >
          <a href="#老师讲的👇" class="heading-link"><i class="fas fa-link"></i></a><a href="#老师讲的👇" class="headerlink" title="(老师讲的👇)"></a>(老师讲的👇)</h5>
      
        <h6 id="（⭐）七个方法：增删改查（全表查询、根据主键id查询、模糊查询、分页查询）"   >
          <a href="#（⭐）七个方法：增删改查（全表查询、根据主键id查询、模糊查询、分页查询）" class="heading-link"><i class="fas fa-link"></i></a><a href="#（⭐）七个方法：增删改查（全表查询、根据主键id查询、模糊查询、分页查询）" class="headerlink" title="（⭐）七个方法：增删改查（全表查询、根据主键id查询、模糊查询、分页查询）"></a>（⭐）七个方法：增删改查（全表查询、根据主键id查询、模糊查询、分页查询）</h6>
      
        <h5 id="bean包"   >
          <a href="#bean包" class="heading-link"><i class="fas fa-link"></i></a><a href="#bean包" class="headerlink" title="bean包"></a>bean包</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">package org.example.pack0721.bean;</span><br><span class="line"></span><br><span class="line">import lombok.AllArgsConstructor;</span><br><span class="line">import lombok.Data;</span><br><span class="line">import lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>下载小辣椒 搜索（lombok）在pom中添加下载</span><br><span class="line"></span><br><span class="line"><span class="variable">@Data</span> <span class="operator">/</span><span class="operator">/</span>自动生成getter和setter 重写toString方法</span><br><span class="line"><span class="variable">@AllArgsConstructor</span> <span class="operator">/</span><span class="operator">/</span>自动生成全参数构造器</span><br><span class="line"><span class="variable">@NoArgsConstructor</span> <span class="operator">/</span><span class="operator">/</span>自动生成无参数构造器</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>封装 一般与数据库中的表对应 (模拟emp表) 一般bean包中的类名与表名相同首字母大写<span class="operator">+</span>驼峰</span><br><span class="line">public class Emp &#123;</span><br><span class="line">    private <span class="type">Integer</span> empno;</span><br><span class="line">    private String ename;</span><br><span class="line">    private String job;</span><br><span class="line">    private <span class="type">Integer</span> mgr;</span><br><span class="line">    private String hiredate;</span><br><span class="line">    private <span class="keyword">Double</span> sal;</span><br><span class="line">    private <span class="keyword">Double</span> comm;</span><br><span class="line">    private <span class="type">Integer</span> deptno;</span><br><span class="line">    private String empstate;</span><br><span class="line"></span><br><span class="line">    public Emp(String ename, String job, <span class="type">Integer</span> mgr, <span class="keyword">Double</span> sal, <span class="keyword">Double</span> comm, <span class="type">Integer</span> deptno) &#123;</span><br><span class="line">        this.ename <span class="operator">=</span> ename;</span><br><span class="line">        this.job <span class="operator">=</span> job;</span><br><span class="line">        this.mgr <span class="operator">=</span> mgr;</span><br><span class="line">        this.sal <span class="operator">=</span> sal;</span><br><span class="line">        this.comm <span class="operator">=</span> comm;</span><br><span class="line">        this.deptno <span class="operator">=</span> deptno;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>




        <h5 id="dao包-1"   >
          <a href="#dao包-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#dao包-1" class="headerlink" title="dao包"></a>dao包</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br></pre></td><td class="code"><pre><span class="line">package org.example.pack0721.dao;</span><br><span class="line"></span><br><span class="line">import org.example.pack0721.bean.Emp;</span><br><span class="line">import org.example.pack0721.db.DBManager;</span><br><span class="line"></span><br><span class="line">import java.sql.Connection;</span><br><span class="line">import java.sql.PreparedStatement;</span><br><span class="line">import java.sql.ResultSet;</span><br><span class="line">import java.sql.SQLException;</span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>对emp表的CRUD操作 <span class="comment">--- 封装到一个类中</span></span><br><span class="line">public class EmpDAO &#123;</span><br><span class="line">    private Connection conn;</span><br><span class="line">    private PreparedStatement ps;</span><br><span class="line">    private ResultSet rs;</span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>添加操作<span class="keyword">insert</span> <span class="comment">---- 方式一①</span></span><br><span class="line">    public void <span class="keyword">add</span>(String ename, String job, <span class="type">int</span> mgr, <span class="keyword">double</span> sal, <span class="keyword">double</span> comm, <span class="type">int</span> deptno) &#123;</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>调用驱动连接方法</span><br><span class="line">        conn <span class="operator">=</span> DBManager.getConnection(); <span class="operator">/</span><span class="operator">/</span>这是局部变量，为了都能使用在外部定义</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span><span class="keyword">SQL</span>语句</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;insert into emp values(null,?,?,?,now(),?,?,?,1)&quot;;</span><br><span class="line">        try &#123;</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>建一个传令官</span><br><span class="line">            ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span> 这里给?赋值</span><br><span class="line">            ps.setString(<span class="number">1</span>, ename);</span><br><span class="line">            ps.setString(<span class="number">2</span>, job);</span><br><span class="line">            ps.setInt(<span class="number">3</span>, mgr);</span><br><span class="line">            ps.setDouble(<span class="number">4</span>, sal);</span><br><span class="line">            ps.setDouble(<span class="number">5</span>, comm);</span><br><span class="line">            ps.setInt(<span class="number">6</span>, deptno);</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>发送到mysql</span><br><span class="line">            ps.executeUpdate();</span><br><span class="line">        &#125; catch (<span class="keyword">SQLException</span> e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>不管咋finally都执行，所以在这调用关闭方法</span><br><span class="line">            DBManager.closeConn(conn, ps, <span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>优化 只传一个参数 <span class="comment">--- 封装类Emp传参 ---- 方式二②</span></span><br><span class="line">    public void <span class="keyword">add</span>(Emp emp) &#123;</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>驱动文件和连接数据库</span><br><span class="line">        conn <span class="operator">=</span> DBManager.getConnection();</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span><span class="keyword">SQL</span>语句</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;insert into emp values(null,?,?,?,now(),?,?,?,1)&quot;;</span><br><span class="line">        try &#123;</span><br><span class="line">            ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span> 这里给?赋值</span><br><span class="line">            ps.setString(<span class="number">1</span>, emp.getEname());</span><br><span class="line">            ps.setString(<span class="number">2</span>, emp.getJob());</span><br><span class="line">            ps.setInt(<span class="number">3</span>, emp.getMgr());</span><br><span class="line">            ps.setDouble(<span class="number">4</span>, emp.getSal());</span><br><span class="line">            ps.setDouble(<span class="number">5</span>, emp.getComm());</span><br><span class="line">            ps.setInt(<span class="number">6</span>, emp.getDeptno());</span><br><span class="line">            ps.executeUpdate();</span><br><span class="line">        &#125; catch (<span class="keyword">SQLException</span> e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            DBManager.closeConn(conn, ps, <span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>删除 <span class="comment">--- 只需主键即可</span></span><br><span class="line">    public void remove(<span class="type">int</span> empno) &#123;</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>调用驱动连接方法</span><br><span class="line">        conn <span class="operator">=</span> DBManager.getConnection();</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span><span class="keyword">SQL</span>语句</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;update emp set empstate=0 where empno=?&quot;;</span><br><span class="line">        try &#123;</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>传令官</span><br><span class="line">            ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">            ps.setInt(<span class="number">1</span>, empno);</span><br><span class="line">            ps.executeUpdate();</span><br><span class="line">        &#125; catch (<span class="keyword">SQLException</span> throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>调用关闭方法</span><br><span class="line">            DBManager.closeConn(conn, ps, <span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>修改 <span class="comment">-- 只需主键即可</span></span><br><span class="line">    public void <span class="keyword">update</span>(Emp emp) &#123;</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;update emp set ename=?,job=?,mgr=?,sal=?,comm=?,deptno=? where empno=?&quot;;</span><br><span class="line">        conn <span class="operator">=</span> DBManager.getConnection();</span><br><span class="line">        try &#123;</span><br><span class="line">            ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>给问号赋值</span><br><span class="line">            ps.setString(<span class="number">1</span>, emp.getEname());</span><br><span class="line">            ps.setString(<span class="number">2</span>, emp.getJob());</span><br><span class="line">            ps.setInt(<span class="number">3</span>, emp.getMgr());</span><br><span class="line">            ps.setDouble(<span class="number">4</span>, emp.getSal());</span><br><span class="line">            ps.setDouble(<span class="number">5</span>, emp.getComm());</span><br><span class="line">            ps.setInt(<span class="number">6</span>, emp.getDeptno());</span><br><span class="line">            ps.setInt(<span class="number">7</span>, emp.getEmpno());</span><br><span class="line">            ps.executeUpdate();</span><br><span class="line">        &#125; catch (<span class="keyword">SQLException</span> e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            DBManager.closeConn(conn, ps, <span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>可以把修改跟添加写到一个方法里 <span class="comment">-- 只要判断empno不为空就执行修改，为空则添加；</span></span><br><span class="line">    public void saveOrUpdate(Emp emp) &#123;</span><br><span class="line">        String <span class="keyword">sql</span>;</span><br><span class="line">        if (emp.getEmpno() <span class="operator">=</span><span class="operator">=</span> <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">sql</span> <span class="operator">=</span> &quot;insert into emp values(null,?,?,?,now(),?,?,?,1)&quot;;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">sql</span> <span class="operator">=</span> &quot;update emp set ename=?,job=?,mgr=?,sal=?,comm=?,deptno=? where empno=?&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">        conn <span class="operator">=</span> DBManager.getConnection();</span><br><span class="line">        try &#123;</span><br><span class="line">            ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>给问号赋值</span><br><span class="line">            ps.setString(<span class="number">1</span>, emp.getEname());</span><br><span class="line">            ps.setString(<span class="number">2</span>, emp.getJob());</span><br><span class="line">            ps.setInt(<span class="number">3</span>, emp.getMgr());</span><br><span class="line">            ps.setDouble(<span class="number">4</span>, emp.getSal());</span><br><span class="line">            ps.setDouble(<span class="number">5</span>, emp.getComm());</span><br><span class="line">            ps.setInt(<span class="number">6</span>, emp.getDeptno());</span><br><span class="line">            if (emp.getEmpno() <span class="operator">!=</span> <span class="number">0</span>) &#123;</span><br><span class="line">                ps.setInt(<span class="number">7</span>, emp.getEmpno());</span><br><span class="line">            &#125;</span><br><span class="line">            ps.executeUpdate();</span><br><span class="line">        &#125; catch (<span class="keyword">SQLException</span> e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            DBManager.closeConn(conn, ps, <span class="keyword">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>查询 <span class="comment">--- 全表查询</span></span><br><span class="line">    public List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> findA() &#123;</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>创建一个集合</span><br><span class="line">        List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> list <span class="operator">=</span> <span class="keyword">new</span> ArrayList<span class="operator">&lt;&gt;</span>();</span><br><span class="line">        conn <span class="operator">=</span> DBManager.getConnection();</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;select * from emp where empstate=1 &quot;;</span><br><span class="line">        try &#123;</span><br><span class="line">            ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">            rs <span class="operator">=</span> ps.executeQuery();</span><br><span class="line">            while (rs.next()) &#123;</span><br><span class="line">                <span class="operator">/</span><span class="operator">/</span> 将数据库返回的表转换成集合</span><br><span class="line">                <span class="type">int</span> empno <span class="operator">=</span> rs.getInt(<span class="number">1</span>);</span><br><span class="line">                String ename <span class="operator">=</span> rs.getString(<span class="number">2</span>);</span><br><span class="line">                String job <span class="operator">=</span> rs.getString(<span class="number">3</span>);</span><br><span class="line">                <span class="type">int</span> mgr <span class="operator">=</span> rs.getInt(<span class="number">4</span>);</span><br><span class="line">                String hiredate <span class="operator">=</span> rs.getString(<span class="number">5</span>);</span><br><span class="line">                <span class="keyword">double</span> sal <span class="operator">=</span> rs.getDouble(<span class="number">6</span>);</span><br><span class="line">                <span class="keyword">double</span> comm <span class="operator">=</span> rs.getDouble(<span class="number">7</span>);</span><br><span class="line">                <span class="type">int</span> deptno <span class="operator">=</span> rs.getInt(<span class="number">8</span>);</span><br><span class="line">                <span class="operator">/</span><span class="operator">/</span> 将查询处理的一行数据封装到一个对象中</span><br><span class="line">                Emp emp <span class="operator">=</span> <span class="keyword">new</span> Emp(empno, ename, job, mgr, hiredate, sal, comm, deptno, &quot;1&quot;);</span><br><span class="line">                <span class="operator">/</span><span class="operator">/</span> 将产生的对象存放到集合中</span><br><span class="line">                list.add(emp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (<span class="keyword">SQLException</span> throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            DBManager.closeConn(conn,ps,rs);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>查询 <span class="comment">--- 根据id返回对象</span></span><br><span class="line">    public Emp findByNo(<span class="type">int</span> empno) &#123;</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;select * from emp where empstate=1 and empno=?&quot;;</span><br><span class="line">        conn <span class="operator">=</span> DBManager.getConnection();</span><br><span class="line">        try &#123;</span><br><span class="line">            ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">            ps.setInt(<span class="number">1</span>, empno);</span><br><span class="line">            rs <span class="operator">=</span> ps.executeQuery();</span><br><span class="line">            if (rs.next()) &#123;</span><br><span class="line">                <span class="operator">/</span><span class="operator">/</span> 将数据库返回的表转换成集合</span><br><span class="line">                <span class="type">int</span> empno1 <span class="operator">=</span> rs.getInt(<span class="number">1</span>);</span><br><span class="line">                String ename <span class="operator">=</span> rs.getString(<span class="number">2</span>);</span><br><span class="line">                String job <span class="operator">=</span> rs.getString(<span class="number">3</span>);</span><br><span class="line">                <span class="type">int</span> mgr <span class="operator">=</span> rs.getInt(<span class="number">4</span>);</span><br><span class="line">                String hireDate <span class="operator">=</span> rs.getString(<span class="number">5</span>);</span><br><span class="line">                <span class="keyword">double</span> sal <span class="operator">=</span> rs.getDouble(<span class="number">6</span>);</span><br><span class="line">                <span class="keyword">double</span> comm <span class="operator">=</span> rs.getDouble(<span class="number">7</span>);</span><br><span class="line">                <span class="type">int</span> deptNo <span class="operator">=</span> rs.getInt(<span class="number">8</span>);</span><br><span class="line">                <span class="operator">/</span><span class="operator">/</span> 将查询处理的一行数据封装到一个对象中</span><br><span class="line">                Emp emp <span class="operator">=</span> <span class="keyword">new</span> Emp(empno1, ename, job, mgr, hireDate, sal, comm, deptNo, &quot;1&quot;);</span><br><span class="line">                <span class="keyword">return</span> emp;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (<span class="keyword">SQLException</span> e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            DBManager.closeConn(conn, ps, rs);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>查询③ <span class="comment">---分页查询</span></span><br><span class="line">    public List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> findB(<span class="type">int</span> <span class="keyword">start</span>, <span class="type">int</span> size) &#123;</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span> 产生了一个集合</span><br><span class="line">        List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> list <span class="operator">=</span> <span class="keyword">new</span> ArrayList<span class="operator">&lt;&gt;</span>();</span><br><span class="line">        conn <span class="operator">=</span> DBManager.getConnection();</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;select * from emp where empstate=1 limit ?,?&quot;;</span><br><span class="line">        try &#123;</span><br><span class="line">            ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">            ps.setInt(<span class="number">1</span>, <span class="keyword">start</span>);</span><br><span class="line">            ps.setInt(<span class="number">2</span>, size);</span><br><span class="line">            rs <span class="operator">=</span> ps.executeQuery();</span><br><span class="line">            while (rs.next()) &#123;</span><br><span class="line">                <span class="operator">/</span><span class="operator">/</span> 将数据库返回的表转换成集合</span><br><span class="line">                <span class="type">int</span> empNo <span class="operator">=</span> rs.getInt(<span class="number">1</span>);</span><br><span class="line">                String ename <span class="operator">=</span> rs.getString(<span class="number">2</span>);</span><br><span class="line">                String job <span class="operator">=</span> rs.getString(<span class="number">3</span>);</span><br><span class="line">                <span class="type">int</span> mgr <span class="operator">=</span> rs.getInt(<span class="number">4</span>);</span><br><span class="line">                String hireDate <span class="operator">=</span> rs.getString(<span class="number">5</span>);</span><br><span class="line">                <span class="keyword">double</span> sal <span class="operator">=</span> rs.getDouble(<span class="number">6</span>);</span><br><span class="line">                <span class="keyword">double</span> comm <span class="operator">=</span> rs.getDouble(<span class="number">7</span>);</span><br><span class="line">                <span class="type">int</span> deptNo <span class="operator">=</span> rs.getInt(<span class="number">8</span>);</span><br><span class="line">                <span class="operator">/</span><span class="operator">/</span> 将查询处理的一行数据封装到一个对象中</span><br><span class="line">                Emp emp <span class="operator">=</span> <span class="keyword">new</span> Emp(empNo, ename, job, mgr, hireDate, sal, comm, deptNo, &quot;1&quot;);</span><br><span class="line">                <span class="operator">/</span><span class="operator">/</span> 将产生的对象存放到集合中</span><br><span class="line">                list.add(emp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (<span class="keyword">SQLException</span> throwables) &#123;</span><br><span class="line">            throwables.printStackTrace();</span><br><span class="line">        &#125; finally &#123;</span><br><span class="line">            DBManager.closeConn(conn, ps, rs);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>查询④ <span class="comment">--- 模糊查询</span></span><br><span class="line">public List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> findD(String name)&#123;</span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span> 产生了一个集合</span><br><span class="line">    List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> list <span class="operator">=</span> <span class="keyword">new</span> ArrayList<span class="operator">&lt;&gt;</span>();</span><br><span class="line">    conn <span class="operator">=</span> DBManager.getConnection();</span><br><span class="line">    String <span class="keyword">sql</span> <span class="operator">=</span> &quot;select * from emp where empstate=1 and ename like ?&quot;;</span><br><span class="line">    try &#123;</span><br><span class="line">        ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">        ps.setString(<span class="number">1</span>,&quot;%&quot;<span class="operator">+</span>name<span class="operator">+</span>&quot;%&quot;);</span><br><span class="line">        rs <span class="operator">=</span> ps.executeQuery();</span><br><span class="line">        while (rs.next()) &#123;</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span> 将数据库返回的表转换成集合</span><br><span class="line">            <span class="type">int</span> empNo <span class="operator">=</span> rs.getInt(<span class="number">1</span>);</span><br><span class="line">            String ename <span class="operator">=</span> rs.getString(<span class="number">2</span>);</span><br><span class="line">            String job <span class="operator">=</span> rs.getString(<span class="number">3</span>);</span><br><span class="line">            <span class="type">int</span> mgr <span class="operator">=</span> rs.getInt(<span class="number">4</span>);</span><br><span class="line">            String hireDate <span class="operator">=</span> rs.getString(<span class="number">5</span>);</span><br><span class="line">            <span class="keyword">double</span> sal <span class="operator">=</span> rs.getDouble(<span class="number">6</span>);</span><br><span class="line">            <span class="keyword">double</span> comm <span class="operator">=</span> rs.getDouble(<span class="number">7</span>);</span><br><span class="line">            <span class="type">int</span> deptNo <span class="operator">=</span> rs.getInt(<span class="number">8</span>);</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span> 将查询处理的一行数据封装到一个对象中</span><br><span class="line">            Emp emp <span class="operator">=</span> <span class="keyword">new</span> Emp(empNo, ename, job, mgr, hireDate, sal, comm, deptNo, &quot;1&quot;);</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span> 将产生的对象存放到集合中</span><br><span class="line">            list.add(emp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; catch (<span class="keyword">SQLException</span> throwables) &#123;</span><br><span class="line">        throwables.printStackTrace();</span><br><span class="line">    &#125; finally &#123;</span><br><span class="line">        DBManager.closeConn(conn, ps, rs);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>




        <h5 id="db包-1"   >
          <a href="#db包-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#db包-1" class="headerlink" title="db包"></a>db包</h5>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">package org.example.pack0721.db;</span><br><span class="line"></span><br><span class="line">import java.sql.<span class="operator">*</span>;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> 负责建立数据库的连接 负责关闭数据库的连接 封装到一个类中直接调用即可</span><br><span class="line">public class DBManager &#123;</span><br><span class="line"></span><br><span class="line">    public <span class="keyword">static</span> Connection getConnection()&#123;</span><br><span class="line">        Connection conn<span class="operator">=</span> <span class="keyword">null</span>;</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            Class.forName(&quot;com.mysql.cj.jdbc.Driver&quot;);</span><br><span class="line">            String url <span class="operator">=</span> &quot;jdbc:mysql://localhost:3306/mysql_text_first?serverTimezone=Asia/Shanghai&amp;useSSL=false&amp;allowPublicKeyRetrieval=true&quot;;</span><br><span class="line">            String <span class="keyword">user</span> <span class="operator">=</span> &quot;root&quot;;</span><br><span class="line">            String password <span class="operator">=</span>&quot;guanwei&quot;;</span><br><span class="line">            conn <span class="operator">=</span> DriverManager.getConnection(url,<span class="keyword">user</span>,password);</span><br><span class="line">        &#125; catch (ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; catch (<span class="keyword">SQLException</span> e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> conn;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public <span class="keyword">static</span> void closeConn(Connection conn, PreparedStatement ps, ResultSet rs)&#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            if(rs<span class="operator">!=</span><span class="keyword">null</span>)&#123;</span><br><span class="line">                rs.close();</span><br><span class="line">            &#125;</span><br><span class="line">            conn.close();</span><br><span class="line">            ps.close();</span><br><span class="line">        &#125; catch (<span class="keyword">SQLException</span> e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line">package org.example.pack0721;</span><br><span class="line"></span><br><span class="line">import org.example.pack0721.bean.Emp;</span><br><span class="line">import org.example.pack0721.dao.EmpDAO;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line">import java.util.Scanner;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*   测试  */</span></span><br><span class="line">public class App &#123;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    //方式一①</span></span><br><span class="line"><span class="comment">    public static void main( String[] args )&#123;</span></span><br><span class="line"><span class="comment">    // SQl的插入</span></span><br><span class="line"><span class="comment">        Scanner scan = new Scanner(System.in);</span></span><br><span class="line"><span class="comment">        System.out.print(&quot;请输入姓名：&quot;);</span></span><br><span class="line"><span class="comment">        String ename = scan.next();</span></span><br><span class="line"><span class="comment">        System.out.print(&quot;请输入职位：&quot;);</span></span><br><span class="line"><span class="comment">        String job = scan.next();</span></span><br><span class="line"><span class="comment">        System.out.print(&quot;请输入上司ID：&quot;);</span></span><br><span class="line"><span class="comment">        int mgr = scan.nextInt();</span></span><br><span class="line"><span class="comment">        System.out.print(&quot;请输入工资：&quot;);</span></span><br><span class="line"><span class="comment">        double sal = scan.nextDouble();</span></span><br><span class="line"><span class="comment">        System.out.print(&quot;请输入奖金：&quot;);</span></span><br><span class="line"><span class="comment">        double comm = scan.nextDouble();</span></span><br><span class="line"><span class="comment">        System.out.print(&quot;请输入部门ID：&quot;);</span></span><br><span class="line"><span class="comment">        int deptno = scan.nextInt();</span></span><br><span class="line"><span class="comment">        EmpDAO edao = new EmpDAO();</span></span><br><span class="line"><span class="comment">        edao.add(ename, job, mgr, sal, comm, deptno); //记得在EmpDaO给问号赋值</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>方式二②</span><br><span class="line">    private <span class="keyword">static</span> Scanner scan <span class="operator">=</span> <span class="keyword">new</span> Scanner(System.in);</span><br><span class="line">    private <span class="keyword">static</span> EmpDAO edao <span class="operator">=</span> <span class="keyword">new</span> EmpDAO();</span><br><span class="line"></span><br><span class="line">    public <span class="keyword">static</span> void i()&#123;  <span class="operator">/</span><span class="operator">/</span> <span class="keyword">SQl</span>的插入</span><br><span class="line">        System.out.print(&quot;请输入姓名：&quot;);</span><br><span class="line">        String ename <span class="operator">=</span> scan.next();</span><br><span class="line">        System.out.print(&quot;请输入职位：&quot;);</span><br><span class="line">        String job <span class="operator">=</span> scan.next();</span><br><span class="line">        System.out.print(&quot;请输入上司ID：&quot;);</span><br><span class="line">        <span class="type">int</span> mgr <span class="operator">=</span> scan.nextInt();</span><br><span class="line">        System.out.print(&quot;请输入工资：&quot;);</span><br><span class="line">        <span class="keyword">double</span> sal <span class="operator">=</span> scan.nextDouble();</span><br><span class="line">        System.out.print(&quot;请输入奖金：&quot;);</span><br><span class="line">        <span class="keyword">double</span> comm <span class="operator">=</span> scan.nextDouble();</span><br><span class="line">        System.out.print(&quot;请输入部门ID：&quot;);</span><br><span class="line">        <span class="type">int</span> deptno <span class="operator">=</span> scan.nextInt();</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>把上边写的封装起来</span><br><span class="line">        Emp emp <span class="operator">=</span> <span class="keyword">new</span> Emp(ename,job,mgr,sal,comm,deptno); <span class="operator">/</span><span class="operator">/</span>此时没有六个参数的构造器，需要去Emp中写一个</span><br><span class="line">        edao.add(emp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>删除</span><br><span class="line">    public <span class="keyword">static</span> void r()&#123;</span><br><span class="line">        System.out.println(&quot;请输入要删除的编号：&quot;);</span><br><span class="line">        <span class="type">int</span> empno <span class="operator">=</span> scan.nextInt();</span><br><span class="line">        edao.remove(empno);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>修改</span><br><span class="line">    public <span class="keyword">static</span> void up()&#123;</span><br><span class="line">        System.out.print(&quot;请输入姓名：&quot;);</span><br><span class="line">        String ename <span class="operator">=</span> scan.next();</span><br><span class="line">        System.out.print(&quot;请输入职位：&quot;);</span><br><span class="line">        String job <span class="operator">=</span> scan.next();</span><br><span class="line">        System.out.print(&quot;请输入上司ID：&quot;);</span><br><span class="line">        <span class="type">int</span> mgr <span class="operator">=</span> scan.nextInt();</span><br><span class="line">        System.out.print(&quot;请输入工资：&quot;);</span><br><span class="line">        <span class="keyword">double</span> sal <span class="operator">=</span> scan.nextDouble();</span><br><span class="line">        System.out.print(&quot;请输入奖金：&quot;);</span><br><span class="line">        <span class="keyword">double</span> comm <span class="operator">=</span> scan.nextDouble();</span><br><span class="line">        System.out.print(&quot;请输入部门ID：&quot;);</span><br><span class="line">        <span class="type">int</span> deptno <span class="operator">=</span> scan.nextInt();</span><br><span class="line">        System.out.println(&quot;请输入要修改的编号：&quot;);</span><br><span class="line">        <span class="type">int</span> empno <span class="operator">=</span> scan.nextInt();</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>把上边写的封装起来</span><br><span class="line">        Emp emp <span class="operator">=</span> <span class="keyword">new</span> Emp(ename,job,mgr,sal,comm,deptno);</span><br><span class="line">        emp.setEmpno(empno);</span><br><span class="line">        edao.update(emp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>修改和添加一起</span><br><span class="line">    public <span class="keyword">static</span> void su()&#123;</span><br><span class="line">        System.out.print(&quot;请输入姓名：&quot;);</span><br><span class="line">        String ename <span class="operator">=</span> scan.next();</span><br><span class="line">        System.out.print(&quot;请输入职位：&quot;);</span><br><span class="line">        String job <span class="operator">=</span> scan.next();</span><br><span class="line">        System.out.print(&quot;请输入上司ID：&quot;);</span><br><span class="line">        <span class="type">int</span> mgr <span class="operator">=</span> scan.nextInt();</span><br><span class="line">        System.out.print(&quot;请输入工资：&quot;);</span><br><span class="line">        <span class="keyword">double</span> sal <span class="operator">=</span> scan.nextDouble();</span><br><span class="line">        System.out.print(&quot;请输入奖金：&quot;);</span><br><span class="line">        <span class="keyword">double</span> comm <span class="operator">=</span> scan.nextDouble();</span><br><span class="line">        System.out.print(&quot;请输入部门ID：&quot;);</span><br><span class="line">        <span class="type">int</span> deptno <span class="operator">=</span> scan.nextInt();</span><br><span class="line">        System.out.println(&quot;请输入要修改的编号：&quot;);</span><br><span class="line">        <span class="type">int</span> empno <span class="operator">=</span> scan.nextInt();</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>把上边写的封装起来</span><br><span class="line">        Emp emp <span class="operator">=</span> <span class="keyword">new</span> Emp(ename,job,mgr,sal,comm,deptno);</span><br><span class="line">        emp.setEmpno(empno);</span><br><span class="line">        edao.saveOrUpdate(emp);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>查询①</span><br><span class="line">    public <span class="keyword">static</span> void f()&#123;</span><br><span class="line">        List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> list <span class="operator">=</span>edao.findA(); <span class="operator">/</span><span class="operator">/</span> 接收返回结果</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>        遍历集合</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> list.size(); i<span class="operator">+</span><span class="operator">+</span>) &#123;</span><br><span class="line">            Emp emp <span class="operator">=</span> list.get(i); <span class="operator">/</span><span class="operator">/</span>获取遍历结果</span><br><span class="line">            System.out.println(emp);  <span class="operator">/</span><span class="operator">/</span> 输出</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>查询②</span><br><span class="line">    public <span class="keyword">static</span> void f2()&#123;</span><br><span class="line">        Emp emp <span class="operator">=</span> edao.findByNo(<span class="number">7983</span>);</span><br><span class="line">        System.out.println(emp);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>查询③</span><br><span class="line">    public <span class="keyword">static</span> void f3() &#123;</span><br><span class="line">        List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> list <span class="operator">=</span> edao.findB(<span class="number">5</span>,<span class="number">5</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> list.size(); i<span class="operator">+</span><span class="operator">+</span>) &#123;</span><br><span class="line">            Emp emp <span class="operator">=</span> list.get(i);</span><br><span class="line">            System.out.println(emp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>查询④</span><br><span class="line">    public <span class="keyword">static</span> void f4() &#123;</span><br><span class="line">        List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> list <span class="operator">=</span> edao.findD(&quot;张&quot;);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> list.size(); i<span class="operator">+</span><span class="operator">+</span>) &#123;</span><br><span class="line">            Emp emp <span class="operator">=</span> list.get(i);</span><br><span class="line">            System.out.println(emp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public <span class="keyword">static</span> void main( String[] args )&#123;</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>i();</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>r();</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>up();</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>su();</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>f();</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>f2();</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>f3();</span><br><span class="line">        f4();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>








        <h2 id="7-22晚总结"   >
          <a href="#7-22晚总结" class="heading-link"><i class="fas fa-link"></i></a><a href="#7-22晚总结" class="headerlink" title="7-22晚总结"></a>7-22晚总结</h2>
      
        <h3 id="JDBC面向对象-（比较复杂多敲多练）-1"   >
          <a href="#JDBC面向对象-（比较复杂多敲多练）-1" class="heading-link"><i class="fas fa-link"></i></a><a href="#JDBC面向对象-（比较复杂多敲多练）-1" class="headerlink" title="JDBC面向对象 （比较复杂多敲多练）"></a>JDBC面向对象 （比较复杂多敲多练）</h3>
      
        <h4 id="数据连接池"   >
          <a href="#数据连接池" class="heading-link"><i class="fas fa-link"></i></a><a href="#数据连接池" class="headerlink" title="数据连接池"></a>数据连接池</h4>
      <p>在使用开发基于数据库的JDBC操作时，传统的模式基本是按如下步骤：　　</p>
<p>产生Connection对象，建立和数据库的连接<br>执行dao层的对应CRUD方法<br>使用完毕后，断开数据库连接<br>普通的JBDC连接使用DriverManager来获取，每次向数据库建立连接的时候都要将 Connection 加载到内存中，再验证用户名和密码，这样会消耗一定的时间。当需要连接数据库时，就要获取一个Connection，执行完成后再断开连接。</p>
<p>这样的方式将会消耗大量的资源和时间，数据库的连接资源并没有得到很好的重复利用。若同时有几百人甚至几千人在线，频繁的进行数据库连接操作将占用很多的系统资源，严重的甚至会造成服务器的崩溃。</p>
<p>对于每一次连接，使用完后都得断开。否则，如果程序出现异常而未能关闭，将会导致数据库系统中的内存泄漏，最终将导致重启数据库。</p>
<p>开发这种无法控制连接对象数量的方式，系统资源会被毫无顾及的分配出去，如连接过多，也可能导致内存泄漏，服务器崩溃。</p>

        <h5 id="概述"   >
          <a href="#概述" class="heading-link"><i class="fas fa-link"></i></a><a href="#概述" class="headerlink" title="概述"></a>概述</h5>
      <p>数据库连接池<strong>在初始化时将创建一定数量的数据库连接放到连接池中，将数据库连接作为对象存储在内存中，当用户需要访问数据库时，并非建立一个新的连接，而是从连接池中取出一个已建立的空闲连接对象。使用完毕后，用户也并非将连接关闭，而是将连接放回连接池中，以供下一个请求访问使用，它允许应用程序重复使用一个现有的数据库连接，而不是重新建立一个</strong>。</p>
<p>而连接的建立、断开都由连接池自身来管理。</p>
<p>同时，还可以通过设置连接池的参数来控制连接池中的初始连接数、连接的上下限数以及每个连接的最大使用次数、最大空闲时间等等。也可以通过其自身的管理机制来监视数据库连接的数量、使用情况等。 </p>
<p>数据库连接池在初始化时将创建一定数量的数据库连接放到连接池中，这些数据库连接的数量是由最小数据库连接数来设定的。无论这些数据库连接是否被使用，连接池都将一直保证至少拥有这么多的连接数量。连接池的最大数据库连接数量限定了这个连接池能占有的最大连接数，当应用程序向连接池请求的连接数超过最大连接数量时，这些请求将被加入到等待队列中。</p>

        <h5 id="基本概念"   >
          <a href="#基本概念" class="heading-link"><i class="fas fa-link"></i></a><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h5>
      <ol>
<li>最小连接数<br>是连接池一直保持的数据库连接，所以如果应用程序对数据库连接的使用量不大，将会有大量的数据库连接资源被浪费。</li>
<li>最大连接数<br>是连接池能申请的最大连接数，如果数据库连接请求超过此数，后面的数据库连接请求将被加入到等待队列中，这会影响之后的数据库操作。</li>
<li>最小连接数与最大连接数差距<br>最小连接数与最大连接数相差太大，那么最先的连接请求将会获利，之后超过最小连接数量的连接请求等价于建立一个新的数据库连接。不过，这些大于最小连接数的数据库连接在使用完不会马上被释放，它将被放到连接池中等待重复使用或是空闲超时后被释放。</li>
</ol>

        <h5 id="Druid（德鲁伊）数据库连接池"   >
          <a href="#Druid（德鲁伊）数据库连接池" class="heading-link"><i class="fas fa-link"></i></a><a href="#Druid（德鲁伊）数据库连接池" class="headerlink" title="Druid（德鲁伊）数据库连接池"></a>Druid（德鲁伊）数据库连接池</h5>
      <p>Druid是阿里巴巴开源平台上一个数据库连接池实现，它结合了C3P0、DBCP、Proxool等DB池的优点，同时加入了日志监控，可以很好的监控DB池连接和SQL的执行情况，可以说是针对监控而生的DB连接池，可以说是目前最好的连接池之一。</p>

        <h6 id="1-引入jar包"   >
          <a href="#1-引入jar包" class="heading-link"><i class="fas fa-link"></i></a><a href="#1-引入jar包" class="headerlink" title="1.引入jar包"></a>1.引入jar包</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="operator">&lt;</span><span class="operator">!</span><span class="comment">--引入alibaba的druid数据库连接池--&gt;</span></span><br><span class="line"><span class="operator">&lt;</span><span class="operator">!</span><span class="comment">-- https://mvnrepository.com/artifact/com.alibaba/druid --&gt;</span></span><br><span class="line"><span class="operator">&lt;</span>dependency<span class="operator">&gt;</span></span><br><span class="line">  <span class="operator">&lt;</span>groupId<span class="operator">&gt;</span>com.alibaba<span class="operator">&lt;</span><span class="operator">/</span>groupId<span class="operator">&gt;</span></span><br><span class="line">  <span class="operator">&lt;</span>artifactId<span class="operator">&gt;</span>druid<span class="operator">&lt;</span><span class="operator">/</span>artifactId<span class="operator">&gt;</span></span><br><span class="line">  <span class="operator">&lt;</span>version<span class="operator">&gt;</span><span class="number">1.2</span><span class="number">.11</span><span class="operator">&lt;</span><span class="operator">/</span>version<span class="operator">&gt;</span></span><br><span class="line"><span class="operator">&lt;</span><span class="operator">/</span>dependency<span class="operator">&gt;</span></span><br></pre></td></tr></table></div></figure>




        <h6 id="2-通过数据源获取Connection对象-—-在db包中"   >
          <a href="#2-通过数据源获取Connection对象-—-在db包中" class="heading-link"><i class="fas fa-link"></i></a><a href="#2-通过数据源获取Connection对象-—-在db包中" class="headerlink" title="2.通过数据源获取Connection对象 — 在db包中"></a>2.通过数据源获取Connection对象 — 在db包中</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">package org.example.db;</span><br><span class="line"></span><br><span class="line">import com.alibaba.druid.pool.DruidDataSourceFactory;</span><br><span class="line"></span><br><span class="line">import javax.sql.DataSource;</span><br><span class="line">import java.io.InputStream;</span><br><span class="line">import java.sql.Connection;</span><br><span class="line">import java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*数据库连接池*/</span></span><br><span class="line">public class DBManager &#123;</span><br><span class="line">   <span class="comment">/* // 通过阿里的Druid连接数据库的方式</span></span><br><span class="line"><span class="comment">    public static Connection getConnection() throws Exception &#123;</span></span><br><span class="line"><span class="comment">        // 创建一个读取properties文件的类</span></span><br><span class="line"><span class="comment">        Properties properties = new Properties();</span></span><br><span class="line"><span class="comment">        // 通过类加载器的方法读取这个文件</span></span><br><span class="line"><span class="comment">        InputStream in = DBManager.class.getClassLoader().getResourceAsStream(&quot;druid.properties&quot;);</span></span><br><span class="line"><span class="comment">        // 加载这个文件</span></span><br><span class="line"><span class="comment">        properties.load(in);</span></span><br><span class="line"><span class="comment">        // 产生一个数据源</span></span><br><span class="line"><span class="comment">        DataSource dataSource = DruidDataSourceFactory.createDataSource(properties);</span></span><br><span class="line"><span class="comment">        Connection conn = dataSource.getConnection();</span></span><br><span class="line"><span class="comment">        return conn;</span></span><br><span class="line"><span class="comment">    &#125;*/</span></span><br><span class="line"></span><br><span class="line">    private <span class="keyword">static</span> DataSource dataSource ;</span><br><span class="line">     <span class="operator">/</span><span class="operator">/</span> 静态块中不能抛异常</span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>创建一个读取properties 文件的类</span><br><span class="line">            Properties properties <span class="operator">=</span> <span class="keyword">new</span> Properties();</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>通过类加载器的方法读取这个文件</span><br><span class="line">            InputStream <span class="keyword">in</span> <span class="operator">=</span> DBManager.class.getClassLoader().getResourceAsStream(&quot;druid.properties&quot;);</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>加载这个文件</span><br><span class="line">            properties.load(<span class="keyword">in</span>);</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>产生一个数据源</span><br><span class="line">            dataSource <span class="operator">=</span> DruidDataSourceFactory.createDataSource(properties);</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>通过阿里的Druid连接数据库方式  <span class="comment">---- 把其放到static块中，只需加载一次 后边调用直接拿连接即可</span></span><br><span class="line">    public <span class="keyword">static</span> Connection getConnection() throws Exception&#123;</span><br><span class="line"></span><br><span class="line">        Connection conn <span class="operator">=</span> dataSource.getConnection();</span><br><span class="line">        <span class="keyword">return</span> conn ;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>




        <h6 id="3-编写配置文件"   >
          <a href="#3-编写配置文件" class="heading-link"><i class="fas fa-link"></i></a><a href="#3-编写配置文件" class="headerlink" title="3.编写配置文件"></a>3.编写配置文件</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">在main包中建一个resources目录 <span class="comment">-- 在resources目录下建一个druid.properties文件  </span></span><br><span class="line">##编写配置文件</span><br><span class="line">##基本配置</span><br><span class="line">url <span class="operator">=</span>jdbc:mysql:<span class="operator">/</span><span class="operator">/</span>localhost:<span class="number">3306</span><span class="operator">/</span>mysql_text_first?serverTimezone<span class="operator">=</span>Asia<span class="operator">/</span>Shanghai<span class="operator">&amp;</span>useSSL<span class="operator">=</span><span class="literal">false</span><span class="operator">&amp;</span>allowPublicKeyRetrieval<span class="operator">=</span><span class="literal">true</span></span><br><span class="line">username <span class="operator">=</span>root</span><br><span class="line">password <span class="operator">=</span>guanwei</span><br><span class="line">driverClassName <span class="operator">=</span> com.mysql.cj.jdbc.Driver</span><br><span class="line">#连接池的其他选项</span><br><span class="line">#最小连接数</span><br><span class="line">#最大连接数</span><br><span class="line">#堵塞时长两秒</span><br><span class="line">initialSize <span class="operator">=</span> <span class="number">10</span></span><br><span class="line">maxActive <span class="operator">=</span> <span class="number">10</span></span><br><span class="line">maxWait <span class="operator">=</span> <span class="number">2000</span></span><br></pre></td></tr></table></div></figure>


        <h6 id="4、测试"   >
          <a href="#4、测试" class="heading-link"><i class="fas fa-link"></i></a><a href="#4、测试" class="headerlink" title="4、测试"></a>4、测试</h6>
      <p>bean包</p>
<figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">package org.example.bean;</span><br><span class="line"></span><br><span class="line">import lombok.AllArgsConstructor;</span><br><span class="line">import lombok.Data;</span><br><span class="line">import lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"><span class="variable">@Data</span></span><br><span class="line"><span class="variable">@AllArgsConstructor</span></span><br><span class="line"><span class="variable">@NoArgsConstructor</span></span><br><span class="line">public class Dept &#123;</span><br><span class="line">    private <span class="type">Integer</span> deptno;</span><br><span class="line">    private String dname ;</span><br><span class="line">    private String loc;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<p>dao包</p>
<figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">package org.example.dao;</span><br><span class="line"></span><br><span class="line">import org.example.bean.Dept;</span><br><span class="line">import org.example.db.DBManager;</span><br><span class="line"></span><br><span class="line">import java.sql.Connection;</span><br><span class="line">import java.sql.PreparedStatement;</span><br><span class="line">import java.sql.ResultSet;</span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class DeptDAO &#123;</span><br><span class="line"></span><br><span class="line">    private Connection conn ;</span><br><span class="line">    private PreparedStatement ps;</span><br><span class="line">    private ResultSet rs ;</span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>    全表查询</span><br><span class="line">    public List<span class="operator">&lt;</span>Dept<span class="operator">&gt;</span> find()&#123;</span><br><span class="line">        List<span class="operator">&lt;</span>Dept<span class="operator">&gt;</span> list <span class="operator">=</span> <span class="keyword">new</span> ArrayList<span class="operator">&lt;&gt;</span>();</span><br><span class="line">        try &#123;</span><br><span class="line">            conn <span class="operator">=</span> DBManager.getConnection();</span><br><span class="line">            String <span class="keyword">sql</span> <span class="operator">=</span> &quot;select * from dept&quot;;</span><br><span class="line">            ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">            rs <span class="operator">=</span> ps.executeQuery();</span><br><span class="line">            while(rs.next())&#123;</span><br><span class="line">                <span class="type">int</span> deptno <span class="operator">=</span> rs.getInt(<span class="number">1</span>);</span><br><span class="line">                String dname  <span class="operator">=</span> rs.getString(<span class="number">2</span>);</span><br><span class="line">                String loc  <span class="operator">=</span> rs.getString(<span class="number">3</span>);</span><br><span class="line">                Dept dept <span class="operator">=</span> <span class="keyword">new</span> Dept(deptno,dname,loc); <span class="operator">/</span><span class="operator">/</span> 把查询的结果封装</span><br><span class="line">                list.add(dept);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">package org.example;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">import org.example.bean.Dept;</span><br><span class="line">import org.example.dao.DeptDAO;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试类</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">public class App &#123;</span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>创建对象调用方法</span><br><span class="line">    private <span class="keyword">static</span> DeptDAO ddao <span class="operator">=</span> <span class="keyword">new</span> DeptDAO();</span><br><span class="line">    public <span class="keyword">static</span> void  a()&#123;</span><br><span class="line">       List<span class="operator">&lt;</span>Dept<span class="operator">&gt;</span> list <span class="operator">=</span>ddao.find();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> list.size(); i<span class="operator">+</span><span class="operator">+</span>) &#123;</span><br><span class="line">            Dept dept <span class="operator">=</span> list.get(i);</span><br><span class="line">            System.out.println(dept);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public <span class="keyword">static</span> void main(String[] args) &#123;</span><br><span class="line">        a();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>




        <h4 id="多表联查"   >
          <a href="#多表联查" class="heading-link"><i class="fas fa-link"></i></a><a href="#多表联查" class="headerlink" title="多表联查"></a>多表联查</h4>
      
        <h5 id="两种方式"   >
          <a href="#两种方式" class="heading-link"><i class="fas fa-link"></i></a><a href="#两种方式" class="headerlink" title="两种方式"></a>两种方式</h5>
      
        <h6 id="方式二"   >
          <a href="#方式二" class="heading-link"><i class="fas fa-link"></i></a><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">package org.example.pack0722.拼接;</span><br><span class="line"></span><br><span class="line">import org.example.bean.Dept;</span><br><span class="line">import org.example.bean.Emp;</span><br><span class="line">import org.example.db.DBManager;</span><br><span class="line"></span><br><span class="line">import java.sql.Connection;</span><br><span class="line">import java.sql.PreparedStatement;</span><br><span class="line">import java.sql.ResultSet;</span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class EmpDAO &#123;</span><br><span class="line"></span><br><span class="line">    private Connection conn;</span><br><span class="line">    private PreparedStatement ps;</span><br><span class="line">    private ResultSet rs;</span><br><span class="line"></span><br><span class="line">    public List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> find() &#123;</span><br><span class="line">        List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> list <span class="operator">=</span> <span class="keyword">new</span> ArrayList<span class="operator">&lt;&gt;</span>();</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;select * from emp,dept where emp.deptno=dept.deptno and empstate=1&quot;;</span><br><span class="line">        try &#123;</span><br><span class="line">            conn <span class="operator">=</span> DBManager.getConnection();</span><br><span class="line">            ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">            rs <span class="operator">=</span> ps.executeQuery();</span><br><span class="line">            while (rs.next()) &#123;</span><br><span class="line">                <span class="type">int</span> empNo <span class="operator">=</span> rs.getInt(<span class="number">1</span>);</span><br><span class="line">                String ename <span class="operator">=</span> rs.getString(<span class="number">2</span>);</span><br><span class="line">                String job <span class="operator">=</span> rs.getString(<span class="number">3</span>);</span><br><span class="line">                <span class="type">int</span> mgr <span class="operator">=</span> rs.getInt(<span class="number">4</span>);</span><br><span class="line">                String hireDate <span class="operator">=</span> rs.getString(<span class="number">5</span>);</span><br><span class="line">                <span class="keyword">double</span> sal <span class="operator">=</span> rs.getDouble(<span class="number">6</span>);</span><br><span class="line">                <span class="keyword">double</span> comm <span class="operator">=</span> rs.getDouble(<span class="number">7</span>);</span><br><span class="line">                <span class="type">int</span> deptNo <span class="operator">=</span> rs.getInt(<span class="number">8</span>);</span><br><span class="line">                String dname <span class="operator">=</span> rs.getString(<span class="number">11</span>);</span><br><span class="line">                String loc <span class="operator">=</span> rs.getString(<span class="number">12</span>);</span><br><span class="line">                Dept dept <span class="operator">=</span> <span class="keyword">new</span> Dept(deptNo, dname, loc);</span><br><span class="line">                <span class="operator">/</span><span class="operator">/</span> 产生的员工信息中已经包含了部门信息</span><br><span class="line">                Emp emp <span class="operator">=</span> <span class="keyword">new</span> Emp(empNo, ename, job, mgr, hireDate, sal, comm, deptNo, &quot;1&quot;, dept);</span><br><span class="line">                list.add(emp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>


        <h6 id="方式一"   >
          <a href="#方式一" class="heading-link"><i class="fas fa-link"></i></a><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h6>
      <figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br></pre></td><td class="code"><pre><span class="line">package org.example.pack0722.组装.dao;</span><br><span class="line"></span><br><span class="line">import org.example.bean.Dept;</span><br><span class="line">import org.example.db.DBManager;</span><br><span class="line"></span><br><span class="line">import java.sql.Connection;</span><br><span class="line">import java.sql.PreparedStatement;</span><br><span class="line">import java.sql.ResultSet;</span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class DeptDAO &#123;</span><br><span class="line">    private Connection conn;</span><br><span class="line">    private PreparedStatement ps;</span><br><span class="line">    private ResultSet rs;</span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>根据部门id获取到部门信息</span><br><span class="line">    public Dept findByNo(<span class="type">int</span> deptno)&#123;</span><br><span class="line">        try &#123;</span><br><span class="line">            conn <span class="operator">=</span> DBManager.getConnection();</span><br><span class="line">            String <span class="keyword">sql</span> <span class="operator">=</span> &quot;select * from dept where deptno=?&quot;;</span><br><span class="line">            ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">            ps.setInt(<span class="number">1</span>,deptno);</span><br><span class="line">            rs <span class="operator">=</span> ps.executeQuery();</span><br><span class="line">            while(rs.next())&#123;</span><br><span class="line">                String dname  <span class="operator">=</span> rs.getString(<span class="number">2</span>);</span><br><span class="line">                String loc  <span class="operator">=</span> rs.getString(<span class="number">3</span>);</span><br><span class="line">                Dept dept <span class="operator">=</span> <span class="keyword">new</span> Dept(deptno,dname,loc);</span><br><span class="line">                <span class="keyword">return</span> dept;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*2*/</span></span><br><span class="line">    public List<span class="operator">&lt;</span>Dept<span class="operator">&gt;</span> findd()&#123;</span><br><span class="line">        List<span class="operator">&lt;</span>Dept<span class="operator">&gt;</span> list <span class="operator">=</span> <span class="keyword">new</span> ArrayList<span class="operator">&lt;&gt;</span>();</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;select * from dept &quot;;</span><br><span class="line">        try &#123;</span><br><span class="line">            conn <span class="operator">=</span> DBManager.getConnection();</span><br><span class="line">            ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">            rs <span class="operator">=</span> ps.executeQuery();</span><br><span class="line">            while (rs.next())&#123;</span><br><span class="line">                <span class="type">int</span> deptno <span class="operator">=</span> rs.getInt(<span class="number">1</span>);</span><br><span class="line">                String dname  <span class="operator">=</span> rs.getString(<span class="number">2</span>);</span><br><span class="line">                String loc <span class="operator">=</span> rs.getString(<span class="number">3</span>);</span><br><span class="line">                Dept dept <span class="operator">=</span> <span class="keyword">new</span> Dept(deptno,dname,loc);</span><br><span class="line">                list.add(dept);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">package org.example.pack0722.组装.dao;</span><br><span class="line"></span><br><span class="line">import org.example.bean.Emp;</span><br><span class="line">import org.example.db.DBManager;</span><br><span class="line"></span><br><span class="line">import java.sql.Connection;</span><br><span class="line">import java.sql.PreparedStatement;</span><br><span class="line">import java.sql.ResultSet;</span><br><span class="line">import java.util.ArrayList;</span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class EmpDAO &#123;</span><br><span class="line"></span><br><span class="line">    private Connection conn;</span><br><span class="line">    private PreparedStatement ps;</span><br><span class="line">    private ResultSet rs;</span><br><span class="line"></span><br><span class="line">    public List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> finde()&#123;</span><br><span class="line">        List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> list <span class="operator">=</span> <span class="keyword">new</span> ArrayList<span class="operator">&lt;&gt;</span>();</span><br><span class="line">        try &#123;</span><br><span class="line">            conn <span class="operator">=</span> DBManager.getConnection();</span><br><span class="line">            String <span class="keyword">sql</span> <span class="operator">=</span> &quot;select * from emp where empstate=1&quot;;</span><br><span class="line">            ps<span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">            rs <span class="operator">=</span> ps.executeQuery();</span><br><span class="line">            while (rs.next())&#123;</span><br><span class="line">                <span class="type">int</span> empno <span class="operator">=</span> rs.getInt(<span class="number">1</span>);</span><br><span class="line">                String ename <span class="operator">=</span> rs.getString(<span class="number">2</span>);</span><br><span class="line">                String job <span class="operator">=</span> rs.getString(<span class="number">3</span>);</span><br><span class="line">                <span class="type">int</span> mgr <span class="operator">=</span> rs.getInt(<span class="number">4</span>);</span><br><span class="line">                String hiredate <span class="operator">=</span> rs.getString(<span class="number">5</span>);</span><br><span class="line">                <span class="keyword">double</span> sal <span class="operator">=</span> rs.getDouble(<span class="number">6</span>);</span><br><span class="line">                <span class="keyword">double</span> comm <span class="operator">=</span> rs.getDouble(<span class="number">7</span>);</span><br><span class="line">                <span class="type">int</span> deptno <span class="operator">=</span> rs.getInt(<span class="number">8</span>);</span><br><span class="line">                Emp emp <span class="operator">=</span> <span class="keyword">new</span> Emp(empno,ename,job,mgr,hiredate,sal,comm,deptno,&quot;1&quot;);</span><br><span class="line">                list.add(emp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/*2*/</span></span><br><span class="line">    public List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> findBydeptno(<span class="type">int</span> deptno)&#123;</span><br><span class="line">        List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> list <span class="operator">=</span> <span class="keyword">new</span> ArrayList<span class="operator">&lt;&gt;</span>();</span><br><span class="line">        String <span class="keyword">sql</span> <span class="operator">=</span> &quot;select * from emp where empstate=1 and deptno=? &quot;;</span><br><span class="line">        try &#123;</span><br><span class="line">            conn <span class="operator">=</span> DBManager.getConnection();</span><br><span class="line">            ps <span class="operator">=</span> conn.prepareStatement(<span class="keyword">sql</span>);</span><br><span class="line">            ps.setInt(<span class="number">1</span>,deptno);</span><br><span class="line">            rs <span class="operator">=</span> ps.executeQuery();</span><br><span class="line">            while (rs.next())&#123;</span><br><span class="line">                <span class="type">int</span> empno <span class="operator">=</span> rs.getInt(<span class="number">1</span>);</span><br><span class="line">                String ename <span class="operator">=</span> rs.getString(<span class="number">2</span>);</span><br><span class="line">                String job <span class="operator">=</span> rs.getString(<span class="number">3</span>);</span><br><span class="line">                <span class="type">int</span> mgr <span class="operator">=</span> rs.getInt(<span class="number">4</span>);</span><br><span class="line">                String hiredate <span class="operator">=</span> rs.getString(<span class="number">5</span>);</span><br><span class="line">                <span class="keyword">double</span> sal <span class="operator">=</span> rs.getDouble(<span class="number">6</span>);</span><br><span class="line">                <span class="keyword">double</span> comm <span class="operator">=</span> rs.getDouble(<span class="number">7</span>);</span><br><span class="line">                Emp emp <span class="operator">=</span> <span class="keyword">new</span> Emp(empno,ename,job,mgr,hiredate,sal,comm,deptno,&quot;1&quot;);</span><br><span class="line">                list.add(emp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; catch (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line">package org.example.pack0722.组装.service;</span><br><span class="line"></span><br><span class="line">import org.example.bean.Dept;</span><br><span class="line">import org.example.bean.Emp;</span><br><span class="line">import org.example.pack0722.组装.dao.DeptDAO;</span><br><span class="line">import org.example.pack0722.组装.dao.EmpDAO;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class DeptService &#123;</span><br><span class="line">    private DeptDAO ddao;</span><br><span class="line">    private EmpDAO adao;</span><br><span class="line"></span><br><span class="line">    public DeptService() &#123;</span><br><span class="line">        ddao <span class="operator">=</span> <span class="keyword">new</span> DeptDAO();</span><br><span class="line">        adao <span class="operator">=</span> <span class="keyword">new</span> EmpDAO();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public List<span class="operator">&lt;</span>Dept<span class="operator">&gt;</span> find()&#123;</span><br><span class="line">        List<span class="operator">&lt;</span>Dept<span class="operator">&gt;</span> list <span class="operator">=</span> ddao.findd();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span>list.size() ; i<span class="operator">+</span><span class="operator">+</span>) &#123;</span><br><span class="line">            Dept dept <span class="operator">=</span> list.get(i);</span><br><span class="line">            List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> list1<span class="operator">=</span> adao.findBydeptno(dept.getDeptno());</span><br><span class="line">            dept.setEmps(list1);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">package org.example.pack0722.组装.service;</span><br><span class="line"></span><br><span class="line">import org.example.bean.Dept;</span><br><span class="line">import org.example.bean.Emp;</span><br><span class="line">import org.example.pack0722.组装.dao.DeptDAO;</span><br><span class="line">import org.example.pack0722.组装.dao.EmpDAO;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line">public class EmpService &#123;</span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>分别<span class="keyword">new</span>两对象 <span class="comment">--在构造器中</span></span><br><span class="line">    private DeptDAO ddao;</span><br><span class="line">    private EmpDAO edao;</span><br><span class="line">    public EmpService() &#123;</span><br><span class="line">        ddao<span class="operator">=</span><span class="keyword">new</span> DeptDAO();</span><br><span class="line">        edao <span class="operator">=</span> <span class="keyword">new</span> EmpDAO();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="operator">/</span><span class="operator">/</span>拆箱装箱</span><br><span class="line">    public List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> find()&#123;</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span>获取到所有员工信息，但此时没有部门信息</span><br><span class="line">        List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> list <span class="operator">=</span> edao.finde();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> list.size(); i<span class="operator">+</span><span class="operator">+</span>) &#123;</span><br><span class="line">            Emp emp <span class="operator">=</span> list.get(i);</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span>获取这个员工的部门信息</span><br><span class="line">            Dept dept <span class="operator">=</span> ddao.findByNo(emp.getDeptno());</span><br><span class="line">            <span class="operator">/</span><span class="operator">/</span> 将查询出来的部门信息装到了员工信息对象中</span><br><span class="line">            emp.setDept(dept);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>

<figure class="highlight sql"><div class="table-container"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">package org.example.pack0722;</span><br><span class="line"></span><br><span class="line">import org.example.bean.Dept;</span><br><span class="line">import org.example.bean.Emp;</span><br><span class="line">import org.example.pack0722.拼接.EmpDAO;</span><br><span class="line">import org.example.pack0722.组装.service.DeptService;</span><br><span class="line">import org.example.pack0722.组装.service.EmpService;</span><br><span class="line"></span><br><span class="line">import java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*测试类*/</span></span><br><span class="line">public class APP &#123;</span><br><span class="line">    <span class="comment">/*1、目的：根据部门编号查询员工信息</span></span><br><span class="line"><span class="comment">    * 分别封装--模拟两个表 ：Emp , Dept</span></span><br><span class="line"><span class="comment">    * 分别查出两个表的信息 -- DeptDAO (根据部门编号查) EmpDAO</span></span><br><span class="line"><span class="comment">    * 在service包中建一个EmpService类 将两个表的查询结果组装在一起-- 进行拆箱装箱</span></span><br><span class="line"><span class="comment">    * ---- 创建对象调用EmpDAO中的find方法 遍历集合</span></span><br><span class="line"><span class="comment">    * -------获取这个员工的部门信息</span></span><br><span class="line"><span class="comment">    * -- -------调用DeptDAO中的findByNo方法 在emp表中获取部门编号传参，</span></span><br><span class="line"><span class="comment">    *      -----将查询出来的部门信息装到了员工信息对象中</span></span><br><span class="line"><span class="comment">    * -----然后再遍历List&lt;Emp&gt;集合就可以查出结果</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line">    public <span class="keyword">static</span> void a()&#123;</span><br><span class="line">        <span class="operator">/</span><span class="operator">/</span><span class="keyword">new</span> 对象调用方法</span><br><span class="line">        EmpService empService <span class="operator">=</span> <span class="keyword">new</span> EmpService();</span><br><span class="line">        List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> list <span class="operator">=</span> empService.find();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> list.size(); i<span class="operator">+</span><span class="operator">+</span>) &#123;</span><br><span class="line">            System.out.println(list.get(i));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*2、目的：获取所有部门的信息且对应部门的员工信息</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line"></span><br><span class="line">    public <span class="keyword">static</span> void b() &#123;</span><br><span class="line">        DeptService service <span class="operator">=</span> <span class="keyword">new</span> DeptService();</span><br><span class="line">        List<span class="operator">&lt;</span>Dept<span class="operator">&gt;</span> list <span class="operator">=</span> service.find();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> i <span class="operator">=</span> <span class="number">0</span>; i <span class="operator">&lt;</span> list.size(); i<span class="operator">+</span><span class="operator">+</span>) &#123;</span><br><span class="line">            Dept dept <span class="operator">=</span> list.get(i);</span><br><span class="line">            System.out.println(dept.getDeptno()<span class="operator">+</span> &quot;\t&quot; <span class="operator">+</span> dept.getDname() <span class="operator">+</span> &quot;\t&quot; <span class="operator">+</span> dept.getLoc());</span><br><span class="line">            List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> emps <span class="operator">=</span> dept.getEmps();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> j <span class="operator">=</span> <span class="number">0</span>; j <span class="operator">&lt;</span> emps.size(); j<span class="operator">+</span><span class="operator">+</span>) &#123;</span><br><span class="line">                System.out.println(&quot;\t&quot; <span class="operator">+</span> emps.get(j));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public <span class="keyword">static</span> void c() &#123;</span><br><span class="line">        EmpDAO edao <span class="operator">=</span> <span class="keyword">new</span> EmpDAO();</span><br><span class="line">        List<span class="operator">&lt;</span>Emp<span class="operator">&gt;</span> list <span class="operator">=</span> edao.find();</span><br><span class="line">        <span class="keyword">for</span> (Emp emp : list) &#123;</span><br><span class="line">            System.out.println(emp);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    public <span class="keyword">static</span> void main(String[] args) &#123;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>        a();</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span>        b();</span><br><span class="line">        c();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></div></figure>



<p>###<span class="exturl"><a class="exturl__link"   target="_blank" rel="noopener" href="https://gitee.com/laohuiya" >来自劳姐的赞助</a><span class="exturl__icon"><i class="fas fa-external-link-alt"></i></span></span> </p>
</div><footer class="post-footer"><div class="post-ending ending"><div class="ending__text">------ 本文结束，感谢您的阅读 ------</div></div><div class="post-copyright copyright"><div class="copyright-author"><span class="copyright-author__name">本文作者: </span><span class="copyright-author__value"><a href="https://www.yanggroup.cn">小宇</a></span></div><div class="copyright-link"><span class="copyright-link__name">本文链接: </span><span class="copyright-link__value"><a href="https://www.yanggroup.cn/2022/09/26/0716-0722%E6%AF%8F%E6%97%A5%E6%80%BB%E7%BB%93(%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8CJDBC)/">https://www.yanggroup.cn/2022/09/26/0716-0722%E6%AF%8F%E6%97%A5%E6%80%BB%E7%BB%93(%E6%95%B0%E6%8D%AE%E5%BA%93%E5%92%8CJDBC)/</a></span></div><div class="copyright-notice"><span class="copyright-notice__name">版权声明: </span><span class="copyright-notice__value">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" rel="external nofollow" target="_blank">BY-NC-SA</a> 许可协议。转载请注明出处！</span></div></div><nav class="post-paginator paginator"><div class="paginator-prev"><a class="paginator-prev__link" href="/2022/09/26/0725-0730%E6%AF%8F%E6%97%A5%E6%80%BB%E7%BB%93%EF%BC%88servlet%EF%BC%89/"><span class="paginator-prev__icon"><i class="fas fa-angle-left"></i></span><span class="paginator-prev__text">Servlet</span></a></div><div class="paginator-next"><a class="paginator-next__link" href="/2022/09/26/%E8%B6%85%E5%B8%82%E8%AE%A2%E5%8D%95%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F%EF%BC%88smbms%EF%BC%89/"><span class="paginator-prev__text">超市订单管理系统（smbms）</span><span class="paginator-next__icon"><i class="fas fa-angle-right"></i></span></a></div></nav></footer></div></div></div><div class="sidebar-wrap" id="sidebar-wrap"><aside class="sidebar" id="sidebar"><div class="sidebar-nav"><span class="sidebar-nav-toc current">文章目录</span><span class="sidebar-nav-ov">站点概览</span></div><section class="sidebar-toc"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">1.</span> <span class="toc-text">
          什么是数据库</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B8%B8%E7%94%A8%E6%9C%AF%E8%AF%AD"><span class="toc-number">2.</span> <span class="toc-text">
          数据库常用术语</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mysql%E6%95%B0%E6%8D%AE%E5%BA%93%E6%98%AF%E4%BB%80%E4%B9%88"><span class="toc-number">3.</span> <span class="toc-text">
          mysql数据库是什么</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E7%BB%93%E6%9E%84%E5%8C%96%E6%9F%A5%E8%AF%A2%E8%AF%AD%E8%A8%80%EF%BC%8C%E5%85%B6%E7%BB%84%E6%88%90%E9%83%A8%E5%88%86%E6%98%AF%E5%93%AA%E5%9B%9B%E4%B8%AA"><span class="toc-number">4.</span> <span class="toc-text">
          什么是结构化查询语言，其组成部分是哪四个</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">5.</span> <span class="toc-text">
          数据库的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">5.1.</span> <span class="toc-text">
          创建数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">5.2.</span> <span class="toc-text">
          使用数据库</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E6%95%B0%E6%8D%AE%E5%BA%93"><span class="toc-number">5.3.</span> <span class="toc-text">
          删除数据库</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E8%A1%A8%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">6.</span> <span class="toc-text">
          数据库表的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#DDL%E6%93%8D%E4%BD%9C%EF%BC%88%E6%95%B0%E6%8D%AE%E5%AE%9A%E4%B9%89%E8%AF%AD%E8%A8%80%EF%BC%89"><span class="toc-number">6.1.</span> <span class="toc-text">
          DDL操作（数据定义语言）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E8%A1%A8"><span class="toc-number">6.1.1.</span> <span class="toc-text">
          创建表</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A1%A8"><span class="toc-number">6.1.2.</span> <span class="toc-text">
          删除表</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="toc-number">6.1.3.</span> <span class="toc-text">
          修改表结构</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%90%91%E8%A1%A8%E4%B8%AD%E6%8F%92%E5%85%A5%E4%B8%80%E5%88%97"><span class="toc-number">6.1.3.1.</span> <span class="toc-text">
          向表中插入一列</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A1%A8%E4%B8%AD%E7%9A%84%E5%88%97%E5%90%8D%E5%8F%8A%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">6.1.3.2.</span> <span class="toc-text">
          修改表中的列名及数据类型</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E4%B8%80%E4%B8%AA%E9%BB%98%E8%AE%A4%E5%80%BC%E7%BA%A6%E6%9D%9F%E5%92%8C%E4%B8%BA%E7%A9%BA%E7%BA%A6%E6%9D%9F"><span class="toc-number">6.1.3.3.</span> <span class="toc-text">
          设置一个默认值约束和为空约束</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A1%A8%E4%B8%AD%E7%9A%84%E5%88%97"><span class="toc-number">6.1.3.4.</span> <span class="toc-text">
          删除表中的列</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0check-%E7%BA%A6%E6%9D%9F"><span class="toc-number">6.1.3.5.</span> <span class="toc-text">
          添加check 约束</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#DML%E6%93%8D%E4%BD%9C%EF%BC%88%E6%95%B0%E6%8D%AE%E6%93%8D%E7%BA%B5%E8%AF%AD%E8%A8%80DML%EF%BC%89"><span class="toc-number">6.2.</span> <span class="toc-text">
          DML操作（数据操纵语言DML）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%90%91%E8%A1%A8%E4%B8%AD%E6%8F%92%E5%85%A5%E6%95%B0%E6%8D%AE"><span class="toc-number">6.2.1.</span> <span class="toc-text">
          向表中插入数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%A0%E9%99%A4%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">6.2.2.</span> <span class="toc-text">
          删除表中的数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">6.2.3.</span> <span class="toc-text">
          修改表中的数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">7.</span> <span class="toc-text">
          数据库的完整性</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AE%9E%E4%BD%93%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">7.1.</span> <span class="toc-text">
          实体完整性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%9F%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">7.2.</span> <span class="toc-text">
          域完整性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%95%E7%94%A8%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">7.3.</span> <span class="toc-text">
          引用完整性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AE%8C%E6%95%B4%E6%80%A7"><span class="toc-number">7.4.</span> <span class="toc-text">
          自定义完整性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#emp%E8%A1%A8%E4%B8%AD%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">7.5.</span> <span class="toc-text">
          emp表中的数据</span></a></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-17-%E6%99%9A%E6%80%BB%E7%BB%93"><span class="toc-number"></span> <span class="toc-text">
          7-17 晚总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1"><span class="toc-number">1.</span> <span class="toc-text">
          数据库事务</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BA%8B%E5%8A%A1"><span class="toc-number">1.1.</span> <span class="toc-text">
          什么是数据库事务?</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#DQL%E6%93%8D%E4%BD%9C%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">
          DQL操作（重点）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#select%E2%80%94-%E6%9F%A5%E8%AF%A2%E8%AF%AD%E5%8F%A5"><span class="toc-number">2.1.</span> <span class="toc-text">
          select—-查询语句</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1%E3%80%81%E5%85%A8%E8%A1%A8%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.1.1.</span> <span class="toc-text">
          1、全表查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2%E3%80%81%E6%9F%A5%E8%AF%A2%E9%83%A8%E5%88%86%E5%88%97%E7%9A%84%E6%95%B0%E6%8D%AE"><span class="toc-number">2.1.2.</span> <span class="toc-text">
          2、查询部分列的数据</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3%E3%80%81%E7%BB%99%E6%9F%A5%E8%AF%A2%E5%87%BA%E6%9D%A5%E7%9A%84%E5%88%97%E8%B5%B7%E5%88%AB%E5%90%8D"><span class="toc-number">2.1.3.</span> <span class="toc-text">
          3、给查询出来的列起别名</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4%E3%80%81%E9%80%9A%E8%BF%87%E5%85%B3%E7%B3%BB%E8%BF%90%E7%AE%97%E7%AC%A6%E7%AD%9B%E9%80%89%E9%83%A8%E5%88%86%E8%A1%8C%E4%BF%A1%E6%81%AF"><span class="toc-number">2.1.4.</span> <span class="toc-text">
          4、通过关系运算符筛选部分行信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5%E3%80%81%E9%80%9A%E8%BF%87%E9%80%BB%E8%BE%91%E8%BF%90%E7%AE%97%E7%AC%A6%E7%AD%9B%E9%80%89%E9%83%A8%E5%88%86%E8%A1%8C%E4%BF%A1%E6%81%AF"><span class="toc-number">2.1.5.</span> <span class="toc-text">
          5、通过逻辑运算符筛选部分行信息</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#6%E3%80%81%E5%9C%A8%E6%9F%A5%E8%AF%A2%E4%B8%AD%E4%BD%BF%E7%94%A8%E7%AE%97%E6%9C%AF%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.1.6.</span> <span class="toc-text">
          6、在查询中使用算术运算符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#7%E3%80%81%E5%94%AF%E4%B8%80%E6%9F%A5%E8%AF%A2%E2%80%94%E5%8E%BB%E6%8E%89%E9%87%8D%E5%A4%8D%E9%A1%B9%EF%BC%8C%E4%B8%80%E8%88%AC%E9%92%88%E5%AF%B9%E4%B8%8E%E4%B8%80%E5%88%97"><span class="toc-number">2.1.7.</span> <span class="toc-text">
          7、唯一查询—去掉重复项，一般针对与一列</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#8%E3%80%81%E5%B8%B8%E9%87%8F%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.1.8.</span> <span class="toc-text">
          8、常量查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#9%E3%80%81%E7%A9%BA%E6%9F%A5%E8%AF%A2-%E2%80%94-%E4%B8%8Enull%E6%AF%94%E8%BE%83%E8%A6%81%E7%94%A8-is-null-%E8%BF%90%E7%AE%97%E7%AC%A6"><span class="toc-number">2.1.9.</span> <span class="toc-text">
          9、空查询 —-与null比较要用 is null 运算符</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#10%E3%80%81if-%E4%B8%8E-ifnull-%E5%87%BD%E6%95%B0%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">2.1.10.</span> <span class="toc-text">
          10、if 与 ifnull 函数的使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#11%E3%80%81%E8%8C%83%E5%9B%B4%E6%9F%A5%E8%AF%A2-%E2%80%94-between-%E2%80%A6-and-%E2%80%A6"><span class="toc-number">2.1.11.</span> <span class="toc-text">
          11、范围查询 —- between … and …</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#12%E3%80%81%E8%8C%83%E5%9B%B4%E6%9F%A5%E8%AF%A2-%E2%80%94-in-%E5%92%8C-not-in"><span class="toc-number">2.1.12.</span> <span class="toc-text">
          12、范围查询 —- in 和  not in</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#13%E3%80%81%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2-%E2%80%94-like"><span class="toc-number">2.1.13.</span> <span class="toc-text">
          13、模糊查询 — like</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#14%E3%80%81%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2-%E2%80%93-order-by-desc%EF%BC%88%E9%99%8D%E5%BA%8F%EF%BC%89-asc%EF%BC%88%E5%8D%87%E5%BA%8F-%E7%B3%BB%E7%BB%9F%E9%BB%98%E8%AE%A4%E7%9A%84%E5%8F%AF%E4%BB%A5%E4%B8%8D%E5%86%99%EF%BC%89"><span class="toc-number">2.1.14.</span> <span class="toc-text">
          14、排序查询 – order by  desc（降序） asc（升序  系统默认的可以不写）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#15%E3%80%81%E8%81%9A%E5%90%88-%E5%88%86%E7%BB%84%E3%80%81%E7%BB%9F%E8%AE%A1-%E5%87%BD%E6%95%B0%E6%9F%A5%E8%AF%A2-%E2%80%94-max-min-sum-avg-count"><span class="toc-number">2.1.15.</span> <span class="toc-text">
          15、聚合(分组、统计)函数查询 — max min sum avg count</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#16%E3%80%81%E5%88%86%E7%BB%84%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.1.16.</span> <span class="toc-text">
          16、分组查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#17%E3%80%81union%E6%8B%BC%E6%8E%A5%E6%9F%A5%E8%AF%A2-%E2%80%94-union%E4%B8%8D%E4%BC%9A%E6%8B%BC%E6%8E%A5%E9%87%8D%E5%A4%8D%E6%95%B0%E6%8D%AE-%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89"><span class="toc-number">2.1.17.</span> <span class="toc-text">
          17、union拼接查询 — union不会拼接重复数据  （了解）</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#18%E3%80%81%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2-%E2%80%94-limit"><span class="toc-number">2.1.18.</span> <span class="toc-text">
          18、分页查询 — [limit ?,?]</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#19%E3%80%81%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F%E6%9F%A5%E8%AF%A2-%EF%BC%88%E4%BA%86%E8%A7%A3%EF%BC%89-%E4%B8%80%E8%88%AC%E9%83%BD%E4%BD%BF%E7%94%A8%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.1.19.</span> <span class="toc-text">
          19、正则表达式查询 （了解） 一般都使用模糊查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#20%E3%80%81%E5%B8%B8%E7%94%A8%E5%87%BD%E6%95%B0%E6%9F%A5%E8%AF%A2"><span class="toc-number">2.1.20.</span> <span class="toc-text">
          20、常用函数查询</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#20-1%E3%80%81%E6%95%B0%E5%AD%97%E5%87%BD%E6%95%B0"><span class="toc-number">2.1.20.1.</span> <span class="toc-text">
          20-1、数字函数</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#20-2%E3%80%81%E5%AD%97%E7%AC%A6%E4%B8%B2%E5%87%BD%E6%95%B0"><span class="toc-number">2.1.20.2.</span> <span class="toc-text">
          20-2、字符串函数</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#20-3%E3%80%81%E6%97%B6%E9%97%B4%E6%97%A5%E6%9C%9F%E5%87%BD%E6%95%B0"><span class="toc-number">2.1.20.3.</span> <span class="toc-text">
          20-3、时间日期函数</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#20-4%E3%80%81%E7%B3%BB%E7%BB%9F%E5%87%BD%E6%95%B0"><span class="toc-number">2.1.20.4.</span> <span class="toc-text">
          20-4、系统函数</span></a></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-18-%E6%99%9A%E6%80%BB%E7%BB%93"><span class="toc-number"></span> <span class="toc-text">
          7-18 晚总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%ADDQL%E6%93%8D%E4%BD%9C-%EF%BC%88%E9%87%8D%E7%82%B9%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">
          续DQL操作 （重点）</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#21%E3%80%81%E5%AD%90%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.1.</span> <span class="toc-text">
          21、子查询</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#21-1-%E6%A0%87%E4%BA%AE%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%9A"><span class="toc-number">1.0.1.1.</span> <span class="toc-text">
          21.1 标亮子查询：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#21-2-%E5%88%97%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%9Ain%E6%88%96%E8%80%85not-in"><span class="toc-number">1.0.1.2.</span> <span class="toc-text">
          21.2 列子查询：in或者not in</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#21-3%E8%A1%8C%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%9A"><span class="toc-number">1.0.1.3.</span> <span class="toc-text">
          21.3行子查询：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#21-4%E8%A1%A8%E5%AD%90%E6%9F%A5%E8%AF%A2%EF%BC%9A"><span class="toc-number">1.0.1.4.</span> <span class="toc-text">
          21.4表子查询：</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%A4%E4%B8%AA%E5%85%B3%E9%94%AE%E5%AD%97%EF%BC%9Aany-some-all"><span class="toc-number">1.0.1.5.</span> <span class="toc-text">
          两个关键字：any(some)    all</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BB%83%E4%B9%A0"><span class="toc-number">1.0.1.6.</span> <span class="toc-text">
          练习</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#22%E3%80%81%E8%A1%A8%E8%BF%9E%E6%8E%A5%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.2.</span> <span class="toc-text">
          22、表连接查询</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%A4%96%E9%94%AE%EF%BC%88%E5%A4%96%E5%85%B3%E9%94%AE%E5%AD%97-FOREIGN-KEY%EF%BC%89-%E7%BB%B4%E6%8A%A4%E5%85%B3%E7%B3%BB"><span class="toc-number">1.0.2.1.</span> <span class="toc-text">
          外键（外关键字|FOREIGN KEY）:维护关系</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#22-1-1-%E5%86%85%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.0.2.2.</span> <span class="toc-text">
          22.1.1 内连接</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#22-1-2-%E5%A4%96%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.0.2.3.</span> <span class="toc-text">
          22.1.2 外连接</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#22-1-2-%E5%85%A8%E8%A1%A8%E8%BF%9E%E6%8E%A5"><span class="toc-number">1.0.2.4.</span> <span class="toc-text">
          22.1.2 全表连接</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#23%E3%80%81case%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.3.</span> <span class="toc-text">
          23、case查询</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#24%E3%80%81exists%E6%9F%A5%E8%AF%A2"><span class="toc-number">1.0.4.</span> <span class="toc-text">
          24、exists查询</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-19%E6%99%9A%E6%80%BB%E7%BB%93"><span class="toc-number"></span> <span class="toc-text">
          7-19晚总结</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#25%E3%80%81%E7%B4%A2%E5%BC%95"><span class="toc-number">0.0.1.</span> <span class="toc-text">
          25、索引</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%B4%A2%E5%BC%95%E7%9A%84%E5%8E%9F%E7%90%86%EF%BC%88%F0%9F%92%A5%E4%B8%8D%E6%98%AF%E5%BE%88%E4%BC%9A%EF%BC%89"><span class="toc-number">0.0.1.1.</span> <span class="toc-text">
          索引的原理（💥不是很会）</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%99%AE%E9%80%9A%E7%B4%A2%E5%BC%95"><span class="toc-number">0.0.1.2.</span> <span class="toc-text">
          普通索引</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%94%AF%E4%B8%80%E7%B4%A2%E5%BC%95"><span class="toc-number">0.0.1.3.</span> <span class="toc-text">
          唯一索引</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BB%84%E5%90%88%E7%B4%A2%E5%BC%95"><span class="toc-number">0.0.1.4.</span> <span class="toc-text">
          组合索引</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%85%A8%E8%A1%A8%E7%B4%A2%E5%BC%95"><span class="toc-number">0.0.1.5.</span> <span class="toc-text">
          全表索引</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%A9%BA%E9%97%B4%E7%B4%A2%E5%BC%95"><span class="toc-number">0.0.1.6.</span> <span class="toc-text">
          空间索引</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#26%E3%80%81%E5%AD%98%E5%82%A8%E8%BF%87%E7%A8%8B"><span class="toc-number">0.0.2.</span> <span class="toc-text">
          26、存储过程</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%B8%89%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">0.0.2.1.</span> <span class="toc-text">
          三种方式</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#27%E3%80%81%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E5%9F%BA%E7%A1%80-%EF%BC%88%F0%9F%92%A5%E4%B8%8D%E6%98%AF%E5%BE%88%E4%BC%9A%EF%BC%89"><span class="toc-number">0.0.3.</span> <span class="toc-text">
          27、数据库的基础 （💥不是很会）</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BA%86%E8%A7%A3%E8%AE%BE%E8%AE%A1%E6%95%B0%E6%8D%AE%E5%BA%93%E6%AD%A5%E9%AA%A4"><span class="toc-number">0.0.3.1.</span> <span class="toc-text">
          了解设计数据库步骤</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%8E%8C%E6%8F%A1%E5%A6%82%E4%BD%95%E7%BB%98%E5%88%B6%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84E-R%E5%9B%BE"><span class="toc-number">0.0.3.2.</span> <span class="toc-text">
          掌握如何绘制数据库的E-R图</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%90%86%E8%A7%A3%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84%E8%A7%84%E8%8C%83%E5%8C%96%E2%80%94%E2%80%93%E4%B8%89%E5%A4%A7%E8%8C%83%E5%BC%8F"><span class="toc-number">0.0.3.3.</span> <span class="toc-text">
          理解数据库的规范化—–三大范式</span></a></li></ol></li></ol></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#JDBC"><span class="toc-number"></span> <span class="toc-text">
          JDBC</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#7-20%E6%99%9A%E6%80%BB%E7%BB%93"><span class="toc-number"></span> <span class="toc-text">
          7-20晚总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JDBC%E7%9A%84%E6%A6%82%E5%BF%B5"><span class="toc-number">1.</span> <span class="toc-text">
          JDBC的概念</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#JBDC%E7%9A%84%E7%BB%84%E6%88%90%EF%BC%9A%E5%9B%9B%E4%B8%AA%EF%BC%88%E2%AD%90%EF%BC%89"><span class="toc-number">2.</span> <span class="toc-text">
          JBDC的组成：四个（⭐）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A9%B1%E5%8A%A8%E7%AE%A1%E7%90%86"><span class="toc-number">2.1.</span> <span class="toc-text">
          驱动管理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#connection%E6%8E%A5%E5%8F%A3"><span class="toc-number">2.2.</span> <span class="toc-text">
          connection接口</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95"><span class="toc-number">2.2.1.</span> <span class="toc-text">
          常用的方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#statement%E6%8E%A5%E5%8F%A3"><span class="toc-number">2.3.</span> <span class="toc-text">
          statement接口</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E7%9A%84%E6%96%B9%E6%B3%95-1"><span class="toc-number">2.3.1.</span> <span class="toc-text">
          常用的方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#resultset%E6%8E%A5%E5%8F%A3"><span class="toc-number">2.4.</span> <span class="toc-text">
          resultset接口</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">2.4.1.</span> <span class="toc-text">
          常用方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%8F%E6%80%BB%E7%BB%93-%EF%BC%9A"><span class="toc-number">2.5.</span> <span class="toc-text">
          小总结 ：</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#JDBC%E9%9D%A2%E5%90%91%E8%BF%87%E7%A8%8B%E7%9A%84%E5%AE%9E%E7%8E%B0%E6%96%B9%E5%BC%8F-%E2%AD%90"><span class="toc-number">2.5.1.</span> <span class="toc-text">
          JDBC面向过程的实现方式(⭐)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#SQL%E8%AF%AD%E5%8F%A5%E4%B8%AD%E5%8F%82%E6%95%B0%E4%BC%A0%E9%80%92%E9%97%AE%E9%A2%98"><span class="toc-number">2.5.2.</span> <span class="toc-text">
          SQL语句中参数传递问题</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-21%E6%99%9A%E6%80%BB%E7%BB%93"><span class="toc-number"></span> <span class="toc-text">
          7-21晚总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JDBC%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%EF%BC%88%E6%AF%94%E8%BE%83%E5%A4%8D%E6%9D%82%E5%A4%9A%E6%95%B2%E5%A4%9A%E7%BB%83%EF%BC%89"><span class="toc-number">1.</span> <span class="toc-text">
          JDBC面向对象 （比较复杂多敲多练）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E2%80%93-%E5%9F%BA%E7%A1%80%E9%83%A8%E5%88%86"><span class="toc-number">1.1.</span> <span class="toc-text">
          – 基础部分</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#bea%E5%8C%85"><span class="toc-number">1.1.1.</span> <span class="toc-text">
          bea包</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#dao%E5%8C%85"><span class="toc-number">1.1.2.</span> <span class="toc-text">
          dao包</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#db%E5%8C%85"><span class="toc-number">1.1.3.</span> <span class="toc-text">
          db包</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%80%81%E5%B8%88%E8%AE%B2%E7%9A%84%F0%9F%91%87"><span class="toc-number">1.1.4.</span> <span class="toc-text">
          (老师讲的👇)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%EF%BC%88%E2%AD%90%EF%BC%89%E4%B8%83%E4%B8%AA%E6%96%B9%E6%B3%95%EF%BC%9A%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5%EF%BC%88%E5%85%A8%E8%A1%A8%E6%9F%A5%E8%AF%A2%E3%80%81%E6%A0%B9%E6%8D%AE%E4%B8%BB%E9%94%AEid%E6%9F%A5%E8%AF%A2%E3%80%81%E6%A8%A1%E7%B3%8A%E6%9F%A5%E8%AF%A2%E3%80%81%E5%88%86%E9%A1%B5%E6%9F%A5%E8%AF%A2%EF%BC%89"><span class="toc-number">1.1.4.1.</span> <span class="toc-text">
          （⭐）七个方法：增删改查（全表查询、根据主键id查询、模糊查询、分页查询）</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#bean%E5%8C%85"><span class="toc-number">1.1.5.</span> <span class="toc-text">
          bean包</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#dao%E5%8C%85-1"><span class="toc-number">1.1.6.</span> <span class="toc-text">
          dao包</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#db%E5%8C%85-1"><span class="toc-number">1.1.7.</span> <span class="toc-text">
          db包</span></a></li></ol></li></ol></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#7-22%E6%99%9A%E6%80%BB%E7%BB%93"><span class="toc-number"></span> <span class="toc-text">
          7-22晚总结</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#JDBC%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1-%EF%BC%88%E6%AF%94%E8%BE%83%E5%A4%8D%E6%9D%82%E5%A4%9A%E6%95%B2%E5%A4%9A%E7%BB%83%EF%BC%89-1"><span class="toc-number">1.</span> <span class="toc-text">
          JDBC面向对象 （比较复杂多敲多练）</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E8%BF%9E%E6%8E%A5%E6%B1%A0"><span class="toc-number">1.1.</span> <span class="toc-text">
          数据连接池</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.1.1.</span> <span class="toc-text">
          概述</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">1.1.2.</span> <span class="toc-text">
          基本概念</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Druid%EF%BC%88%E5%BE%B7%E9%B2%81%E4%BC%8A%EF%BC%89%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E6%B1%A0"><span class="toc-number">1.1.3.</span> <span class="toc-text">
          Druid（德鲁伊）数据库连接池</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#1-%E5%BC%95%E5%85%A5jar%E5%8C%85"><span class="toc-number">1.1.3.1.</span> <span class="toc-text">
          1.引入jar包</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#2-%E9%80%9A%E8%BF%87%E6%95%B0%E6%8D%AE%E6%BA%90%E8%8E%B7%E5%8F%96Connection%E5%AF%B9%E8%B1%A1-%E2%80%94-%E5%9C%A8db%E5%8C%85%E4%B8%AD"><span class="toc-number">1.1.3.2.</span> <span class="toc-text">
          2.通过数据源获取Connection对象 — 在db包中</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#3-%E7%BC%96%E5%86%99%E9%85%8D%E7%BD%AE%E6%96%87%E4%BB%B6"><span class="toc-number">1.1.3.3.</span> <span class="toc-text">
          3.编写配置文件</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#4%E3%80%81%E6%B5%8B%E8%AF%95"><span class="toc-number">1.1.3.4.</span> <span class="toc-text">
          4、测试</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%9A%E8%A1%A8%E8%81%94%E6%9F%A5"><span class="toc-number">1.2.</span> <span class="toc-text">
          多表联查</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%A4%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">1.2.1.</span> <span class="toc-text">
          两种方式</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%BA%8C"><span class="toc-number">1.2.1.1.</span> <span class="toc-text">
          方式二</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%96%B9%E5%BC%8F%E4%B8%80"><span class="toc-number">1.2.1.2.</span> <span class="toc-text">
          方式一</span></a></li></ol></li></ol></li></ol></li></ol></section><!-- ov = overview--><section class="sidebar-ov hide"><div class="sidebar-ov-author"><div class="sidebar-ov-author__avatar"><img class="sidebar-ov-author__avatar_img" src="/images/icons/11_Chameleon.png" alt="avatar"></div><p class="sidebar-ov-author__text">小宇</p></div><div class="sidebar-ov-social"><a class="sidebar-ov-social-item" href="https://github.com/Undersea-Moon" target="_blank" rel="noopener" data-popover="Github" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-github"></i></span></a><a class="sidebar-ov-social-item" href="https://gitee.com/Undersea_Moon" target="_blank" rel="noopener" data-popover="social.gitee" data-popover-pos="up"><span class="sidebar-ov-social-item__icon">G</span></a><a class="sidebar-ov-social-item" href="https://gitlab.com/Undersea-Moon" target="_blank" rel="noopener" data-popover="social.gitlab" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-gitlab"></i></span></a><a class="sidebar-ov-social-item" href="tencent://message?uin=798382184" target="_blank" rel="noopener" data-popover="social.QQ" data-popover-pos="up"><span class="sidebar-ov-social-item__icon"><i class="fab fa-qq"></i></span></a></div><div class="sidebar-ov-state"><a class="sidebar-ov-state-item sidebar-ov-state-item--posts" href="/archives/"><div class="sidebar-ov-state-item__count">9</div><div class="sidebar-ov-state-item__name">归档</div></a></div><div class="sidebar-ov-cc"><a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.en" target="_blank" rel="noopener" data-popover="知识共享许可协议" data-popover-pos="up"><img src="/images/cc-by-nc-sa.svg"></a></div></section><div class="sidebar-reading"><div class="sidebar-reading-info"><span class="sidebar-reading-info__text">你已阅读了 </span><span class="sidebar-reading-info__num">0</span><span class="sidebar-reading-info__perc">%</span></div><div class="sidebar-reading-line"></div></div></aside></div><div class="clearfix"></div></div></main><footer class="footer" id="footer"><div class="footer-inner"><div><span>Copyright © 2022</span><span class="footer__icon"><i class="fas fa-heart"></i></span><span><a href="https://github.com/Undersea-Moon" rel="noopener" target="_blank">© 小宇</a></span></div><div>Hosted by<a href="https://github.com/Undersea-Moon/myblog" rel="noopener" target="_blank">Github</a></div></div></footer><div class="loading-bar" id="loading-bar"><div class="loading-bar__progress"></div></div><div class="back2top" id="back2top"><span class="back2top__icon"><i class="fas fa-rocket"></i></span></div></div><script src="https://cdn.jsdelivr.net/npm/jquery@v3.4.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@1.5.2/velocity.ui.min.js"></script><script src="/js/utils.js?v=2.7.0"></script><script src="/js/stun-boot.js?v=2.7.0"></script><script src="/js/scroll.js?v=2.7.0"></script><script src="/js/header.js?v=2.7.0"></script><script src="/js/sidebar.js?v=2.7.0"></script></body></html>